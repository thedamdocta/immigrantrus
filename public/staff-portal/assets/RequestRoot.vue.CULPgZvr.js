import{d as Ze,U as jt,b as se,o as I,q as g,t as de,u as c,B as ne,aQ as ua,aR as wa,aS as ca,aT as Ft,aU as qt,aV as da,aW as $t,aX as La,aY as Wa,F as Pe,J as Le,aZ as Ba,K as qe,a_ as Fa,a$ as Ha,b0 as Pt,b1 as fa,aG as aa,V as wt,ax as st,c as re,a2 as Ut,f as O,w as N,$ as ye,e as $,k as Y,x as we,z as ut,Q as je,Z as ae,E as ge,b2 as Ta,D as te,b3 as Ca,S as Ht,M as ie,b4 as Rt,b5 as St,ay as fe,av as sa,L as ot,aI as na,b6 as Ya,a3 as Ct,b7 as nt,I as Ga,T as lt,b8 as Ea,s as zt,r as Yt,b9 as Ja,aP as Ka,aL as pa,ba as ha,bb as Gt,bc as Qa,l as Xa,bd as es,X as ma,Y as va,p as ts,be as as,bf as Ra,bg as ss,bh as ns,bi as rs,aB as ke,bj as is,bk as Jt,bl as os,bm as ls,az as Lt,bn as ya,aN as us}from"./index._i9Oi-Kg.js";import{d as Sa}from"./LibraryIcon.vue.DvVh50TF.js";import{e as Ia,i as cs,C as ds,D as fs}from"./mediaTypes.cUGh7iEN.js";import{i as ga}from"./ScalarAsciiArt.vue.BKTIY37v.js";import{F as ps}from"./fuse.Ch1WBRTM.js";import{g as hs,m as ms}from"./SidebarButton.vue.BbODg-x8.js";import{a as vs,w as Kt}from"./DeleteSidebarListElement.vue.BYxIfb0-.js";import{m as ys,C as Oa}from"./EditSidebarListElement.vue.Dc2XFMLC.js";import{$ as gs}from"./IconSelector.vue.DVsgD8Kh.js";import"./index.Dg3lKJeg.js";import"./clsx.B-dksMZM.js";import"./index.Wb4bzIyB.js";import"./index.BVeNH5zi.js";import"./index.BUCFnM-n.js";import"./index.DEehm0bc.js";import"./index.D4Wp6AEg.js";import"./index.CjrT3HcA.js";import"./index.CWtGfzcb.js";import"./index.D55_0Pbk.js";import"./index.dom.C3-224fz.js";import"./index.DdCAsX36.js";import"./index.ByI_odx6.js";import"./syntax.Dh_7PnPp.js";import"./index.c2V3InAJ.js";import"./default.Cl3hj7Sz.js";import"./index.DOWyBKr8.js";import"./index.COYepv-L.js";import"./index.Dq2i-IQA.js";import"./index.BY3x9OSE.js";import"./index.D13MPiJ5.js";import"./index.C2o2j-tx.js";import"./index.D22iV9cu.js";import"./index.C06_t6vS.js";import"./decode.BDRbQOCM.js";import"./index.bsVAaBS1.js";import"./index.E0wwlW8h.js";import"./index.DWHkiPoB.js";import"./ScalarHotkey.vue.O6yg1oQq.js";import"./ScalarPopover.vue.n-XIlaH0.js";const _s={parse(a){try{return{error:!1,data:JSON.parse(a)}}catch(e){return{error:!0,message:e.message?String(e.message):"Unknown Error"}}}},bs=["aria-pressed"],xs={class:"sr-only"},ks={class:"size-4",fill:"none",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg"},ws={"clip-path":"url(#mask)"},Ts=Ze({__name:"SidebarToggle",setup(a){const{isSidebarOpen:e,toggleSidebarOpen:t}=jt();return(s,n)=>(I(),se("button",{"aria-pressed":c(e),class:"scalar-sidebar-toggle text-c-3 hover:bg-b-2 active:text-c-1 rounded-lg p-2",type:"button",onClick:n[0]||(n[0]=(...r)=>c(t)&&c(t)(...r))},[g("span",xs,de(c(e)?"Hide":"Show")+" sidebar",1),(I(),se("svg",ks,[n[1]||(n[1]=g("defs",null,[g("clipPath",{id:"mask"},[g("path",{"clip-rule":"evenodd",d:"M9 3.2H4c-1.7 0-3 1.3-3 3v11.5c0 1.7 1.3 3 3 3h5V3.2z"})])],-1)),g("g",ws,[g("path",{class:ne(["transition-transform duration-300",c(e)?"translate-x-0":"-translate-x-1/2"]),d:"M1 3.2h8v17.5H1z",fill:"currentColor"},null,2)]),n[2]||(n[2]=g("path",{d:"M20 20.8H4c-1.7 0-3-1.3-3-3V6.2c0-1.7 1.3-3 3-3h16c1.7 0 3 1.3 3 3v11.5c0 1.7-1.3 3-3 3zM9 3.2v17.5",stroke:"currentColor","stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2"},null,-1))]))],8,bs))}}),Cs=a=>{const e=new Set;return a&&["path","query","headers","cookies"].some(t=>{var s,n;return(n=(s=a.parameters)==null?void 0:s[t])==null?void 0:n.some(r=>{r.required&&r.value===""&&e.add(r.key)})}),e},Es={Date:!0,RegExp:!0,String:!0,Number:!0};function ra(a,e,t={cyclesFix:!0},s=[]){var i,l;let n=[];const r=Array.isArray(a);for(const u in a){const d=a[u],p=r?+u:u;if(!(u in e)){n.push({type:"REMOVE",path:[p],oldValue:a[u]});continue}const h=e[u],R=typeof d=="object"&&typeof h=="object"&&Array.isArray(d)===Array.isArray(h);d&&h&&R&&!Es[(l=(i=Object.getPrototypeOf(d))==null?void 0:i.constructor)==null?void 0:l.name]&&(!t.cyclesFix||!s.includes(d))?n.push.apply(n,ra(d,h,t,t.cyclesFix?s.concat([d]):[]).map(b=>(b.path.unshift(p),b))):d!==h&&!(Number.isNaN(d)&&Number.isNaN(h))&&!(R&&(isNaN(d)?d+""==h+"":+d==+h))&&n.push({path:[p],type:"CHANGE",value:h,oldValue:d})}const o=Array.isArray(e);for(const u in e)u in a||n.push({type:"CREATE",path:[o?+u:u],value:e[u]});return n}var W;(function(a){a.assertEqual=n=>n;function e(n){}a.assertIs=e;function t(n){throw new Error}a.assertNever=t,a.arrayToEnum=n=>{const r={};for(const o of n)r[o]=o;return r},a.getValidEnumValues=n=>{const r=a.objectKeys(n).filter(i=>typeof n[n[i]]!="number"),o={};for(const i of r)o[i]=n[i];return a.objectValues(o)},a.objectValues=n=>a.objectKeys(n).map(function(r){return n[r]}),a.objectKeys=typeof Object.keys=="function"?n=>Object.keys(n):n=>{const r=[];for(const o in n)Object.prototype.hasOwnProperty.call(n,o)&&r.push(o);return r},a.find=(n,r)=>{for(const o of n)if(r(o))return o},a.isInteger=typeof Number.isInteger=="function"?n=>Number.isInteger(n):n=>typeof n=="number"&&isFinite(n)&&Math.floor(n)===n;function s(n,r=" | "){return n.map(o=>typeof o=="string"?`'${o}'`:o).join(r)}a.joinValues=s,a.jsonStringifyReplacer=(n,r)=>typeof r=="bigint"?r.toString():r})(W||(W={}));var Qt;(function(a){a.mergeShapes=(e,t)=>({...e,...t})})(Qt||(Qt={}));const _=W.arrayToEnum(["string","nan","number","integer","float","boolean","date","bigint","symbol","function","undefined","null","array","object","unknown","promise","void","never","map","set"]),Ne=a=>{switch(typeof a){case"undefined":return _.undefined;case"string":return _.string;case"number":return isNaN(a)?_.nan:_.number;case"boolean":return _.boolean;case"function":return _.function;case"bigint":return _.bigint;case"symbol":return _.symbol;case"object":return Array.isArray(a)?_.array:a===null?_.null:a.then&&typeof a.then=="function"&&a.catch&&typeof a.catch=="function"?_.promise:typeof Map<"u"&&a instanceof Map?_.map:typeof Set<"u"&&a instanceof Set?_.set:typeof Date<"u"&&a instanceof Date?_.date:_.object;default:return _.unknown}},f=W.arrayToEnum(["invalid_type","invalid_literal","custom","invalid_union","invalid_union_discriminator","invalid_enum_value","unrecognized_keys","invalid_arguments","invalid_return_type","invalid_date","invalid_string","too_small","too_big","invalid_intersection_types","not_multiple_of","not_finite"]),Rs=a=>JSON.stringify(a,null,2).replace(/"([^"]+)":/g,"$1:");class he extends Error{get errors(){return this.issues}constructor(e){super(),this.issues=[],this.addIssue=s=>{this.issues=[...this.issues,s]},this.addIssues=(s=[])=>{this.issues=[...this.issues,...s]};const t=new.target.prototype;Object.setPrototypeOf?Object.setPrototypeOf(this,t):this.__proto__=t,this.name="ZodError",this.issues=e}format(e){const t=e||function(r){return r.message},s={_errors:[]},n=r=>{for(const o of r.issues)if(o.code==="invalid_union")o.unionErrors.map(n);else if(o.code==="invalid_return_type")n(o.returnTypeError);else if(o.code==="invalid_arguments")n(o.argumentsError);else if(o.path.length===0)s._errors.push(t(o));else{let i=s,l=0;for(;l<o.path.length;){const u=o.path[l];l===o.path.length-1?(i[u]=i[u]||{_errors:[]},i[u]._errors.push(t(o))):i[u]=i[u]||{_errors:[]},i=i[u],l++}}};return n(this),s}static assert(e){if(!(e instanceof he))throw new Error(`Not a ZodError: ${e}`)}toString(){return this.message}get message(){return JSON.stringify(this.issues,W.jsonStringifyReplacer,2)}get isEmpty(){return this.issues.length===0}flatten(e=t=>t.message){const t={},s=[];for(const n of this.issues)n.path.length>0?(t[n.path[0]]=t[n.path[0]]||[],t[n.path[0]].push(e(n))):s.push(e(n));return{formErrors:s,fieldErrors:t}}get formErrors(){return this.flatten()}}he.create=a=>new he(a);const et=(a,e)=>{let t;switch(a.code){case f.invalid_type:a.received===_.undefined?t="Required":t=`Expected ${a.expected}, received ${a.received}`;break;case f.invalid_literal:t=`Invalid literal value, expected ${JSON.stringify(a.expected,W.jsonStringifyReplacer)}`;break;case f.unrecognized_keys:t=`Unrecognized key(s) in object: ${W.joinValues(a.keys,", ")}`;break;case f.invalid_union:t="Invalid input";break;case f.invalid_union_discriminator:t=`Invalid discriminator value. Expected ${W.joinValues(a.options)}`;break;case f.invalid_enum_value:t=`Invalid enum value. Expected ${W.joinValues(a.options)}, received '${a.received}'`;break;case f.invalid_arguments:t="Invalid function arguments";break;case f.invalid_return_type:t="Invalid function return type";break;case f.invalid_date:t="Invalid date";break;case f.invalid_string:typeof a.validation=="object"?"includes"in a.validation?(t=`Invalid input: must include "${a.validation.includes}"`,typeof a.validation.position=="number"&&(t=`${t} at one or more positions greater than or equal to ${a.validation.position}`)):"startsWith"in a.validation?t=`Invalid input: must start with "${a.validation.startsWith}"`:"endsWith"in a.validation?t=`Invalid input: must end with "${a.validation.endsWith}"`:W.assertNever(a.validation):a.validation!=="regex"?t=`Invalid ${a.validation}`:t="Invalid";break;case f.too_small:a.type==="array"?t=`Array must contain ${a.exact?"exactly":a.inclusive?"at least":"more than"} ${a.minimum} element(s)`:a.type==="string"?t=`String must contain ${a.exact?"exactly":a.inclusive?"at least":"over"} ${a.minimum} character(s)`:a.type==="number"?t=`Number must be ${a.exact?"exactly equal to ":a.inclusive?"greater than or equal to ":"greater than "}${a.minimum}`:a.type==="date"?t=`Date must be ${a.exact?"exactly equal to ":a.inclusive?"greater than or equal to ":"greater than "}${new Date(Number(a.minimum))}`:t="Invalid input";break;case f.too_big:a.type==="array"?t=`Array must contain ${a.exact?"exactly":a.inclusive?"at most":"less than"} ${a.maximum} element(s)`:a.type==="string"?t=`String must contain ${a.exact?"exactly":a.inclusive?"at most":"under"} ${a.maximum} character(s)`:a.type==="number"?t=`Number must be ${a.exact?"exactly":a.inclusive?"less than or equal to":"less than"} ${a.maximum}`:a.type==="bigint"?t=`BigInt must be ${a.exact?"exactly":a.inclusive?"less than or equal to":"less than"} ${a.maximum}`:a.type==="date"?t=`Date must be ${a.exact?"exactly":a.inclusive?"smaller than or equal to":"smaller than"} ${new Date(Number(a.maximum))}`:t="Invalid input";break;case f.custom:t="Invalid input";break;case f.invalid_intersection_types:t="Intersection results could not be merged";break;case f.not_multiple_of:t=`Number must be a multiple of ${a.multipleOf}`;break;case f.not_finite:t="Number must be finite";break;default:t=e.defaultError,W.assertNever(a)}return{message:t}};let Aa=et;function Ss(a){Aa=a}function It(){return Aa}const Ot=a=>{const{data:e,path:t,errorMaps:s,issueData:n}=a,r=[...t,...n.path||[]],o={...n,path:r};if(n.message!==void 0)return{...n,path:r,message:n.message};let i="";const l=s.filter(u=>!!u).slice().reverse();for(const u of l)i=u(o,{data:e,defaultError:i}).message;return{...n,path:r,message:i}},Is=[];function v(a,e){const t=It(),s=Ot({issueData:e,data:a.data,path:a.path,errorMaps:[a.common.contextualErrorMap,a.schemaErrorMap,t,t===et?void 0:et].filter(n=>!!n)});a.common.issues.push(s)}class oe{constructor(){this.value="valid"}dirty(){this.value==="valid"&&(this.value="dirty")}abort(){this.value!=="aborted"&&(this.value="aborted")}static mergeArray(e,t){const s=[];for(const n of t){if(n.status==="aborted")return Z;n.status==="dirty"&&e.dirty(),s.push(n.value)}return{status:e.value,value:s}}static async mergeObjectAsync(e,t){const s=[];for(const n of t){const r=await n.key,o=await n.value;s.push({key:r,value:o})}return oe.mergeObjectSync(e,s)}static mergeObjectSync(e,t){const s={};for(const n of t){const{key:r,value:o}=n;if(r.status==="aborted"||o.status==="aborted")return Z;r.status==="dirty"&&e.dirty(),o.status==="dirty"&&e.dirty(),r.value!=="__proto__"&&(typeof o.value<"u"||n.alwaysSet)&&(s[r.value]=o.value)}return{status:e.value,value:s}}}const Z=Object.freeze({status:"aborted"}),Qe=a=>({status:"dirty",value:a}),le=a=>({status:"valid",value:a}),Xt=a=>a.status==="aborted",ea=a=>a.status==="dirty",He=a=>a.status==="valid",ct=a=>typeof Promise<"u"&&a instanceof Promise;function At(a,e,t,s){if(typeof e=="function"?a!==e||!0:!e.has(a))throw new TypeError("Cannot read private member from an object whose class did not declare it");return e.get(a)}function Na(a,e,t,s,n){if(typeof e=="function"?a!==e||!0:!e.has(a))throw new TypeError("Cannot write private member to an object whose class did not declare it");return e.set(a,t),t}var S;(function(a){a.errToObj=e=>typeof e=="string"?{message:e}:e||{},a.toString=e=>typeof e=="string"?e:e==null?void 0:e.message})(S||(S={}));var rt,it;class Ce{constructor(e,t,s,n){this._cachedPath=[],this.parent=e,this.data=t,this._path=s,this._key=n}get path(){return this._cachedPath.length||(this._key instanceof Array?this._cachedPath.push(...this._path,...this._key):this._cachedPath.push(...this._path,this._key)),this._cachedPath}}const _a=(a,e)=>{if(He(e))return{success:!0,data:e.value};if(!a.common.issues.length)throw new Error("Validation failed but no issues detected.");return{success:!1,get error(){if(this._error)return this._error;const t=new he(a.common.issues);return this._error=t,this._error}}};function z(a){if(!a)return{};const{errorMap:e,invalid_type_error:t,required_error:s,description:n}=a;if(e&&(t||s))throw new Error(`Can't use "invalid_type_error" or "required_error" in conjunction with custom error map.`);return e?{errorMap:e,description:n}:{errorMap:(o,i)=>{var l,u;const{message:d}=a;return o.code==="invalid_enum_value"?{message:d??i.defaultError}:typeof i.data>"u"?{message:(l=d??s)!==null&&l!==void 0?l:i.defaultError}:o.code!=="invalid_type"?{message:i.defaultError}:{message:(u=d??t)!==null&&u!==void 0?u:i.defaultError}},description:n}}class V{get description(){return this._def.description}_getType(e){return Ne(e.data)}_getOrReturnCtx(e,t){return t||{common:e.parent.common,data:e.data,parsedType:Ne(e.data),schemaErrorMap:this._def.errorMap,path:e.path,parent:e.parent}}_processInputParams(e){return{status:new oe,ctx:{common:e.parent.common,data:e.data,parsedType:Ne(e.data),schemaErrorMap:this._def.errorMap,path:e.path,parent:e.parent}}}_parseSync(e){const t=this._parse(e);if(ct(t))throw new Error("Synchronous parse encountered promise.");return t}_parseAsync(e){const t=this._parse(e);return Promise.resolve(t)}parse(e,t){const s=this.safeParse(e,t);if(s.success)return s.data;throw s.error}safeParse(e,t){var s;const n={common:{issues:[],async:(s=t==null?void 0:t.async)!==null&&s!==void 0?s:!1,contextualErrorMap:t==null?void 0:t.errorMap},path:(t==null?void 0:t.path)||[],schemaErrorMap:this._def.errorMap,parent:null,data:e,parsedType:Ne(e)},r=this._parseSync({data:e,path:n.path,parent:n});return _a(n,r)}"~validate"(e){var t,s;const n={common:{issues:[],async:!!this["~standard"].async},path:[],schemaErrorMap:this._def.errorMap,parent:null,data:e,parsedType:Ne(e)};if(!this["~standard"].async)try{const r=this._parseSync({data:e,path:[],parent:n});return He(r)?{value:r.value}:{issues:n.common.issues}}catch(r){!((s=(t=r==null?void 0:r.message)===null||t===void 0?void 0:t.toLowerCase())===null||s===void 0)&&s.includes("encountered")&&(this["~standard"].async=!0),n.common={issues:[],async:!0}}return this._parseAsync({data:e,path:[],parent:n}).then(r=>He(r)?{value:r.value}:{issues:n.common.issues})}async parseAsync(e,t){const s=await this.safeParseAsync(e,t);if(s.success)return s.data;throw s.error}async safeParseAsync(e,t){const s={common:{issues:[],contextualErrorMap:t==null?void 0:t.errorMap,async:!0},path:(t==null?void 0:t.path)||[],schemaErrorMap:this._def.errorMap,parent:null,data:e,parsedType:Ne(e)},n=this._parse({data:e,path:s.path,parent:s}),r=await(ct(n)?n:Promise.resolve(n));return _a(s,r)}refine(e,t){const s=n=>typeof t=="string"||typeof t>"u"?{message:t}:typeof t=="function"?t(n):t;return this._refinement((n,r)=>{const o=e(n),i=()=>r.addIssue({code:f.custom,...s(n)});return typeof Promise<"u"&&o instanceof Promise?o.then(l=>l?!0:(i(),!1)):o?!0:(i(),!1)})}refinement(e,t){return this._refinement((s,n)=>e(s)?!0:(n.addIssue(typeof t=="function"?t(s,n):t),!1))}_refinement(e){return new xe({schema:this,typeName:M.ZodEffects,effect:{type:"refinement",refinement:e}})}superRefine(e){return this._refinement(e)}constructor(e){this.spa=this.safeParseAsync,this._def=e,this.parse=this.parse.bind(this),this.safeParse=this.safeParse.bind(this),this.parseAsync=this.parseAsync.bind(this),this.safeParseAsync=this.safeParseAsync.bind(this),this.spa=this.spa.bind(this),this.refine=this.refine.bind(this),this.refinement=this.refinement.bind(this),this.superRefine=this.superRefine.bind(this),this.optional=this.optional.bind(this),this.nullable=this.nullable.bind(this),this.nullish=this.nullish.bind(this),this.array=this.array.bind(this),this.promise=this.promise.bind(this),this.or=this.or.bind(this),this.and=this.and.bind(this),this.transform=this.transform.bind(this),this.brand=this.brand.bind(this),this.default=this.default.bind(this),this.catch=this.catch.bind(this),this.describe=this.describe.bind(this),this.pipe=this.pipe.bind(this),this.readonly=this.readonly.bind(this),this.isNullable=this.isNullable.bind(this),this.isOptional=this.isOptional.bind(this),this["~standard"]={version:1,vendor:"zod",validate:t=>this["~validate"](t)}}optional(){return Te.create(this,this._def)}nullable(){return $e.create(this,this._def)}nullish(){return this.nullable().optional()}array(){return be.create(this)}promise(){return at.create(this,this._def)}or(e){return ht.create([this,e],this._def)}and(e){return mt.create(this,e,this._def)}transform(e){return new xe({...z(this._def),schema:this,typeName:M.ZodEffects,effect:{type:"transform",transform:e}})}default(e){const t=typeof e=="function"?e:()=>e;return new bt({...z(this._def),innerType:this,defaultValue:t,typeName:M.ZodDefault})}brand(){return new ia({typeName:M.ZodBranded,type:this,...z(this._def)})}catch(e){const t=typeof e=="function"?e:()=>e;return new xt({...z(this._def),innerType:this,catchValue:t,typeName:M.ZodCatch})}describe(e){const t=this.constructor;return new t({...this._def,description:e})}pipe(e){return Tt.create(this,e)}readonly(){return kt.create(this)}isOptional(){return this.safeParse(void 0).success}isNullable(){return this.safeParse(null).success}}const Os=/^c[^\s-]{8,}$/i,As=/^[0-9a-z]+$/,Ns=/^[0-9A-HJKMNP-TV-Z]{26}$/i,Ms=/^[0-9a-fA-F]{8}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{12}$/i,Zs=/^[a-z0-9_-]{21}$/i,Ds=/^[A-Za-z0-9-_]+\.[A-Za-z0-9-_]+\.[A-Za-z0-9-_]*$/,js=/^[-+]?P(?!$)(?:(?:[-+]?\d+Y)|(?:[-+]?\d+[.,]\d+Y$))?(?:(?:[-+]?\d+M)|(?:[-+]?\d+[.,]\d+M$))?(?:(?:[-+]?\d+W)|(?:[-+]?\d+[.,]\d+W$))?(?:(?:[-+]?\d+D)|(?:[-+]?\d+[.,]\d+D$))?(?:T(?=[\d+-])(?:(?:[-+]?\d+H)|(?:[-+]?\d+[.,]\d+H$))?(?:(?:[-+]?\d+M)|(?:[-+]?\d+[.,]\d+M$))?(?:[-+]?\d+(?:[.,]\d+)?S)?)??$/,qs=/^(?!\.)(?!.*\.\.)([A-Z0-9_'+\-\.]*)[A-Z0-9_+-]@([A-Z0-9][A-Z0-9\-]*\.)+[A-Z]{2,}$/i,Us="^(\\p{Extended_Pictographic}|\\p{Emoji_Component})+$";let Wt;const zs=/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])$/,Vs=/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\/(3[0-2]|[12]?[0-9])$/,$s=/^(([0-9a-fA-F]{1,4}:){7,7}[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,7}:|([0-9a-fA-F]{1,4}:){1,6}:[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,5}(:[0-9a-fA-F]{1,4}){1,2}|([0-9a-fA-F]{1,4}:){1,4}(:[0-9a-fA-F]{1,4}){1,3}|([0-9a-fA-F]{1,4}:){1,3}(:[0-9a-fA-F]{1,4}){1,4}|([0-9a-fA-F]{1,4}:){1,2}(:[0-9a-fA-F]{1,4}){1,5}|[0-9a-fA-F]{1,4}:((:[0-9a-fA-F]{1,4}){1,6})|:((:[0-9a-fA-F]{1,4}){1,7}|:)|fe80:(:[0-9a-fA-F]{0,4}){0,4}%[0-9a-zA-Z]{1,}|::(ffff(:0{1,4}){0,1}:){0,1}((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])|([0-9a-fA-F]{1,4}:){1,4}:((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9]))$/,Ps=/^(([0-9a-fA-F]{1,4}:){7,7}[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,7}:|([0-9a-fA-F]{1,4}:){1,6}:[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,5}(:[0-9a-fA-F]{1,4}){1,2}|([0-9a-fA-F]{1,4}:){1,4}(:[0-9a-fA-F]{1,4}){1,3}|([0-9a-fA-F]{1,4}:){1,3}(:[0-9a-fA-F]{1,4}){1,4}|([0-9a-fA-F]{1,4}:){1,2}(:[0-9a-fA-F]{1,4}){1,5}|[0-9a-fA-F]{1,4}:((:[0-9a-fA-F]{1,4}){1,6})|:((:[0-9a-fA-F]{1,4}){1,7}|:)|fe80:(:[0-9a-fA-F]{0,4}){0,4}%[0-9a-zA-Z]{1,}|::(ffff(:0{1,4}){0,1}:){0,1}((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])|([0-9a-fA-F]{1,4}:){1,4}:((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9]))\/(12[0-8]|1[01][0-9]|[1-9]?[0-9])$/,Ls=/^([0-9a-zA-Z+/]{4})*(([0-9a-zA-Z+/]{2}==)|([0-9a-zA-Z+/]{3}=))?$/,Ws=/^([0-9a-zA-Z-_]{4})*(([0-9a-zA-Z-_]{2}(==)?)|([0-9a-zA-Z-_]{3}(=)?))?$/,Ma="((\\d\\d[2468][048]|\\d\\d[13579][26]|\\d\\d0[48]|[02468][048]00|[13579][26]00)-02-29|\\d{4}-((0[13578]|1[02])-(0[1-9]|[12]\\d|3[01])|(0[469]|11)-(0[1-9]|[12]\\d|30)|(02)-(0[1-9]|1\\d|2[0-8])))",Bs=new RegExp(`^${Ma}$`);function Za(a){let e="([01]\\d|2[0-3]):[0-5]\\d:[0-5]\\d";return a.precision?e=`${e}\\.\\d{${a.precision}}`:a.precision==null&&(e=`${e}(\\.\\d+)?`),e}function Fs(a){return new RegExp(`^${Za(a)}$`)}function Da(a){let e=`${Ma}T${Za(a)}`;const t=[];return t.push(a.local?"Z?":"Z"),a.offset&&t.push("([+-]\\d{2}:?\\d{2})"),e=`${e}(${t.join("|")})`,new RegExp(`^${e}$`)}function Hs(a,e){return!!((e==="v4"||!e)&&zs.test(a)||(e==="v6"||!e)&&$s.test(a))}function Ys(a,e){if(!Ds.test(a))return!1;try{const[t]=a.split("."),s=t.replace(/-/g,"+").replace(/_/g,"/").padEnd(t.length+(4-t.length%4)%4,"="),n=JSON.parse(atob(s));return!(typeof n!="object"||n===null||!n.typ||!n.alg||e&&n.alg!==e)}catch{return!1}}function Gs(a,e){return!!((e==="v4"||!e)&&Vs.test(a)||(e==="v6"||!e)&&Ps.test(a))}class _e extends V{_parse(e){if(this._def.coerce&&(e.data=String(e.data)),this._getType(e)!==_.string){const r=this._getOrReturnCtx(e);return v(r,{code:f.invalid_type,expected:_.string,received:r.parsedType}),Z}const s=new oe;let n;for(const r of this._def.checks)if(r.kind==="min")e.data.length<r.value&&(n=this._getOrReturnCtx(e,n),v(n,{code:f.too_small,minimum:r.value,type:"string",inclusive:!0,exact:!1,message:r.message}),s.dirty());else if(r.kind==="max")e.data.length>r.value&&(n=this._getOrReturnCtx(e,n),v(n,{code:f.too_big,maximum:r.value,type:"string",inclusive:!0,exact:!1,message:r.message}),s.dirty());else if(r.kind==="length"){const o=e.data.length>r.value,i=e.data.length<r.value;(o||i)&&(n=this._getOrReturnCtx(e,n),o?v(n,{code:f.too_big,maximum:r.value,type:"string",inclusive:!0,exact:!0,message:r.message}):i&&v(n,{code:f.too_small,minimum:r.value,type:"string",inclusive:!0,exact:!0,message:r.message}),s.dirty())}else if(r.kind==="email")qs.test(e.data)||(n=this._getOrReturnCtx(e,n),v(n,{validation:"email",code:f.invalid_string,message:r.message}),s.dirty());else if(r.kind==="emoji")Wt||(Wt=new RegExp(Us,"u")),Wt.test(e.data)||(n=this._getOrReturnCtx(e,n),v(n,{validation:"emoji",code:f.invalid_string,message:r.message}),s.dirty());else if(r.kind==="uuid")Ms.test(e.data)||(n=this._getOrReturnCtx(e,n),v(n,{validation:"uuid",code:f.invalid_string,message:r.message}),s.dirty());else if(r.kind==="nanoid")Zs.test(e.data)||(n=this._getOrReturnCtx(e,n),v(n,{validation:"nanoid",code:f.invalid_string,message:r.message}),s.dirty());else if(r.kind==="cuid")Os.test(e.data)||(n=this._getOrReturnCtx(e,n),v(n,{validation:"cuid",code:f.invalid_string,message:r.message}),s.dirty());else if(r.kind==="cuid2")As.test(e.data)||(n=this._getOrReturnCtx(e,n),v(n,{validation:"cuid2",code:f.invalid_string,message:r.message}),s.dirty());else if(r.kind==="ulid")Ns.test(e.data)||(n=this._getOrReturnCtx(e,n),v(n,{validation:"ulid",code:f.invalid_string,message:r.message}),s.dirty());else if(r.kind==="url")try{new URL(e.data)}catch{n=this._getOrReturnCtx(e,n),v(n,{validation:"url",code:f.invalid_string,message:r.message}),s.dirty()}else r.kind==="regex"?(r.regex.lastIndex=0,r.regex.test(e.data)||(n=this._getOrReturnCtx(e,n),v(n,{validation:"regex",code:f.invalid_string,message:r.message}),s.dirty())):r.kind==="trim"?e.data=e.data.trim():r.kind==="includes"?e.data.includes(r.value,r.position)||(n=this._getOrReturnCtx(e,n),v(n,{code:f.invalid_string,validation:{includes:r.value,position:r.position},message:r.message}),s.dirty()):r.kind==="toLowerCase"?e.data=e.data.toLowerCase():r.kind==="toUpperCase"?e.data=e.data.toUpperCase():r.kind==="startsWith"?e.data.startsWith(r.value)||(n=this._getOrReturnCtx(e,n),v(n,{code:f.invalid_string,validation:{startsWith:r.value},message:r.message}),s.dirty()):r.kind==="endsWith"?e.data.endsWith(r.value)||(n=this._getOrReturnCtx(e,n),v(n,{code:f.invalid_string,validation:{endsWith:r.value},message:r.message}),s.dirty()):r.kind==="datetime"?Da(r).test(e.data)||(n=this._getOrReturnCtx(e,n),v(n,{code:f.invalid_string,validation:"datetime",message:r.message}),s.dirty()):r.kind==="date"?Bs.test(e.data)||(n=this._getOrReturnCtx(e,n),v(n,{code:f.invalid_string,validation:"date",message:r.message}),s.dirty()):r.kind==="time"?Fs(r).test(e.data)||(n=this._getOrReturnCtx(e,n),v(n,{code:f.invalid_string,validation:"time",message:r.message}),s.dirty()):r.kind==="duration"?js.test(e.data)||(n=this._getOrReturnCtx(e,n),v(n,{validation:"duration",code:f.invalid_string,message:r.message}),s.dirty()):r.kind==="ip"?Hs(e.data,r.version)||(n=this._getOrReturnCtx(e,n),v(n,{validation:"ip",code:f.invalid_string,message:r.message}),s.dirty()):r.kind==="jwt"?Ys(e.data,r.alg)||(n=this._getOrReturnCtx(e,n),v(n,{validation:"jwt",code:f.invalid_string,message:r.message}),s.dirty()):r.kind==="cidr"?Gs(e.data,r.version)||(n=this._getOrReturnCtx(e,n),v(n,{validation:"cidr",code:f.invalid_string,message:r.message}),s.dirty()):r.kind==="base64"?Ls.test(e.data)||(n=this._getOrReturnCtx(e,n),v(n,{validation:"base64",code:f.invalid_string,message:r.message}),s.dirty()):r.kind==="base64url"?Ws.test(e.data)||(n=this._getOrReturnCtx(e,n),v(n,{validation:"base64url",code:f.invalid_string,message:r.message}),s.dirty()):W.assertNever(r);return{status:s.value,value:e.data}}_regex(e,t,s){return this.refinement(n=>e.test(n),{validation:t,code:f.invalid_string,...S.errToObj(s)})}_addCheck(e){return new _e({...this._def,checks:[...this._def.checks,e]})}email(e){return this._addCheck({kind:"email",...S.errToObj(e)})}url(e){return this._addCheck({kind:"url",...S.errToObj(e)})}emoji(e){return this._addCheck({kind:"emoji",...S.errToObj(e)})}uuid(e){return this._addCheck({kind:"uuid",...S.errToObj(e)})}nanoid(e){return this._addCheck({kind:"nanoid",...S.errToObj(e)})}cuid(e){return this._addCheck({kind:"cuid",...S.errToObj(e)})}cuid2(e){return this._addCheck({kind:"cuid2",...S.errToObj(e)})}ulid(e){return this._addCheck({kind:"ulid",...S.errToObj(e)})}base64(e){return this._addCheck({kind:"base64",...S.errToObj(e)})}base64url(e){return this._addCheck({kind:"base64url",...S.errToObj(e)})}jwt(e){return this._addCheck({kind:"jwt",...S.errToObj(e)})}ip(e){return this._addCheck({kind:"ip",...S.errToObj(e)})}cidr(e){return this._addCheck({kind:"cidr",...S.errToObj(e)})}datetime(e){var t,s;return typeof e=="string"?this._addCheck({kind:"datetime",precision:null,offset:!1,local:!1,message:e}):this._addCheck({kind:"datetime",precision:typeof(e==null?void 0:e.precision)>"u"?null:e==null?void 0:e.precision,offset:(t=e==null?void 0:e.offset)!==null&&t!==void 0?t:!1,local:(s=e==null?void 0:e.local)!==null&&s!==void 0?s:!1,...S.errToObj(e==null?void 0:e.message)})}date(e){return this._addCheck({kind:"date",message:e})}time(e){return typeof e=="string"?this._addCheck({kind:"time",precision:null,message:e}):this._addCheck({kind:"time",precision:typeof(e==null?void 0:e.precision)>"u"?null:e==null?void 0:e.precision,...S.errToObj(e==null?void 0:e.message)})}duration(e){return this._addCheck({kind:"duration",...S.errToObj(e)})}regex(e,t){return this._addCheck({kind:"regex",regex:e,...S.errToObj(t)})}includes(e,t){return this._addCheck({kind:"includes",value:e,position:t==null?void 0:t.position,...S.errToObj(t==null?void 0:t.message)})}startsWith(e,t){return this._addCheck({kind:"startsWith",value:e,...S.errToObj(t)})}endsWith(e,t){return this._addCheck({kind:"endsWith",value:e,...S.errToObj(t)})}min(e,t){return this._addCheck({kind:"min",value:e,...S.errToObj(t)})}max(e,t){return this._addCheck({kind:"max",value:e,...S.errToObj(t)})}length(e,t){return this._addCheck({kind:"length",value:e,...S.errToObj(t)})}nonempty(e){return this.min(1,S.errToObj(e))}trim(){return new _e({...this._def,checks:[...this._def.checks,{kind:"trim"}]})}toLowerCase(){return new _e({...this._def,checks:[...this._def.checks,{kind:"toLowerCase"}]})}toUpperCase(){return new _e({...this._def,checks:[...this._def.checks,{kind:"toUpperCase"}]})}get isDatetime(){return!!this._def.checks.find(e=>e.kind==="datetime")}get isDate(){return!!this._def.checks.find(e=>e.kind==="date")}get isTime(){return!!this._def.checks.find(e=>e.kind==="time")}get isDuration(){return!!this._def.checks.find(e=>e.kind==="duration")}get isEmail(){return!!this._def.checks.find(e=>e.kind==="email")}get isURL(){return!!this._def.checks.find(e=>e.kind==="url")}get isEmoji(){return!!this._def.checks.find(e=>e.kind==="emoji")}get isUUID(){return!!this._def.checks.find(e=>e.kind==="uuid")}get isNANOID(){return!!this._def.checks.find(e=>e.kind==="nanoid")}get isCUID(){return!!this._def.checks.find(e=>e.kind==="cuid")}get isCUID2(){return!!this._def.checks.find(e=>e.kind==="cuid2")}get isULID(){return!!this._def.checks.find(e=>e.kind==="ulid")}get isIP(){return!!this._def.checks.find(e=>e.kind==="ip")}get isCIDR(){return!!this._def.checks.find(e=>e.kind==="cidr")}get isBase64(){return!!this._def.checks.find(e=>e.kind==="base64")}get isBase64url(){return!!this._def.checks.find(e=>e.kind==="base64url")}get minLength(){let e=null;for(const t of this._def.checks)t.kind==="min"&&(e===null||t.value>e)&&(e=t.value);return e}get maxLength(){let e=null;for(const t of this._def.checks)t.kind==="max"&&(e===null||t.value<e)&&(e=t.value);return e}}_e.create=a=>{var e;return new _e({checks:[],typeName:M.ZodString,coerce:(e=a==null?void 0:a.coerce)!==null&&e!==void 0?e:!1,...z(a)})};function Js(a,e){const t=(a.toString().split(".")[1]||"").length,s=(e.toString().split(".")[1]||"").length,n=t>s?t:s,r=parseInt(a.toFixed(n).replace(".","")),o=parseInt(e.toFixed(n).replace(".",""));return r%o/Math.pow(10,n)}class Ue extends V{constructor(){super(...arguments),this.min=this.gte,this.max=this.lte,this.step=this.multipleOf}_parse(e){if(this._def.coerce&&(e.data=Number(e.data)),this._getType(e)!==_.number){const r=this._getOrReturnCtx(e);return v(r,{code:f.invalid_type,expected:_.number,received:r.parsedType}),Z}let s;const n=new oe;for(const r of this._def.checks)r.kind==="int"?W.isInteger(e.data)||(s=this._getOrReturnCtx(e,s),v(s,{code:f.invalid_type,expected:"integer",received:"float",message:r.message}),n.dirty()):r.kind==="min"?(r.inclusive?e.data<r.value:e.data<=r.value)&&(s=this._getOrReturnCtx(e,s),v(s,{code:f.too_small,minimum:r.value,type:"number",inclusive:r.inclusive,exact:!1,message:r.message}),n.dirty()):r.kind==="max"?(r.inclusive?e.data>r.value:e.data>=r.value)&&(s=this._getOrReturnCtx(e,s),v(s,{code:f.too_big,maximum:r.value,type:"number",inclusive:r.inclusive,exact:!1,message:r.message}),n.dirty()):r.kind==="multipleOf"?Js(e.data,r.value)!==0&&(s=this._getOrReturnCtx(e,s),v(s,{code:f.not_multiple_of,multipleOf:r.value,message:r.message}),n.dirty()):r.kind==="finite"?Number.isFinite(e.data)||(s=this._getOrReturnCtx(e,s),v(s,{code:f.not_finite,message:r.message}),n.dirty()):W.assertNever(r);return{status:n.value,value:e.data}}gte(e,t){return this.setLimit("min",e,!0,S.toString(t))}gt(e,t){return this.setLimit("min",e,!1,S.toString(t))}lte(e,t){return this.setLimit("max",e,!0,S.toString(t))}lt(e,t){return this.setLimit("max",e,!1,S.toString(t))}setLimit(e,t,s,n){return new Ue({...this._def,checks:[...this._def.checks,{kind:e,value:t,inclusive:s,message:S.toString(n)}]})}_addCheck(e){return new Ue({...this._def,checks:[...this._def.checks,e]})}int(e){return this._addCheck({kind:"int",message:S.toString(e)})}positive(e){return this._addCheck({kind:"min",value:0,inclusive:!1,message:S.toString(e)})}negative(e){return this._addCheck({kind:"max",value:0,inclusive:!1,message:S.toString(e)})}nonpositive(e){return this._addCheck({kind:"max",value:0,inclusive:!0,message:S.toString(e)})}nonnegative(e){return this._addCheck({kind:"min",value:0,inclusive:!0,message:S.toString(e)})}multipleOf(e,t){return this._addCheck({kind:"multipleOf",value:e,message:S.toString(t)})}finite(e){return this._addCheck({kind:"finite",message:S.toString(e)})}safe(e){return this._addCheck({kind:"min",inclusive:!0,value:Number.MIN_SAFE_INTEGER,message:S.toString(e)})._addCheck({kind:"max",inclusive:!0,value:Number.MAX_SAFE_INTEGER,message:S.toString(e)})}get minValue(){let e=null;for(const t of this._def.checks)t.kind==="min"&&(e===null||t.value>e)&&(e=t.value);return e}get maxValue(){let e=null;for(const t of this._def.checks)t.kind==="max"&&(e===null||t.value<e)&&(e=t.value);return e}get isInt(){return!!this._def.checks.find(e=>e.kind==="int"||e.kind==="multipleOf"&&W.isInteger(e.value))}get isFinite(){let e=null,t=null;for(const s of this._def.checks){if(s.kind==="finite"||s.kind==="int"||s.kind==="multipleOf")return!0;s.kind==="min"?(t===null||s.value>t)&&(t=s.value):s.kind==="max"&&(e===null||s.value<e)&&(e=s.value)}return Number.isFinite(t)&&Number.isFinite(e)}}Ue.create=a=>new Ue({checks:[],typeName:M.ZodNumber,coerce:(a==null?void 0:a.coerce)||!1,...z(a)});class ze extends V{constructor(){super(...arguments),this.min=this.gte,this.max=this.lte}_parse(e){if(this._def.coerce)try{e.data=BigInt(e.data)}catch{return this._getInvalidInput(e)}if(this._getType(e)!==_.bigint)return this._getInvalidInput(e);let s;const n=new oe;for(const r of this._def.checks)r.kind==="min"?(r.inclusive?e.data<r.value:e.data<=r.value)&&(s=this._getOrReturnCtx(e,s),v(s,{code:f.too_small,type:"bigint",minimum:r.value,inclusive:r.inclusive,message:r.message}),n.dirty()):r.kind==="max"?(r.inclusive?e.data>r.value:e.data>=r.value)&&(s=this._getOrReturnCtx(e,s),v(s,{code:f.too_big,type:"bigint",maximum:r.value,inclusive:r.inclusive,message:r.message}),n.dirty()):r.kind==="multipleOf"?e.data%r.value!==BigInt(0)&&(s=this._getOrReturnCtx(e,s),v(s,{code:f.not_multiple_of,multipleOf:r.value,message:r.message}),n.dirty()):W.assertNever(r);return{status:n.value,value:e.data}}_getInvalidInput(e){const t=this._getOrReturnCtx(e);return v(t,{code:f.invalid_type,expected:_.bigint,received:t.parsedType}),Z}gte(e,t){return this.setLimit("min",e,!0,S.toString(t))}gt(e,t){return this.setLimit("min",e,!1,S.toString(t))}lte(e,t){return this.setLimit("max",e,!0,S.toString(t))}lt(e,t){return this.setLimit("max",e,!1,S.toString(t))}setLimit(e,t,s,n){return new ze({...this._def,checks:[...this._def.checks,{kind:e,value:t,inclusive:s,message:S.toString(n)}]})}_addCheck(e){return new ze({...this._def,checks:[...this._def.checks,e]})}positive(e){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!1,message:S.toString(e)})}negative(e){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!1,message:S.toString(e)})}nonpositive(e){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!0,message:S.toString(e)})}nonnegative(e){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!0,message:S.toString(e)})}multipleOf(e,t){return this._addCheck({kind:"multipleOf",value:e,message:S.toString(t)})}get minValue(){let e=null;for(const t of this._def.checks)t.kind==="min"&&(e===null||t.value>e)&&(e=t.value);return e}get maxValue(){let e=null;for(const t of this._def.checks)t.kind==="max"&&(e===null||t.value<e)&&(e=t.value);return e}}ze.create=a=>{var e;return new ze({checks:[],typeName:M.ZodBigInt,coerce:(e=a==null?void 0:a.coerce)!==null&&e!==void 0?e:!1,...z(a)})};class dt extends V{_parse(e){if(this._def.coerce&&(e.data=!!e.data),this._getType(e)!==_.boolean){const s=this._getOrReturnCtx(e);return v(s,{code:f.invalid_type,expected:_.boolean,received:s.parsedType}),Z}return le(e.data)}}dt.create=a=>new dt({typeName:M.ZodBoolean,coerce:(a==null?void 0:a.coerce)||!1,...z(a)});class Ye extends V{_parse(e){if(this._def.coerce&&(e.data=new Date(e.data)),this._getType(e)!==_.date){const r=this._getOrReturnCtx(e);return v(r,{code:f.invalid_type,expected:_.date,received:r.parsedType}),Z}if(isNaN(e.data.getTime())){const r=this._getOrReturnCtx(e);return v(r,{code:f.invalid_date}),Z}const s=new oe;let n;for(const r of this._def.checks)r.kind==="min"?e.data.getTime()<r.value&&(n=this._getOrReturnCtx(e,n),v(n,{code:f.too_small,message:r.message,inclusive:!0,exact:!1,minimum:r.value,type:"date"}),s.dirty()):r.kind==="max"?e.data.getTime()>r.value&&(n=this._getOrReturnCtx(e,n),v(n,{code:f.too_big,message:r.message,inclusive:!0,exact:!1,maximum:r.value,type:"date"}),s.dirty()):W.assertNever(r);return{status:s.value,value:new Date(e.data.getTime())}}_addCheck(e){return new Ye({...this._def,checks:[...this._def.checks,e]})}min(e,t){return this._addCheck({kind:"min",value:e.getTime(),message:S.toString(t)})}max(e,t){return this._addCheck({kind:"max",value:e.getTime(),message:S.toString(t)})}get minDate(){let e=null;for(const t of this._def.checks)t.kind==="min"&&(e===null||t.value>e)&&(e=t.value);return e!=null?new Date(e):null}get maxDate(){let e=null;for(const t of this._def.checks)t.kind==="max"&&(e===null||t.value<e)&&(e=t.value);return e!=null?new Date(e):null}}Ye.create=a=>new Ye({checks:[],coerce:(a==null?void 0:a.coerce)||!1,typeName:M.ZodDate,...z(a)});class Nt extends V{_parse(e){if(this._getType(e)!==_.symbol){const s=this._getOrReturnCtx(e);return v(s,{code:f.invalid_type,expected:_.symbol,received:s.parsedType}),Z}return le(e.data)}}Nt.create=a=>new Nt({typeName:M.ZodSymbol,...z(a)});class ft extends V{_parse(e){if(this._getType(e)!==_.undefined){const s=this._getOrReturnCtx(e);return v(s,{code:f.invalid_type,expected:_.undefined,received:s.parsedType}),Z}return le(e.data)}}ft.create=a=>new ft({typeName:M.ZodUndefined,...z(a)});class pt extends V{_parse(e){if(this._getType(e)!==_.null){const s=this._getOrReturnCtx(e);return v(s,{code:f.invalid_type,expected:_.null,received:s.parsedType}),Z}return le(e.data)}}pt.create=a=>new pt({typeName:M.ZodNull,...z(a)});class tt extends V{constructor(){super(...arguments),this._any=!0}_parse(e){return le(e.data)}}tt.create=a=>new tt({typeName:M.ZodAny,...z(a)});class Fe extends V{constructor(){super(...arguments),this._unknown=!0}_parse(e){return le(e.data)}}Fe.create=a=>new Fe({typeName:M.ZodUnknown,...z(a)});class Me extends V{_parse(e){const t=this._getOrReturnCtx(e);return v(t,{code:f.invalid_type,expected:_.never,received:t.parsedType}),Z}}Me.create=a=>new Me({typeName:M.ZodNever,...z(a)});class Mt extends V{_parse(e){if(this._getType(e)!==_.undefined){const s=this._getOrReturnCtx(e);return v(s,{code:f.invalid_type,expected:_.void,received:s.parsedType}),Z}return le(e.data)}}Mt.create=a=>new Mt({typeName:M.ZodVoid,...z(a)});class be extends V{_parse(e){const{ctx:t,status:s}=this._processInputParams(e),n=this._def;if(t.parsedType!==_.array)return v(t,{code:f.invalid_type,expected:_.array,received:t.parsedType}),Z;if(n.exactLength!==null){const o=t.data.length>n.exactLength.value,i=t.data.length<n.exactLength.value;(o||i)&&(v(t,{code:o?f.too_big:f.too_small,minimum:i?n.exactLength.value:void 0,maximum:o?n.exactLength.value:void 0,type:"array",inclusive:!0,exact:!0,message:n.exactLength.message}),s.dirty())}if(n.minLength!==null&&t.data.length<n.minLength.value&&(v(t,{code:f.too_small,minimum:n.minLength.value,type:"array",inclusive:!0,exact:!1,message:n.minLength.message}),s.dirty()),n.maxLength!==null&&t.data.length>n.maxLength.value&&(v(t,{code:f.too_big,maximum:n.maxLength.value,type:"array",inclusive:!0,exact:!1,message:n.maxLength.message}),s.dirty()),t.common.async)return Promise.all([...t.data].map((o,i)=>n.type._parseAsync(new Ce(t,o,t.path,i)))).then(o=>oe.mergeArray(s,o));const r=[...t.data].map((o,i)=>n.type._parseSync(new Ce(t,o,t.path,i)));return oe.mergeArray(s,r)}get element(){return this._def.type}min(e,t){return new be({...this._def,minLength:{value:e,message:S.toString(t)}})}max(e,t){return new be({...this._def,maxLength:{value:e,message:S.toString(t)}})}length(e,t){return new be({...this._def,exactLength:{value:e,message:S.toString(t)}})}nonempty(e){return this.min(1,e)}}be.create=(a,e)=>new be({type:a,minLength:null,maxLength:null,exactLength:null,typeName:M.ZodArray,...z(e)});function Ke(a){if(a instanceof ee){const e={};for(const t in a.shape){const s=a.shape[t];e[t]=Te.create(Ke(s))}return new ee({...a._def,shape:()=>e})}else return a instanceof be?new be({...a._def,type:Ke(a.element)}):a instanceof Te?Te.create(Ke(a.unwrap())):a instanceof $e?$e.create(Ke(a.unwrap())):a instanceof Ee?Ee.create(a.items.map(e=>Ke(e))):a}class ee extends V{constructor(){super(...arguments),this._cached=null,this.nonstrict=this.passthrough,this.augment=this.extend}_getCached(){if(this._cached!==null)return this._cached;const e=this._def.shape(),t=W.objectKeys(e);return this._cached={shape:e,keys:t}}_parse(e){if(this._getType(e)!==_.object){const u=this._getOrReturnCtx(e);return v(u,{code:f.invalid_type,expected:_.object,received:u.parsedType}),Z}const{status:s,ctx:n}=this._processInputParams(e),{shape:r,keys:o}=this._getCached(),i=[];if(!(this._def.catchall instanceof Me&&this._def.unknownKeys==="strip"))for(const u in n.data)o.includes(u)||i.push(u);const l=[];for(const u of o){const d=r[u],p=n.data[u];l.push({key:{status:"valid",value:u},value:d._parse(new Ce(n,p,n.path,u)),alwaysSet:u in n.data})}if(this._def.catchall instanceof Me){const u=this._def.unknownKeys;if(u==="passthrough")for(const d of i)l.push({key:{status:"valid",value:d},value:{status:"valid",value:n.data[d]}});else if(u==="strict")i.length>0&&(v(n,{code:f.unrecognized_keys,keys:i}),s.dirty());else if(u!=="strip")throw new Error("Internal ZodObject error: invalid unknownKeys value.")}else{const u=this._def.catchall;for(const d of i){const p=n.data[d];l.push({key:{status:"valid",value:d},value:u._parse(new Ce(n,p,n.path,d)),alwaysSet:d in n.data})}}return n.common.async?Promise.resolve().then(async()=>{const u=[];for(const d of l){const p=await d.key,h=await d.value;u.push({key:p,value:h,alwaysSet:d.alwaysSet})}return u}).then(u=>oe.mergeObjectSync(s,u)):oe.mergeObjectSync(s,l)}get shape(){return this._def.shape()}strict(e){return S.errToObj,new ee({...this._def,unknownKeys:"strict",...e!==void 0?{errorMap:(t,s)=>{var n,r,o,i;const l=(o=(r=(n=this._def).errorMap)===null||r===void 0?void 0:r.call(n,t,s).message)!==null&&o!==void 0?o:s.defaultError;return t.code==="unrecognized_keys"?{message:(i=S.errToObj(e).message)!==null&&i!==void 0?i:l}:{message:l}}}:{}})}strip(){return new ee({...this._def,unknownKeys:"strip"})}passthrough(){return new ee({...this._def,unknownKeys:"passthrough"})}extend(e){return new ee({...this._def,shape:()=>({...this._def.shape(),...e})})}merge(e){return new ee({unknownKeys:e._def.unknownKeys,catchall:e._def.catchall,shape:()=>({...this._def.shape(),...e._def.shape()}),typeName:M.ZodObject})}setKey(e,t){return this.augment({[e]:t})}catchall(e){return new ee({...this._def,catchall:e})}pick(e){const t={};return W.objectKeys(e).forEach(s=>{e[s]&&this.shape[s]&&(t[s]=this.shape[s])}),new ee({...this._def,shape:()=>t})}omit(e){const t={};return W.objectKeys(this.shape).forEach(s=>{e[s]||(t[s]=this.shape[s])}),new ee({...this._def,shape:()=>t})}deepPartial(){return Ke(this)}partial(e){const t={};return W.objectKeys(this.shape).forEach(s=>{const n=this.shape[s];e&&!e[s]?t[s]=n:t[s]=n.optional()}),new ee({...this._def,shape:()=>t})}required(e){const t={};return W.objectKeys(this.shape).forEach(s=>{if(e&&!e[s])t[s]=this.shape[s];else{let r=this.shape[s];for(;r instanceof Te;)r=r._def.innerType;t[s]=r}}),new ee({...this._def,shape:()=>t})}keyof(){return ja(W.objectKeys(this.shape))}}ee.create=(a,e)=>new ee({shape:()=>a,unknownKeys:"strip",catchall:Me.create(),typeName:M.ZodObject,...z(e)});ee.strictCreate=(a,e)=>new ee({shape:()=>a,unknownKeys:"strict",catchall:Me.create(),typeName:M.ZodObject,...z(e)});ee.lazycreate=(a,e)=>new ee({shape:a,unknownKeys:"strip",catchall:Me.create(),typeName:M.ZodObject,...z(e)});class ht extends V{_parse(e){const{ctx:t}=this._processInputParams(e),s=this._def.options;function n(r){for(const i of r)if(i.result.status==="valid")return i.result;for(const i of r)if(i.result.status==="dirty")return t.common.issues.push(...i.ctx.common.issues),i.result;const o=r.map(i=>new he(i.ctx.common.issues));return v(t,{code:f.invalid_union,unionErrors:o}),Z}if(t.common.async)return Promise.all(s.map(async r=>{const o={...t,common:{...t.common,issues:[]},parent:null};return{result:await r._parseAsync({data:t.data,path:t.path,parent:o}),ctx:o}})).then(n);{let r;const o=[];for(const l of s){const u={...t,common:{...t.common,issues:[]},parent:null},d=l._parseSync({data:t.data,path:t.path,parent:u});if(d.status==="valid")return d;d.status==="dirty"&&!r&&(r={result:d,ctx:u}),u.common.issues.length&&o.push(u.common.issues)}if(r)return t.common.issues.push(...r.ctx.common.issues),r.result;const i=o.map(l=>new he(l));return v(t,{code:f.invalid_union,unionErrors:i}),Z}}get options(){return this._def.options}}ht.create=(a,e)=>new ht({options:a,typeName:M.ZodUnion,...z(e)});const Ae=a=>a instanceof yt?Ae(a.schema):a instanceof xe?Ae(a.innerType()):a instanceof gt?[a.value]:a instanceof Ve?a.options:a instanceof _t?W.objectValues(a.enum):a instanceof bt?Ae(a._def.innerType):a instanceof ft?[void 0]:a instanceof pt?[null]:a instanceof Te?[void 0,...Ae(a.unwrap())]:a instanceof $e?[null,...Ae(a.unwrap())]:a instanceof ia||a instanceof kt?Ae(a.unwrap()):a instanceof xt?Ae(a._def.innerType):[];class Vt extends V{_parse(e){const{ctx:t}=this._processInputParams(e);if(t.parsedType!==_.object)return v(t,{code:f.invalid_type,expected:_.object,received:t.parsedType}),Z;const s=this.discriminator,n=t.data[s],r=this.optionsMap.get(n);return r?t.common.async?r._parseAsync({data:t.data,path:t.path,parent:t}):r._parseSync({data:t.data,path:t.path,parent:t}):(v(t,{code:f.invalid_union_discriminator,options:Array.from(this.optionsMap.keys()),path:[s]}),Z)}get discriminator(){return this._def.discriminator}get options(){return this._def.options}get optionsMap(){return this._def.optionsMap}static create(e,t,s){const n=new Map;for(const r of t){const o=Ae(r.shape[e]);if(!o.length)throw new Error(`A discriminator value for key \`${e}\` could not be extracted from all schema options`);for(const i of o){if(n.has(i))throw new Error(`Discriminator property ${String(e)} has duplicate value ${String(i)}`);n.set(i,r)}}return new Vt({typeName:M.ZodDiscriminatedUnion,discriminator:e,options:t,optionsMap:n,...z(s)})}}function ta(a,e){const t=Ne(a),s=Ne(e);if(a===e)return{valid:!0,data:a};if(t===_.object&&s===_.object){const n=W.objectKeys(e),r=W.objectKeys(a).filter(i=>n.indexOf(i)!==-1),o={...a,...e};for(const i of r){const l=ta(a[i],e[i]);if(!l.valid)return{valid:!1};o[i]=l.data}return{valid:!0,data:o}}else if(t===_.array&&s===_.array){if(a.length!==e.length)return{valid:!1};const n=[];for(let r=0;r<a.length;r++){const o=a[r],i=e[r],l=ta(o,i);if(!l.valid)return{valid:!1};n.push(l.data)}return{valid:!0,data:n}}else return t===_.date&&s===_.date&&+a==+e?{valid:!0,data:a}:{valid:!1}}class mt extends V{_parse(e){const{status:t,ctx:s}=this._processInputParams(e),n=(r,o)=>{if(Xt(r)||Xt(o))return Z;const i=ta(r.value,o.value);return i.valid?((ea(r)||ea(o))&&t.dirty(),{status:t.value,value:i.data}):(v(s,{code:f.invalid_intersection_types}),Z)};return s.common.async?Promise.all([this._def.left._parseAsync({data:s.data,path:s.path,parent:s}),this._def.right._parseAsync({data:s.data,path:s.path,parent:s})]).then(([r,o])=>n(r,o)):n(this._def.left._parseSync({data:s.data,path:s.path,parent:s}),this._def.right._parseSync({data:s.data,path:s.path,parent:s}))}}mt.create=(a,e,t)=>new mt({left:a,right:e,typeName:M.ZodIntersection,...z(t)});class Ee extends V{_parse(e){const{status:t,ctx:s}=this._processInputParams(e);if(s.parsedType!==_.array)return v(s,{code:f.invalid_type,expected:_.array,received:s.parsedType}),Z;if(s.data.length<this._def.items.length)return v(s,{code:f.too_small,minimum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),Z;!this._def.rest&&s.data.length>this._def.items.length&&(v(s,{code:f.too_big,maximum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),t.dirty());const r=[...s.data].map((o,i)=>{const l=this._def.items[i]||this._def.rest;return l?l._parse(new Ce(s,o,s.path,i)):null}).filter(o=>!!o);return s.common.async?Promise.all(r).then(o=>oe.mergeArray(t,o)):oe.mergeArray(t,r)}get items(){return this._def.items}rest(e){return new Ee({...this._def,rest:e})}}Ee.create=(a,e)=>{if(!Array.isArray(a))throw new Error("You must pass an array of schemas to z.tuple([ ... ])");return new Ee({items:a,typeName:M.ZodTuple,rest:null,...z(e)})};class vt extends V{get keySchema(){return this._def.keyType}get valueSchema(){return this._def.valueType}_parse(e){const{status:t,ctx:s}=this._processInputParams(e);if(s.parsedType!==_.object)return v(s,{code:f.invalid_type,expected:_.object,received:s.parsedType}),Z;const n=[],r=this._def.keyType,o=this._def.valueType;for(const i in s.data)n.push({key:r._parse(new Ce(s,i,s.path,i)),value:o._parse(new Ce(s,s.data[i],s.path,i)),alwaysSet:i in s.data});return s.common.async?oe.mergeObjectAsync(t,n):oe.mergeObjectSync(t,n)}get element(){return this._def.valueType}static create(e,t,s){return t instanceof V?new vt({keyType:e,valueType:t,typeName:M.ZodRecord,...z(s)}):new vt({keyType:_e.create(),valueType:e,typeName:M.ZodRecord,...z(t)})}}class Zt extends V{get keySchema(){return this._def.keyType}get valueSchema(){return this._def.valueType}_parse(e){const{status:t,ctx:s}=this._processInputParams(e);if(s.parsedType!==_.map)return v(s,{code:f.invalid_type,expected:_.map,received:s.parsedType}),Z;const n=this._def.keyType,r=this._def.valueType,o=[...s.data.entries()].map(([i,l],u)=>({key:n._parse(new Ce(s,i,s.path,[u,"key"])),value:r._parse(new Ce(s,l,s.path,[u,"value"]))}));if(s.common.async){const i=new Map;return Promise.resolve().then(async()=>{for(const l of o){const u=await l.key,d=await l.value;if(u.status==="aborted"||d.status==="aborted")return Z;(u.status==="dirty"||d.status==="dirty")&&t.dirty(),i.set(u.value,d.value)}return{status:t.value,value:i}})}else{const i=new Map;for(const l of o){const u=l.key,d=l.value;if(u.status==="aborted"||d.status==="aborted")return Z;(u.status==="dirty"||d.status==="dirty")&&t.dirty(),i.set(u.value,d.value)}return{status:t.value,value:i}}}}Zt.create=(a,e,t)=>new Zt({valueType:e,keyType:a,typeName:M.ZodMap,...z(t)});class Ge extends V{_parse(e){const{status:t,ctx:s}=this._processInputParams(e);if(s.parsedType!==_.set)return v(s,{code:f.invalid_type,expected:_.set,received:s.parsedType}),Z;const n=this._def;n.minSize!==null&&s.data.size<n.minSize.value&&(v(s,{code:f.too_small,minimum:n.minSize.value,type:"set",inclusive:!0,exact:!1,message:n.minSize.message}),t.dirty()),n.maxSize!==null&&s.data.size>n.maxSize.value&&(v(s,{code:f.too_big,maximum:n.maxSize.value,type:"set",inclusive:!0,exact:!1,message:n.maxSize.message}),t.dirty());const r=this._def.valueType;function o(l){const u=new Set;for(const d of l){if(d.status==="aborted")return Z;d.status==="dirty"&&t.dirty(),u.add(d.value)}return{status:t.value,value:u}}const i=[...s.data.values()].map((l,u)=>r._parse(new Ce(s,l,s.path,u)));return s.common.async?Promise.all(i).then(l=>o(l)):o(i)}min(e,t){return new Ge({...this._def,minSize:{value:e,message:S.toString(t)}})}max(e,t){return new Ge({...this._def,maxSize:{value:e,message:S.toString(t)}})}size(e,t){return this.min(e,t).max(e,t)}nonempty(e){return this.min(1,e)}}Ge.create=(a,e)=>new Ge({valueType:a,minSize:null,maxSize:null,typeName:M.ZodSet,...z(e)});class Xe extends V{constructor(){super(...arguments),this.validate=this.implement}_parse(e){const{ctx:t}=this._processInputParams(e);if(t.parsedType!==_.function)return v(t,{code:f.invalid_type,expected:_.function,received:t.parsedType}),Z;function s(i,l){return Ot({data:i,path:t.path,errorMaps:[t.common.contextualErrorMap,t.schemaErrorMap,It(),et].filter(u=>!!u),issueData:{code:f.invalid_arguments,argumentsError:l}})}function n(i,l){return Ot({data:i,path:t.path,errorMaps:[t.common.contextualErrorMap,t.schemaErrorMap,It(),et].filter(u=>!!u),issueData:{code:f.invalid_return_type,returnTypeError:l}})}const r={errorMap:t.common.contextualErrorMap},o=t.data;if(this._def.returns instanceof at){const i=this;return le(async function(...l){const u=new he([]),d=await i._def.args.parseAsync(l,r).catch(R=>{throw u.addIssue(s(l,R)),u}),p=await Reflect.apply(o,this,d);return await i._def.returns._def.type.parseAsync(p,r).catch(R=>{throw u.addIssue(n(p,R)),u})})}else{const i=this;return le(function(...l){const u=i._def.args.safeParse(l,r);if(!u.success)throw new he([s(l,u.error)]);const d=Reflect.apply(o,this,u.data),p=i._def.returns.safeParse(d,r);if(!p.success)throw new he([n(d,p.error)]);return p.data})}}parameters(){return this._def.args}returnType(){return this._def.returns}args(...e){return new Xe({...this._def,args:Ee.create(e).rest(Fe.create())})}returns(e){return new Xe({...this._def,returns:e})}implement(e){return this.parse(e)}strictImplement(e){return this.parse(e)}static create(e,t,s){return new Xe({args:e||Ee.create([]).rest(Fe.create()),returns:t||Fe.create(),typeName:M.ZodFunction,...z(s)})}}class yt extends V{get schema(){return this._def.getter()}_parse(e){const{ctx:t}=this._processInputParams(e);return this._def.getter()._parse({data:t.data,path:t.path,parent:t})}}yt.create=(a,e)=>new yt({getter:a,typeName:M.ZodLazy,...z(e)});class gt extends V{_parse(e){if(e.data!==this._def.value){const t=this._getOrReturnCtx(e);return v(t,{received:t.data,code:f.invalid_literal,expected:this._def.value}),Z}return{status:"valid",value:e.data}}get value(){return this._def.value}}gt.create=(a,e)=>new gt({value:a,typeName:M.ZodLiteral,...z(e)});function ja(a,e){return new Ve({values:a,typeName:M.ZodEnum,...z(e)})}class Ve extends V{constructor(){super(...arguments),rt.set(this,void 0)}_parse(e){if(typeof e.data!="string"){const t=this._getOrReturnCtx(e),s=this._def.values;return v(t,{expected:W.joinValues(s),received:t.parsedType,code:f.invalid_type}),Z}if(At(this,rt)||Na(this,rt,new Set(this._def.values)),!At(this,rt).has(e.data)){const t=this._getOrReturnCtx(e),s=this._def.values;return v(t,{received:t.data,code:f.invalid_enum_value,options:s}),Z}return le(e.data)}get options(){return this._def.values}get enum(){const e={};for(const t of this._def.values)e[t]=t;return e}get Values(){const e={};for(const t of this._def.values)e[t]=t;return e}get Enum(){const e={};for(const t of this._def.values)e[t]=t;return e}extract(e,t=this._def){return Ve.create(e,{...this._def,...t})}exclude(e,t=this._def){return Ve.create(this.options.filter(s=>!e.includes(s)),{...this._def,...t})}}rt=new WeakMap;Ve.create=ja;class _t extends V{constructor(){super(...arguments),it.set(this,void 0)}_parse(e){const t=W.getValidEnumValues(this._def.values),s=this._getOrReturnCtx(e);if(s.parsedType!==_.string&&s.parsedType!==_.number){const n=W.objectValues(t);return v(s,{expected:W.joinValues(n),received:s.parsedType,code:f.invalid_type}),Z}if(At(this,it)||Na(this,it,new Set(W.getValidEnumValues(this._def.values))),!At(this,it).has(e.data)){const n=W.objectValues(t);return v(s,{received:s.data,code:f.invalid_enum_value,options:n}),Z}return le(e.data)}get enum(){return this._def.values}}it=new WeakMap;_t.create=(a,e)=>new _t({values:a,typeName:M.ZodNativeEnum,...z(e)});class at extends V{unwrap(){return this._def.type}_parse(e){const{ctx:t}=this._processInputParams(e);if(t.parsedType!==_.promise&&t.common.async===!1)return v(t,{code:f.invalid_type,expected:_.promise,received:t.parsedType}),Z;const s=t.parsedType===_.promise?t.data:Promise.resolve(t.data);return le(s.then(n=>this._def.type.parseAsync(n,{path:t.path,errorMap:t.common.contextualErrorMap})))}}at.create=(a,e)=>new at({type:a,typeName:M.ZodPromise,...z(e)});class xe extends V{innerType(){return this._def.schema}sourceType(){return this._def.schema._def.typeName===M.ZodEffects?this._def.schema.sourceType():this._def.schema}_parse(e){const{status:t,ctx:s}=this._processInputParams(e),n=this._def.effect||null,r={addIssue:o=>{v(s,o),o.fatal?t.abort():t.dirty()},get path(){return s.path}};if(r.addIssue=r.addIssue.bind(r),n.type==="preprocess"){const o=n.transform(s.data,r);if(s.common.async)return Promise.resolve(o).then(async i=>{if(t.value==="aborted")return Z;const l=await this._def.schema._parseAsync({data:i,path:s.path,parent:s});return l.status==="aborted"?Z:l.status==="dirty"||t.value==="dirty"?Qe(l.value):l});{if(t.value==="aborted")return Z;const i=this._def.schema._parseSync({data:o,path:s.path,parent:s});return i.status==="aborted"?Z:i.status==="dirty"||t.value==="dirty"?Qe(i.value):i}}if(n.type==="refinement"){const o=i=>{const l=n.refinement(i,r);if(s.common.async)return Promise.resolve(l);if(l instanceof Promise)throw new Error("Async refinement encountered during synchronous parse operation. Use .parseAsync instead.");return i};if(s.common.async===!1){const i=this._def.schema._parseSync({data:s.data,path:s.path,parent:s});return i.status==="aborted"?Z:(i.status==="dirty"&&t.dirty(),o(i.value),{status:t.value,value:i.value})}else return this._def.schema._parseAsync({data:s.data,path:s.path,parent:s}).then(i=>i.status==="aborted"?Z:(i.status==="dirty"&&t.dirty(),o(i.value).then(()=>({status:t.value,value:i.value}))))}if(n.type==="transform")if(s.common.async===!1){const o=this._def.schema._parseSync({data:s.data,path:s.path,parent:s});if(!He(o))return o;const i=n.transform(o.value,r);if(i instanceof Promise)throw new Error("Asynchronous transform encountered during synchronous parse operation. Use .parseAsync instead.");return{status:t.value,value:i}}else return this._def.schema._parseAsync({data:s.data,path:s.path,parent:s}).then(o=>He(o)?Promise.resolve(n.transform(o.value,r)).then(i=>({status:t.value,value:i})):o);W.assertNever(n)}}xe.create=(a,e,t)=>new xe({schema:a,typeName:M.ZodEffects,effect:e,...z(t)});xe.createWithPreprocess=(a,e,t)=>new xe({schema:e,effect:{type:"preprocess",transform:a},typeName:M.ZodEffects,...z(t)});class Te extends V{_parse(e){return this._getType(e)===_.undefined?le(void 0):this._def.innerType._parse(e)}unwrap(){return this._def.innerType}}Te.create=(a,e)=>new Te({innerType:a,typeName:M.ZodOptional,...z(e)});class $e extends V{_parse(e){return this._getType(e)===_.null?le(null):this._def.innerType._parse(e)}unwrap(){return this._def.innerType}}$e.create=(a,e)=>new $e({innerType:a,typeName:M.ZodNullable,...z(e)});class bt extends V{_parse(e){const{ctx:t}=this._processInputParams(e);let s=t.data;return t.parsedType===_.undefined&&(s=this._def.defaultValue()),this._def.innerType._parse({data:s,path:t.path,parent:t})}removeDefault(){return this._def.innerType}}bt.create=(a,e)=>new bt({innerType:a,typeName:M.ZodDefault,defaultValue:typeof e.default=="function"?e.default:()=>e.default,...z(e)});class xt extends V{_parse(e){const{ctx:t}=this._processInputParams(e),s={...t,common:{...t.common,issues:[]}},n=this._def.innerType._parse({data:s.data,path:s.path,parent:{...s}});return ct(n)?n.then(r=>({status:"valid",value:r.status==="valid"?r.value:this._def.catchValue({get error(){return new he(s.common.issues)},input:s.data})})):{status:"valid",value:n.status==="valid"?n.value:this._def.catchValue({get error(){return new he(s.common.issues)},input:s.data})}}removeCatch(){return this._def.innerType}}xt.create=(a,e)=>new xt({innerType:a,typeName:M.ZodCatch,catchValue:typeof e.catch=="function"?e.catch:()=>e.catch,...z(e)});class Dt extends V{_parse(e){if(this._getType(e)!==_.nan){const s=this._getOrReturnCtx(e);return v(s,{code:f.invalid_type,expected:_.nan,received:s.parsedType}),Z}return{status:"valid",value:e.data}}}Dt.create=a=>new Dt({typeName:M.ZodNaN,...z(a)});const Ks=Symbol("zod_brand");class ia extends V{_parse(e){const{ctx:t}=this._processInputParams(e),s=t.data;return this._def.type._parse({data:s,path:t.path,parent:t})}unwrap(){return this._def.type}}class Tt extends V{_parse(e){const{status:t,ctx:s}=this._processInputParams(e);if(s.common.async)return(async()=>{const r=await this._def.in._parseAsync({data:s.data,path:s.path,parent:s});return r.status==="aborted"?Z:r.status==="dirty"?(t.dirty(),Qe(r.value)):this._def.out._parseAsync({data:r.value,path:s.path,parent:s})})();{const n=this._def.in._parseSync({data:s.data,path:s.path,parent:s});return n.status==="aborted"?Z:n.status==="dirty"?(t.dirty(),{status:"dirty",value:n.value}):this._def.out._parseSync({data:n.value,path:s.path,parent:s})}}static create(e,t){return new Tt({in:e,out:t,typeName:M.ZodPipeline})}}class kt extends V{_parse(e){const t=this._def.innerType._parse(e),s=n=>(He(n)&&(n.value=Object.freeze(n.value)),n);return ct(t)?t.then(n=>s(n)):s(t)}unwrap(){return this._def.innerType}}kt.create=(a,e)=>new kt({innerType:a,typeName:M.ZodReadonly,...z(e)});function ba(a,e){const t=typeof a=="function"?a(e):typeof a=="string"?{message:a}:a;return typeof t=="string"?{message:t}:t}function qa(a,e={},t){return a?tt.create().superRefine((s,n)=>{var r,o;const i=a(s);if(i instanceof Promise)return i.then(l=>{var u,d;if(!l){const p=ba(e,s),h=(d=(u=p.fatal)!==null&&u!==void 0?u:t)!==null&&d!==void 0?d:!0;n.addIssue({code:"custom",...p,fatal:h})}});if(!i){const l=ba(e,s),u=(o=(r=l.fatal)!==null&&r!==void 0?r:t)!==null&&o!==void 0?o:!0;n.addIssue({code:"custom",...l,fatal:u})}}):tt.create()}const Qs={object:ee.lazycreate};var M;(function(a){a.ZodString="ZodString",a.ZodNumber="ZodNumber",a.ZodNaN="ZodNaN",a.ZodBigInt="ZodBigInt",a.ZodBoolean="ZodBoolean",a.ZodDate="ZodDate",a.ZodSymbol="ZodSymbol",a.ZodUndefined="ZodUndefined",a.ZodNull="ZodNull",a.ZodAny="ZodAny",a.ZodUnknown="ZodUnknown",a.ZodNever="ZodNever",a.ZodVoid="ZodVoid",a.ZodArray="ZodArray",a.ZodObject="ZodObject",a.ZodUnion="ZodUnion",a.ZodDiscriminatedUnion="ZodDiscriminatedUnion",a.ZodIntersection="ZodIntersection",a.ZodTuple="ZodTuple",a.ZodRecord="ZodRecord",a.ZodMap="ZodMap",a.ZodSet="ZodSet",a.ZodFunction="ZodFunction",a.ZodLazy="ZodLazy",a.ZodLiteral="ZodLiteral",a.ZodEnum="ZodEnum",a.ZodEffects="ZodEffects",a.ZodNativeEnum="ZodNativeEnum",a.ZodOptional="ZodOptional",a.ZodNullable="ZodNullable",a.ZodDefault="ZodDefault",a.ZodCatch="ZodCatch",a.ZodPromise="ZodPromise",a.ZodBranded="ZodBranded",a.ZodPipeline="ZodPipeline",a.ZodReadonly="ZodReadonly"})(M||(M={}));const Xs=(a,e={message:`Input not instance of ${a.name}`})=>qa(t=>t instanceof a,e),Ua=_e.create,za=Ue.create,en=Dt.create,tn=ze.create,Va=dt.create,an=Ye.create,sn=Nt.create,nn=ft.create,rn=pt.create,on=tt.create,ln=Fe.create,un=Me.create,cn=Mt.create,dn=be.create,fn=ee.create,pn=ee.strictCreate,hn=ht.create,mn=Vt.create,vn=mt.create,yn=Ee.create,gn=vt.create,_n=Zt.create,bn=Ge.create,xn=Xe.create,kn=yt.create,wn=gt.create,Tn=Ve.create,Cn=_t.create,En=at.create,xa=xe.create,Rn=Te.create,Sn=$e.create,In=xe.createWithPreprocess,On=Tt.create,An=()=>Ua().optional(),Nn=()=>za().optional(),Mn=()=>Va().optional(),Zn={string:a=>_e.create({...a,coerce:!0}),number:a=>Ue.create({...a,coerce:!0}),boolean:a=>dt.create({...a,coerce:!0}),bigint:a=>ze.create({...a,coerce:!0}),date:a=>Ye.create({...a,coerce:!0})},Dn=Z;var pe=Object.freeze({__proto__:null,defaultErrorMap:et,setErrorMap:Ss,getErrorMap:It,makeIssue:Ot,EMPTY_PATH:Is,addIssueToContext:v,ParseStatus:oe,INVALID:Z,DIRTY:Qe,OK:le,isAborted:Xt,isDirty:ea,isValid:He,isAsync:ct,get util(){return W},get objectUtil(){return Qt},ZodParsedType:_,getParsedType:Ne,ZodType:V,datetimeRegex:Da,ZodString:_e,ZodNumber:Ue,ZodBigInt:ze,ZodBoolean:dt,ZodDate:Ye,ZodSymbol:Nt,ZodUndefined:ft,ZodNull:pt,ZodAny:tt,ZodUnknown:Fe,ZodNever:Me,ZodVoid:Mt,ZodArray:be,ZodObject:ee,ZodUnion:ht,ZodDiscriminatedUnion:Vt,ZodIntersection:mt,ZodTuple:Ee,ZodRecord:vt,ZodMap:Zt,ZodSet:Ge,ZodFunction:Xe,ZodLazy:yt,ZodLiteral:gt,ZodEnum:Ve,ZodNativeEnum:_t,ZodPromise:at,ZodEffects:xe,ZodTransformer:xe,ZodOptional:Te,ZodNullable:$e,ZodDefault:bt,ZodCatch:xt,ZodNaN:Dt,BRAND:Ks,ZodBranded:ia,ZodPipeline:Tt,ZodReadonly:kt,custom:qa,Schema:V,ZodSchema:V,late:Qs,get ZodFirstPartyTypeKind(){return M},coerce:Zn,any:on,array:dn,bigint:tn,boolean:Va,date:an,discriminatedUnion:mn,effect:xa,enum:Tn,function:xn,instanceof:Xs,intersection:vn,lazy:kn,literal:wn,map:_n,nan:en,nativeEnum:Cn,never:un,null:rn,nullable:Sn,number:za,object:fn,oboolean:Mn,onumber:Nn,optional:Rn,ostring:An,pipeline:On,preprocess:In,promise:En,record:gn,set:bn,strictObject:pn,string:Ua,symbol:sn,transformer:xa,tuple:yn,undefined:nn,union:hn,unknown:ln,void:cn,NEVER:Dn,ZodIssueCode:f,quotelessJson:Rs,ZodError:he});const $a=(a,e=[])=>{const t=[];let s=!1;for(let n=0;n<a.length;n++){if(s){s=!1;continue}const r=a[n],o=a[n+1];if(r){if(e.length)r.path=[...e,...r.path],o&&(o.path=[...e,...o.path]);else if(r.path[0]!=="paths"){t.push(r);continue}if(r.type==="REMOVE"&&(o==null?void 0:o.type)==="CREATE"){const[,i,l]=r.path,[,u,d]=o.path,p=["paths",u].filter(h=>typeof h=="string");if(i!==u&&t.push({type:"CHANGE",path:["paths","path"],oldValue:i,value:u}),l&&typeof d=="string"&&l!==d&&u&&(t.push({type:"CHANGE",path:["paths",u,"method"],oldValue:l,value:d}),p.push(d)),e.length===0){const h=ra(r.oldValue,o.value);if(h.length){const R=$a(h,p);t.push(...R)}}s=!0}else r.type==="CREATE"&&r.path.length>3&&typeof r.path.at(-1)!="number"?t.push({...r,type:"CHANGE",oldValue:void 0}):r.type==="REMOVE"&&r.path.length>3&&typeof r.path.at(-1)!="number"?t.push({...r,type:"CHANGE",value:void 0}):t.push(r)}}return t},Et=(a,e,t)=>{for(const s of a){const n=e[s];if(n&&t(n))return n}return null},Be=a=>a instanceof pe.ZodOptional?Be(a.unwrap()):a instanceof pe.ZodDefault?Be(a._def.innerType):a instanceof pe.ZodEffects?Be(a._def.schema):a instanceof pe.ZodCatch?Be(a._def.innerType):a,jn=(a,e)=>{let t=a;for(const s of e){if(t=Be(t),t instanceof pe.ZodAny)return t;if(t instanceof pe.ZodObject&&typeof s=="string"&&s in t.shape)t=t.shape[s];else if(t instanceof pe.ZodArray)if(typeof s=="number")t=t.element;else if(typeof s=="string")if(t=t.element,t instanceof pe.ZodObject&&s in t.shape)t=t.shape[s];else return null;else return null;else if(t instanceof pe.ZodRecord)t=t.valueSchema;else return null;t=Be(t)}return t},Je=(a,e)=>{const t=jn(a,e.path);if(!t)return null;const s=e.path.join("."),n=e.path.slice(0,-1).join(".");if(e.type==="REMOVE")return{path:s,pathMinusOne:n,value:void 0};const r=qt(e.value,t,!1);return r?{path:s,pathMinusOne:n,value:r}:null},qn=(a,{activeCollection:e},{collectionMutators:t})=>{if(!e.value)return!1;if(typeof a.path[a.path.length-1]=="number"&&(a.type==="CREATE"||a.type==="REMOVE")){const s=Je(ua,{...a,path:a.path});if(!s)return!1;const n=[...wa(e.value,s.pathMinusOne)];a.type==="CREATE"?n.push(s.value):a.type==="REMOVE"&&n.pop(),t.edit(e.value.uid,s.pathMinusOne,n)}else{const s=Je(ua,a);if(!s)return!1;t.edit(e.value.uid,s.path,s.value)}return!0},ka=(a,e)=>{const{requests:t,requestExamples:s,requestExampleMutators:n}=e,r=t[a];r==null||r.examples.forEach(o=>{var i;const l=Wa(r,((i=s[o])==null?void 0:i.name)??"Default");l&&n.set({...l,uid:o})})},Un=(a,{activeCollection:e},t)=>{if(!e.value)return!1;const{requests:s,requestMutators:n}=t,[,r,o,...i]=a.path;if(r==="path"&&a.type==="CHANGE")e.value.requests.forEach(l=>{var u;((u=s[l])==null?void 0:u.path)===a.oldValue&&n.edit(l,"path",a.value)});else if(o==="method"&&a.type==="CHANGE")e.value.requests.forEach(l=>{var u,d;((u=s[l])==null?void 0:u.method)===a.oldValue&&((d=s[l])==null?void 0:d.path)===r&&n.edit(l,"method",a.value)});else if(a.type!=="CHANGE"&&typeof i.at(-1)=="number"){const l=Et(e.value.requests,s,p=>p.path===r&&p.method===o),u=Je($t,{...a,path:a.path.slice(3)});if(!l||!u)return!1;const d=[...wa(l,u.pathMinusOne)];a.type==="CREATE"?d.push(u.value):a.type==="REMOVE"&&d.pop(),n.edit(l.uid,u.pathMinusOne,d),(a.path[3]==="parameters"||a.path[3]==="requestBody")&&ka(l.uid,t)}else if(a.type==="CREATE"){const[l]=Object.entries(a.value??{}),[u,d]=l??[],p=o?a.value:d,h=o||u,R=Ft.array().parse(p.servers??[]),{security:b,...D}=p,U={...D,method:La(h)?h:"get",path:r,parameters:p.parameters??[],servers:R.map(E=>E.uid)};b!=null&&b.length&&(U.security=b.map(E=>{if(Object.keys(E).length){const[T]=Object.keys(E);return T?{[T]:E[T]}:E}return E}));const q=qt(U,$t,!1);if(!q)return!1;n.add(q,e.value.uid)}else if(a.type==="REMOVE"){const l=Et(e.value.requests,s,u=>u.path===r&&u.method===o);if(!l)return!1;n.delete(l,e.value.uid)}else if(a.type==="CHANGE"){const l=Et(e.value.requests,s,d=>d.path===r&&d.method===o),u=Je($t,{...a,path:i});if(!l||!u)return!1;n.edit(l.uid,u.path,u.value),(a.path[3]==="parameters"||a.path[3]==="requestBody")&&ka(l.uid,t)}return!0},zn=(a,{activeCollection:e},{servers:t,serverMutators:s})=>{if(!e.value)return!1;const[,n,...r]=a.path;if(r!=null&&r.length){const o=e.value.servers[n];if(!o)return!1;const i=t[o],l=Je(Ft,{...a,path:r});if(!i||!l)return!1;const u=a.type==="REMOVE"&&r[r.length-1]==="variables"?{}:l.value;s.edit(o,l.path,u)}else if(a.type==="REMOVE"){if(!e.value.servers[n])return!1;s.delete(e.value.servers[n],e.value.uid)}else if(a.type==="CREATE"){const o=qt(a.value,Ft,!1);if(!o)return!1;s.add(o,e.value.uid)}return!0},Vn=(a,{activeCollection:e},{tags:t,tagMutators:s})=>{if(!e.value)return!1;const[,n,...r]=a.path;if(r!=null&&r.length){const o=e.value.tags[n];if(!o)return!1;const i=t[o],l=Je(da,{...a,path:r});if(!i||!l)return!1;s.edit(o,l.path,l.value)}else if(a.type==="REMOVE"){const o=e.value.tags[n];if(!o)return!1;const i=t[o];if(!i)return!1;s.delete(i,e.value.uid)}else if(a.type==="CREATE"){const o=qt(a.value,da,!1);if(!o)return!1;s.add(o,e.value.uid)}return!0},$n=(a,e,t)=>{const s=Be(a);if(s instanceof pe.ZodUnion||s instanceof pe.ZodDiscriminatedUnion){for(const n of s.options)if(n instanceof pe.ZodObject&&e in n.shape&&n.shape[e]instanceof pe.ZodLiteral&&n.shape[e].value===t)return n}return null},Pn=(a,{activeCollection:e},{securitySchemes:t,securitySchemeMutators:s})=>{if(!e.value)return!1;const[,,n,...r]=a.path,o=t[n]??Et(e.value.securitySchemes,t,i=>i.nameKey===n);if(r!=null&&r.length){const i=$n(ca,"type",(o==null?void 0:o.type)??"");if(!i||!o)return!1;const l=Je(i,{...a,path:r});if(!l)return!1;const u=l.path;s.edit(o.uid,u,l.value)}else if(a.type==="REMOVE"){if(!o)return!1;s.delete(o.uid)}else a.type==="CREATE"&&s.add(ca.parse(a.value),e.value.uid);return!0},Ln=5*1e3,Wn=60*1e3,Bn=()=>{const{toast:a}=aa(),e=Pe(),t=Le(),{activeCollection:s,activeWorkspace:n}=e,{collectionMutators:r}=t,o=d=>a(`[useOpenApiWatcher] Changes to the ${d} were not applied`,"error"),i=d=>{d.path[0]==="info"||d.path[0]==="security"?qn(d,e,t)||o("collection"):d.path[0]==="components"&&d.path[1]==="securitySchemes"?Pn(d,e,t)||o("securitySchemes"):d.path[0]==="servers"?zn(d,e,t)||o("servers"):d.path[0]==="tags"?Vn(d,e,t)||o("tags"):d.path[0]==="paths"&&(Un(d,e,t)||o("requests"))},{pause:l,resume:u}=Ba(async()=>{var d,p;const h=(d=s.value)==null?void 0:d.documentUrl;if(!h)return;const R=Pt[h];try{const b=await Fa(h,(p=n.value)==null?void 0:p.proxyUrl,!1),D=Ha(b);if(r.edit(s.value.uid,"watchModeStatus","WATCHING"),R!=null&&R.hash)if(R.hash&&R.hash!==D){const{schema:U}=await fa(b),q=ra(R.schema,U),E=$a(q);try{E.forEach(i),Pt[h]={hash:D,schema:U}}catch(T){console.error("[useOpenApiWatcher] Error:",T)}}else console.log("[useOpenApiWatcher] No changes detected yet");else{const{schema:U}=await fa(b);U&&(Pt[h]={hash:D,schema:U})}}catch(b){console.error("[useOpenApiWatcher] Error:",b),console.info("[useOpenApiWatcher] Pausing watcher for 60 seconds"),l(),r.edit(s.value.uid,"watchModeStatus","ERROR"),a("[useOpenApiWatcher] Unable to fetch the spec file, paused the watcher for 60 seconds","error"),setTimeout(()=>{console.info("[useOpenApiWatcher] Resuming watcher"),u()},Wn)}},Ln);qe([()=>{var d;return(d=s.value)==null?void 0:d.documentUrl},()=>{var d;return(d=s.value)==null?void 0:d.watchMode}],([d,p])=>{d&&p?(console.info(`[useOpenApiWatcher] Watching ${d} `),u()):s.value&&(l(),r.edit(s.value.uid,"watchModeStatus","IDLE"))},{immediate:!0})},Fn=`         ,\\
         \\\\\\,_
          \\\` ,\\
     __,.-" =__)
   ."        )
,_/   ,    \\/\\_
\\_| )_-\\ \\_-\`
   \`-----\` \`--\``,Hn=`         __
        // \\,_
          \\\` ,\\
     __,.-" =__)
   ."        )
,_/   ,    \\/\\ 
\\_| // /  /  /
   /  /    `,Yn={class:"m-0 flex items-center gap-1.5 whitespace-nowrap font-medium"},Gn={class:"flex h-4 w-4 items-center justify-center"},Jn=Ze({__name:"EnvironmentSelector",setup(a){const{activeCollection:e,activeWorkspace:t,activeEnvironment:s}=Pe(),{collectionMutators:n}=Le(),{layout:r}=wt(),o=st(),i=h=>{e.value&&t.value&&(n.edit(e.value.uid,"x-scalar-active-environment",h),t.value.activeEnvironmentId=h)},l=()=>{var h;return o.push({name:"environment",params:{environment:(h=t.value)==null?void 0:h.uid}})},u=re(()=>{const{value:h}=s,{value:R}=e;return(h==null?void 0:h.uid)||(R==null?void 0:R["x-scalar-active-environment"])||"No Environment"}),d=re(()=>{const{value:h}=e,R=h==null?void 0:h["x-scalar-environments"];return R?Object.entries(R).map(([b,D])=>({...D,uid:b,name:b})):[]}),p=h=>{const R=h["x-scalar-active-environment"];R&&e.value&&t.value?(e.value["x-scalar-active-environment"]=R,t.value.activeEnvironmentId=R):t.value&&(t.value.activeEnvironmentId="")};return qe(e,h=>h&&p(h)),Ut(()=>{e.value&&p(e.value)}),(h,R)=>(I(),se("div",null,[O(c(Ht),{placement:"bottom-end"},{items:N(()=>[(I(!0),se(we,null,ut(d.value,b=>(I(),$(c(je),{key:b.uid,class:"group/item flex items-center gap-1.5 overflow-hidden text-ellipsis whitespace-nowrap",onClick:ae(D=>i(b.uid),["stop"])},{default:N(()=>{var D;return[O(c(Ta),{selected:((D=c(e))==null?void 0:D["x-scalar-active-environment"])===b.uid},null,8,["selected"]),ge(" "+de(b.name),1)]}),_:2},1032,["onClick"]))),128)),O(c(je),{class:"group/item flex items-center gap-1.5 overflow-hidden text-ellipsis whitespace-nowrap",onClick:R[0]||(R[0]=ae(b=>i(""),["stop"]))},{default:N(()=>{var b,D;return[g("div",{class:ne(["flex h-4 w-4 items-center justify-center rounded-full p-[3px]",((b=c(s))==null?void 0:b.uid)===""&&((D=c(e))==null?void 0:D["x-scalar-active-environment"])===""?"bg-c-accent text-b-1":"shadow-border text-transparent"])},[O(c(te),{class:"size-2.5",icon:"Checkmark",thickness:"3"})],2),R[1]||(R[1]=ge(" No Environment "))]}),_:1}),O(c(Ca)),c(r)!=="modal"?(I(),$(c(je),{key:0,class:"flex items-center gap-1.5",onClick:l},{default:N(()=>[g("div",Gn,[O(c(te),{icon:"Brackets",size:"sm"})]),R[2]||(R[2]=g("span",{class:"leading-none"},"Manage Environments",-1))]),_:1})):Y("",!0)]),default:N(()=>[O(c(ye),{class:"text-c-1 hover:bg-b-2 h-auto w-fit justify-start px-1.5 py-1.5 pl-2 font-normal",fullWidth:"",variant:"ghost"},{default:N(()=>[g("h2",Yn,de(u.value),1)]),_:1})]),_:1})]))}});function Kn(){const a=st(),{activeWorkspace:e,activeWorkspaceRequests:t,activeWorkspaceCollections:s}=Pe(),{requests:n,tags:r}=Le(),o=ie([]),i=ie([]),l=ie(0),u=ie(""),d=ie(null),p=ie([]),h=new ps(o.value,{keys:["title","description","body"]}),R=()=>{u.value="",l.value=0,i.value=[],d.value instanceof HTMLInputElement&&d.value.blur()},b=m=>{o.value=m.filter(x=>!St(x)).filter(x=>{var P;const B=(P=s.value)==null?void 0:P.find(L=>L.requests.includes(x.uid));return!(B!=null&&B.tags.map(L=>r[L]).filter(Rt).filter(L=>{var F;return(F=x.tags)==null?void 0:F.includes(L.name)}).filter(L=>St(L)).length)}).map(x=>{var P,B;return{id:x.uid,title:x.summary??x.method,description:x.description??"",httpVerb:x.method,path:x.path,link:(B=a==null?void 0:a.resolve({name:"request",params:{[fe.Request]:x.uid,[fe.Workspace]:(P=e.value)==null?void 0:P.uid}}))==null?void 0:B.href}}),h.setCollection(o.value)},D=()=>{l.value=0,i.value=h.search(u.value)};qe(u,m=>{m.length?D():i.value=[]});const U=m=>{const x=m==="up"?-1:1,P=y.value.length;l.value=(l.value+x+P)%P,sa(()=>{const B=p.value[l.value];B instanceof HTMLElement&&B.scrollIntoView({behavior:"smooth",block:"center"})})},q=()=>{if(l.value>=0){const m=y.value[l.value];m&&T(m)}},E=re(()=>t.value.map(m=>n[m]).filter(Rt));qe(t,()=>{b(E.value)},{immediate:!0});const T=m=>{a.push(m.item.id),R()},y=re(()=>u.value.length===0?o.value.map(m=>({item:m})):i.value);return{searchText:u,searchResultsWithPlaceholderResults:y,selectedSearchResult:l,onSearchResultClick:T,fuseSearch:D,searchInputRef:d,searchResultRefs:p,navigateSearchResults:U,selectSearchResult:q,populateFuseDataArray:b}}function Qn(a,{collections:e,collectionMutators:t,tags:s,tagMutators:n,workspaceMutators:r}){const{layout:o}=wt(),i=(l,u)=>{l.type==="collection"?t.edit(l.uid,"children",u):l.type==="tag"&&n.edit(l.uid,"children",u)};return{handleDragEnd:(l,u)=>{var d,p,h,R;if(!l||!u)return;const{id:b,parentId:D}=l,{id:U,parentId:q,offset:E}=u;if(D?e[D]?t.edit(D,"children",e[D].children.filter(T=>T!==b)):s[D]&&n.edit(D,"children",s[D].children.filter(T=>T!==b)):r.edit((d=a.value)==null?void 0:d.uid,"collections",((p=a.value)==null?void 0:p.collections.filter(T=>T!==b))??[]),E===2){const T=e[U]||s[U];T&&i(T,[...T.children??[],b])}else if(q){const T=e[q]||s[q];if(!T)return;const y=[...T.children??[]],m=y.findIndex(x=>U===x)??0;y.splice(m+E,0,b),i(T,y)}else{const T=[...((h=a.value)==null?void 0:h.collections)??[]],y=T.findIndex(m=>U===m)??0;T.splice(y+E,0,b),r.edit((R=a.value)==null?void 0:R.uid,"collections",T)}},isDroppable:(l,u)=>{var d,p;return!(o==="modal"||!e[l.id]&&u.offset!==2||e[l.id]&&((p=(d=e[u.id])==null?void 0:d.info)==null?void 0:p.title)==="Drafts")}}}const Xn={class:"grid grid-cols-[auto,1fr] gap-2"},er={class:"flex aspect-square"},tr=Ze({__name:"EditSidebarListCollection",props:{name:{},icon:{}},emits:["close","edit"],setup(a,{emit:e}){const t=a,s=e,n=ie(t.name),r=ie(t.icon);return(o,i)=>(I(),$(vs,{onCancel:i[2]||(i[2]=l=>s("close")),onSubmit:i[3]||(i[3]=l=>s("edit",n.value,r.value))},{default:N(()=>[g("div",Xn,[g("div",er,[O(gs,{modelValue:r.value,"onUpdate:modelValue":i[0]||(i[0]=l=>r.value=l),placement:"bottom-start"},{default:N(()=>[O(c(ye),{class:"aspect-square h-auto px-0",variant:"outlined"},{default:N(()=>[O(c(Sa),{class:"text-c-2 size-4",src:r.value},null,8,["src"])]),_:1})]),_:1},8,["modelValue"])]),O(c(ys),{modelValue:n.value,"onUpdate:modelValue":i[1]||(i[1]=l=>n.value=l),autofocus:"",class:"flex-1"},null,8,["modelValue"])])]),_:1}))}}),ar=Ze({__name:"RequestSidebarItemMenu",props:{menuItem:{}},emits:["closeMenu","toggleWatchMode","clearDrafts"],setup(a,{emit:e}){const t=a,s=e,{replace:n}=st(),{activeRouterParams:r,activeWorkspaceCollections:o,activeWorkspaceRequests:i}=Pe(),{events:l,requestMutators:u}=Le(),d=ot(),p=ot(),h=ot(),R=()=>{var m;return l.commandPalette.emit({commandName:"Add Example",metaData:{itemUid:(m=t.menuItem.item)==null?void 0:m.entity.uid}})},b=(m,x)=>{var P;(P=t.menuItem.item)==null||P.edit(m,x),d.hide()},D=()=>{var m,x,P;if((m=t.menuItem.item)==null||m.delete(),!i.value.length){const{request:B}=Ea(),L=o.value.find(F=>{var H;return((H=F.info)==null?void 0:H.title)==="Drafts"});L&&(u.add(B,L.uid),n({name:"request",params:{[fe.Request]:B.uid}}))}if(r.value[fe.Request]===((x=t.menuItem.item)==null?void 0:x.entity.uid)&&n({name:"request",params:{[fe.Request]:"default"}}),r.value[fe.Examples]===((P=t.menuItem.item)==null?void 0:P.entity.uid)&&n({name:"request",params:{[fe.Request]:"default"}}),o.value[0]){const B=o.value[0].requests[0];n({name:"request",params:{[fe.Request]:B}})}p.hide()},U=ie(null);qe([()=>t.menuItem.open,U],async([m])=>{var x,P;m&&(P=(x=U.value)==null?void 0:x.$parent)!=null&&P.$el&&U.value.$parent.$el.focus()});const q=()=>t.menuItem.open&&s("closeMenu");Ut(()=>window.addEventListener("click",q)),na(()=>window.removeEventListener("click",q));const E=()=>{s("toggleWatchMode",t.menuItem.item)},T=()=>{s("clearDrafts"),h.hide()},y=re(()=>{var m;return((m=t.menuItem.item)==null?void 0:m.title)==="Drafts"});return(m,x)=>{var P,B;return I(),se(we,null,[m.menuItem.targetRef&&m.menuItem.open?(I(),$(c(Ga),{key:0,placement:"right-start",target:m.menuItem.targetRef,teleport:""},{floating:N(()=>[O(c(Ya),{onKeydown:x[3]||(x[3]=Ct(L=>m.$emit("closeMenu"),["escape"]))},{default:N(()=>{var L,F;return[((L=m.menuItem.item)==null?void 0:L.entity.type)==="request"?(I(),$(c(nt),{key:0,class:"flex gap-2",onClick:R},{default:N(()=>[O(c(te),{class:"inline-flex",icon:"Example",size:"md",thickness:"1.5"}),x[8]||(x[8]=g("span",null,"Add Example",-1))]),_:1})):Y("",!0),y.value?Y("",!0):(I(),$(c(nt),{key:1,ref_key:"menuRef",ref:U,class:"flex gap-2",onClick:x[0]||(x[0]=H=>c(d).show())},{default:N(()=>{var H;return[O(c(te),{class:"inline-flex",icon:"Edit",size:"md",thickness:"1.5"}),g("span",null,[((H=m.menuItem.item)==null?void 0:H.entity.type)==="collection"?(I(),se(we,{key:0},[ge(" Edit ")],64)):(I(),se(we,{key:1},[ge(" Rename ")],64))])]}),_:1},512)),(F=m.menuItem.item)!=null&&F.documentUrl?(I(),$(c(nt),{key:2,ref_key:"menuRef",ref:U,class:"flex gap-2",onClick:E},{default:N(()=>{var H,K;return[O(c(te),{class:"inline-flex",icon:(H=m.menuItem.item)!=null&&H.watchMode?"Unwatch":"Watch",size:"md",thickness:"1.5"},null,8,["icon"]),g("span",null,de((K=m.menuItem.item)!=null&&K.watchMode?"Disable Watch Mode":"Enable Watch Mode"),1)]}),_:1},512)):Y("",!0),y.value?Y("",!0):(I(),$(c(nt),{key:3,class:"flex gap-2",onClick:x[1]||(x[1]=H=>c(p).show())},{default:N(()=>[O(c(te),{class:"inline-flex",icon:"Delete",size:"md",thickness:"1.5"}),x[9]||(x[9]=g("span",null,"Delete",-1))]),_:1})),y.value?(I(),$(c(nt),{key:4,class:"flex gap-2",onClick:x[2]||(x[2]=H=>c(h).show())},{default:N(()=>[O(c(te),{class:"inline-flex",icon:"Delete",size:"md",thickness:"1.5"}),x[10]||(x[10]=g("span",null,"Clear Drafts",-1))]),_:1})):Y("",!0)]}),_:1})]),_:1},8,["target"])):Y("",!0),O(c(lt),{size:"xxs",state:c(p),title:`Delete ${(P=m.menuItem.item)==null?void 0:P.resourceTitle}`},{default:N(()=>{var L,F;return[O(Kt,{variableName:((L=m.menuItem.item)==null?void 0:L.title)??"",warningMessage:(F=m.menuItem.item)==null?void 0:F.warning,onClose:x[4]||(x[4]=H=>c(p).hide()),onDelete:D},null,8,["variableName","warningMessage"])]}),_:1},8,["state","title"]),O(c(lt),{size:"xxs",state:c(d),title:`Edit ${(B=m.menuItem.item)==null?void 0:B.resourceTitle}`},{default:N(()=>{var L,F,H,K;return[((L=m.menuItem.item)==null?void 0:L.resourceTitle)==="Collection"?(I(),$(tr,{key:0,icon:((F=m.menuItem.item)==null?void 0:F.icon)||"interface-content-folder",name:(H=m.menuItem.item)==null?void 0:H.title,onClose:x[5]||(x[5]=G=>c(d).hide()),onEdit:b},null,8,["icon","name"])):(I(),$(Oa,{key:1,name:((K=m.menuItem.item)==null?void 0:K.title)??"",onClose:x[6]||(x[6]=G=>c(d).hide()),onEdit:b},null,8,["name"]))]}),_:1},8,["state","title"]),O(c(lt),{size:"xxs",state:c(h),title:"Clear Drafts"},{default:N(()=>[O(Kt,{variableName:"All Drafts",warningMessage:"This action will clear all drafts. This cannot be undone.",onClose:x[7]||(x[7]=L=>c(h).hide()),onDelete:T})]),_:1},8,["state"])],64)}}}),sr=zt(ar,[["__scopeId","data-v-7d3c4813"]]),nr=(a,e,t)=>{var s;const n=a.find(l=>{var u;return((u=l.info)==null?void 0:u.title)==="Drafts"}),r=e.length===1;if(!e[0])return!1;const o=n==null?void 0:n.requests.includes(e[0]);if(!o)return!1;const i=((s=t[(n==null?void 0:n.requests[0])??""])==null?void 0:s.summary)!=="My First Request";return r&&o&&!i},Oe=ie(null),De=ie(null),rr=(a,e)=>{let t=!1;return(...s)=>{t||(a(...s),t=!0,setTimeout(()=>t=!1,e))}},ir=["draggable"],or=Ze({__name:"Draggable",props:{ceiling:{default:.8},floor:{default:.2},isDraggable:{type:Boolean,default:!0},isDroppable:{type:[Boolean,Function],default:!0},parentIds:{},id:{}},emits:["onDragEnd","onDragStart"],setup(a,{expose:e,emit:t}){const s=t,n=re(()=>a.parentIds.at(-1)??null),r=p=>{!p.dataTransfer||!(p.target instanceof HTMLElement)||!a.isDraggable||(p.target.classList.add("dragging"),p.dataTransfer.dropEffect="move",p.dataTransfer.effectAllowed="move",Oe.value={id:a.id,parentId:n.value},s("onDragStart",{id:a.id,parentId:n.value}))},o=p=>typeof a.isDroppable=="function"?a.isDroppable(Oe.value,{id:a.id,parentId:n.value,offset:p}):a.isDroppable,i=rr(p=>{var h,R;if(!Oe.value||Oe.value.id===a.id||a.parentIds.includes(((h=Oe.value)==null?void 0:h.id)??""))return;const b=(R=De.value)==null?void 0:R.offset,D=p.target.offsetHeight,U=a.floor*D,q=a.ceiling*D;let E=3;p.offsetY<=0&&b&&b!==3?E=b:p.offsetY<=U?E=0:p.offsetY>=q?E=1:p.offsetY>U&&p.offsetY<q&&(E=2),o(E)&&(De.value={id:a.id,parentId:n.value,offset:E})},25),l=["above","below","asChild"],u=re(()=>{var p;let h="sidebar-indent-nested";return a.id===((p=De.value)==null?void 0:p.id)&&(h+=` dragover-${l[De.value.offset]}`),h}),d=()=>{if(!De.value||!Oe.value)return;const p={...Oe.value},h={...De.value};Oe.value=null,De.value=null,document.querySelectorAll("div.dragging").forEach(R=>R.classList.remove("dragging")),p.id!==h.id&&s("onDragEnd",p,h)};return e({draggingItem:Oe,hoveredItem:De}),(p,h)=>(I(),se("div",{class:ne(u.value),draggable:p.isDraggable,onDragend:d,onDragover:h[0]||(h[0]=ae((...R)=>c(i)&&c(i)(...R),["prevent","stop"])),onDragstart:ae(r,["stop"])},[Yt(p.$slots,"default",{},void 0,!0)],42,ir))}}),lr=(a,e)=>{const t=a.__vccOpts||a;for(const[s,n]of e)t[s]=n;return t},ur=lr(or,[["__scopeId","data-v-3449bf19"]]),cr={class:"line-clamp-1 w-full break-all pl-2 font-medium"},dr={class:"flex flex-row items-center gap-1"},fr={class:"relative"},pr={class:"flex items-start"},hr=["aria-expanded"],mr={class:"flex flex-1 flex-row justify-between font-medium"},vr={class:"line-clamp-1 w-full break-all text-left"},yr={class:"relative flex h-fit justify-end"},gr={class:"w-content bg-b-1 z-100 text-xxs text-c-1 pointer-events-none z-10 grid max-w-10 gap-1.5 rounded p-2 leading-5 shadow-lg"},_r={class:"text-c-2 flex items-center"},br={class:"text-pretty break-all"},xr=["aria-expanded"],kr={class:"flex h-5 max-w-[14px] items-center justify-center"},wr={class:"flex flex-1 flex-row justify-between"},Tr={class:"line-clamp-1 w-full break-all text-left font-medium"},Cr={class:"relative flex h-fit justify-end"},Er={class:"w-content bg-b-1 z-100 text-xxs text-c-1 pointer-events-none z-10 grid max-w-10 gap-1.5 rounded p-2 leading-5 shadow-lg"},Rr={class:"text-c-2 flex items-center"},Sr={class:"text-pretty break-all"},Ir={key:3},Bt="hover:bg-sidebar-active-b indent-padding-left",Or=Ze({__name:"RequestSidebarItem",props:{isDraggable:{type:Boolean,default:!1},isDroppable:{type:[Boolean,Function],default:!1},parentUids:{},uid:{},menuItem:{}},emits:["onDragEnd","newTab","openMenu"],setup(a,{emit:e}){Ja(k=>({f1b25d28:x.value,"30af9cd2":P.value}));const t=e,{activeCollection:s,activeRequest:n,activeRouterParams:r,activeWorkspace:o}=Pe(),{collections:i,tags:l,requests:u,requestExamples:d,collectionMutators:p,tagMutators:h,requestMutators:R,requestExampleMutators:b,events:D}=Le(),U=st(),{collapsedSidebarFolders:q,toggleSidebarFolder:E}=jt(),{layout:T}=wt(),y=re(()=>{var k,w,ce,me,Se,J;const A=i[a.uid],C=l[a.uid],j=u[a.uid],Q=d[a.uid];return A?{title:((k=A.info)==null?void 0:k.title)||"Untitled Collection",entity:A,resourceTitle:"Collection",children:A.children,icon:A["x-scalar-icon"],documentUrl:A.documentUrl,watchMode:A.watchMode,to:A.uid&&((w=A==null?void 0:A.info)==null?void 0:w.title)!=="Drafts"?{name:"collection",params:{[fe.Workspace]:(ce=o.value)==null?void 0:ce.uid,[fe.Collection]:A.uid}}:void 0,warning:"This cannot be undone. Youre about to delete the collection and all folders and requests inside it.",edit:(X,Ie)=>{p.edit(A.uid,"info.title",X),Ie&&p.edit(A.uid,"x-scalar-icon",Ie)},delete:()=>{o.value&&p.delete(A,o.value)}}:C?{title:C.name,entity:C,resourceTitle:"Tag",children:C.children,warning:"This cannot be undone. Youre about to delete the tag and all requests inside it",edit:X=>h.edit(C.uid,"name",X),delete:()=>a.parentUids[0]&&h.delete(C,a.parentUids[0])}:j?{title:j.summary??j.path,to:{name:"request",params:{workspace:(me=o.value)==null?void 0:me.uid,request:j.uid}},method:j.method,entity:j,resourceTitle:"Request",warning:"This cannot be undone. Youre about to delete the request.",children:j.examples.slice(1),edit:X=>R.edit(j.uid,"summary",X),delete:()=>a.parentUids[0]&&R.delete(j,a.parentUids[0])}:Q!=null&&Q.requestUid?{title:Q.name,to:{name:"request.examples",params:{workspace:(Se=o.value)==null?void 0:Se.uid,request:Q.requestUid,examples:Q.uid}},method:(J=u[Q.requestUid])==null?void 0:J.method,entity:Q,resourceTitle:"Example",warning:"This cannot be undone. Youre about to delete the example from the request.",children:[],edit:X=>b.edit(Q.uid,"name",X),delete:()=>b.delete(Q)}:{title:"Unknown",entity:{uid:"",type:"unknown"},resourceTitle:"Unknown",children:[],edit:()=>null,delete:()=>null}}),m=re(()=>y.value.entity.type==="collection"&&y.value.title==="Drafts"),x=re(()=>a.parentUids.length?T==="modal"?`${(a.parentUids.length-1)*12}px`:`${a.parentUids.length*12}px`:"12px"),P=re(()=>a.parentUids.length?T==="modal"?`${(a.parentUids.length-1)*12}px`:`${a.parentUids.length*12}px`:"0px"),B=re(()=>{var k;return q[a.uid]||((k=n.value)==null?void 0:k.uid)===a.uid&&y.value.entity.examples.length>1}),L=re(()=>{var k;return typeof U.currentRoute.value.name=="string"&&U.currentRoute.value.name.startsWith("request")&&r.value[fe.Request]==="default"&&((k=n.value)==null?void 0:k.uid)===a.uid}),F=ie(null),H=re(()=>{let k=.5,w=.5;if(!F.value)return{ceiling:k,floor:w};const{draggingItem:ce}=F.value;return!i[ce==null?void 0:ce.id]&&y.value.entity.type==="collection"?(k=1,w=0):y.value.entity.type==="tag"&&(k=.8,w=.2),{ceiling:k,floor:w}}),K=(k,w)=>!(T==="modal"||d[w.id]||i[k.id]),G=(k,w)=>{k&&(Qa(["default"]).some(ce=>k[ce])?t("newTab",w.title||"",w.entity.uid):w.to&&U.push(w.to),sa(()=>D.focusAddressBar.emit()))};function ue(k){var w,ce,me;const Se=a.parentUids[0]?((w=i[a.parentUids[0]])==null?void 0:w.uid)||"":k,J=a.parentUids[0]&&(ce=l[k])!=null&&ce.name?{tags:[l[k].name]}:{},A=R.add(J,Se);A&&(U.push({name:"request",params:{workspace:(me=o.value)==null?void 0:me.uid,request:A.uid}}),D.hotKeys.emit({focusAddressBar:new KeyboardEvent("keydown",{key:"l"})}))}const Re=re(()=>{const{uid:k,watchModeStatus:w}=s.value||{};return k!==y.value.entity.uid?"text-c-3":w==="WATCHING"?"text-c-1":w==="ERROR"?"text-red":"text-c-3"}),ve=re(()=>y.value.title==="Drafts"&&T!=="modal"&&y.value.children.length>0),We=re(()=>{const k=u[a.uid];if(k)return!St(k);const w=l[a.uid];return w?!St(w):!0});return(k,w)=>{const ce=Ka("RequestSidebarItem",!0);return We.value?(I(),se("li",{key:0,class:ne(["relative flex flex-row",[c(T)==="modal"&&k.parentUids.length>1||c(T)!=="modal"&&k.parentUids.length?"before:bg-border indent-border-line-offset before:z-1 mb-[.5px] before:pointer-events-none before:absolute before:left-[calc(.75rem_+_.5px)] before:top-0 before:h-[calc(100%_+_.5px)] before:w-[.5px] last:mb-0 last:before:h-full":""]])},[O(c(ur),{id:y.value.entity.uid,ref_key:"draggableRef",ref:F,ceiling:H.value.ceiling,class:"gap-1/2 flex flex-1 flex-col text-sm",floor:H.value.floor,isDraggable:k.isDraggable,isDroppable:k.isDroppable,parentIds:k.parentUids,onOnDragEnd:w[13]||(w[13]=(...me)=>k.$emit("onDragEnd",...me))},{default:N(()=>{var me,Se;return[(y.value.entity.type==="request"||y.value.entity.type==="requestExample")&&y.value.to?(I(),$(c(pa),{key:0,class:"group no-underline",to:y.value.to,onClick:w[1]||(w[1]=ae(J=>G(J,y.value),["prevent"]))},{default:N(({isExactActive:J})=>{var A,C;return[g("div",{class:ne(["relative flex min-h-8 w-full cursor-pointer flex-row items-start justify-between gap-0.5 rounded py-1.5 pr-2",[Bt,J||L.value?"bg-sidebar-active-b text-sidebar-active-c transition-none":"text-sidebar-c-2"]])},[g("span",cr,de(y.value.title||"Untitled"),1),g("div",dr,[g("div",fr,[c(T)!=="modal"?(I(),$(c(ye),{key:0,class:ne(["hover:bg-b-3 hidden aspect-square h-fit px-0.5 py-0 opacity-0 group-hover:flex group-hover:opacity-100 group-focus-visible:opacity-100 group-has-[:focus-visible]:opacity-100",{flex:((C=(A=k.menuItem)==null?void 0:A.item)==null?void 0:C.entity.uid)===y.value.entity.uid&&k.menuItem.open}]),size:"sm",type:"button",variant:"ghost",onClick:w[0]||(w[0]=ae(j=>k.$emit("openMenu",{item:y.value,parentUids:k.parentUids,targetRef:j.currentTarget,open:!k.menuItem.open}),["stop","prevent"]))},{default:N(()=>[O(c(te),{icon:"Ellipses",size:"md"})]),_:1},8,["class"])):Y("",!0)]),g("span",pr,[w[14]||(w[14]=ge("  ")),w[15]||(w[15]=g("span",{class:"sr-only"},"HTTP Method:",-1)),y.value.method?(I(),$(c(Ia),{key:0,class:"font-bold",method:y.value.method},null,8,["method"])):Y("",!0)])])],2)]}),_:1},8,["to"])):(c(T)!=="modal"||k.parentUids.length)&&y.value.entity.type==="collection"?(I(),se("div",{key:1,"aria-expanded":!!c(q)[y.value.entity.uid],class:ne(["hover:bg-b-2 group relative flex w-full flex-row justify-start gap-1.5 rounded p-1.5 focus-visible:z-10",[Bt,{"bg-sidebar-active-b text-sidebar-active-c transition-none":typeof c(U).currentRoute.value.name=="string"&&c(U).currentRoute.value.name.startsWith("collection")&&c(U).currentRoute.value.params[c(fe).Collection]===y.value.entity.uid,"text-c-2":y.value.title==="Untitled Collection"}]])},[g("span",{class:"flex h-5 max-w-[14px] cursor-pointer items-center justify-center",onClick:w[2]||(w[2]=J=>c(E)(y.value.entity.uid))},[Yt(k.$slots,"leftIcon",{},()=>[O(c(ha),{class:"text-c-3 shrink-0",open:!!c(q)[y.value.entity.uid]},null,8,["open"])],!0),w[16]||(w[16]=ge("  "))]),g("div",mr,[y.value.to?(I(),$(c(pa),{key:0,class:"w-full no-underline",to:y.value.to,onClick:w[3]||(w[3]=ae(()=>{},["stop","prevent"]))},{default:N(()=>[g("span",vr,de(y.value.title),1)]),_:1},8,["to"])):(I(),se(we,{key:1},[ge(de(y.value.title),1)],64)),g("div",yr,[g("div",{class:ne(["items-center gap-px opacity-0 group-hover:flex group-hover:opacity-100 group-focus-visible:opacity-100 group-has-[:focus-visible]:opacity-100",{flex:k.menuItem.open,hidden:!k.menuItem.open||((me=k.menuItem.item)==null?void 0:me.entity.uid)!==y.value.entity.uid}])},[c(T)!=="modal"&&!m.value||m.value&&ve.value?(I(),$(c(ye),{key:0,class:"hover:bg-b-3 hover:text-c-1 aspect-square h-fit px-0.5 py-0 group-focus-visible:opacity-100 group-has-[:focus-visible]:opacity-100",size:"sm",variant:"ghost",onClick:w[4]||(w[4]=ae(J=>k.$emit("openMenu",{item:y.value,parentUids:k.parentUids,targetRef:J.currentTarget.parentNode,open:!0}),["stop","prevent"]))},{default:N(()=>[O(c(te),{icon:"Ellipses",size:"md"})]),_:1})):Y("",!0),c(T)!=="modal"?(I(),$(c(ye),{key:1,class:"hover:bg-b-3 hover:text-c-1 aspect-square h-fit px-0.5 py-0 group-focus-visible:opacity-100 group-has-[:focus-visible]:opacity-100",size:"sm",variant:"ghost",onClick:w[5]||(w[5]=ae(J=>ue(y.value.entity.uid),["stop","prevent"]))},{default:N(()=>[O(c(te),{icon:"Add",size:"md",thickness:"2"})]),_:1})):Y("",!0)],2),y.value.watchMode?(I(),$(c(Gt),{key:0,side:"right",sideOffset:12},{trigger:N(()=>[O(c(te),{class:ne(["ml-0.5 text-sm",Re.value]),icon:"Watch",size:"md",thickness:"2"},null,8,["class"])]),content:N(()=>[g("div",gr,[g("div",_r,[g("p",br," Watching: "+de(y.value.documentUrl),1)])])]),_:1})):Y("",!0),w[17]||(w[17]=g("span",null,"",-1))])])],10,hr)):c(T)!=="modal"||k.parentUids.length?(I(),se("button",{key:2,"aria-expanded":!!c(q)[y.value.entity.uid],class:ne(["hover:bg-b-2 group relative flex w-full flex-row justify-start gap-1.5 rounded p-1.5 focus-visible:z-10",[Bt]]),type:"button",onClick:w[8]||(w[8]=J=>c(E)(y.value.entity.uid))},[g("span",kr,[Yt(k.$slots,"leftIcon",{},()=>[O(c(ha),{class:"text-c-3 hover:text-c-1 shrink-0",open:!!c(q)[y.value.entity.uid]},null,8,["open"])],!0),w[18]||(w[18]=ge("  "))]),g("div",wr,[g("span",Tr,de(y.value.title),1),g("div",Cr,[g("div",{class:ne(["items-center gap-px opacity-0 group-hover:flex group-hover:opacity-100 group-focus-visible:opacity-100 group-has-[:focus-visible]:opacity-100",{flex:k.menuItem.open,hidden:!k.menuItem.open||((Se=k.menuItem.item)==null?void 0:Se.entity.uid)!==y.value.entity.uid}])},[c(T)!=="modal"&&!m.value||m.value&&ve.value?(I(),$(c(ye),{key:0,class:"hover:bg-b-3 hover:text-c-1 aspect-square h-fit px-0.5 py-0 group-focus-visible:opacity-100 group-has-[:focus-visible]:opacity-100",size:"sm",variant:"ghost",onClick:w[6]||(w[6]=ae(J=>k.$emit("openMenu",{item:y.value,parentUids:k.parentUids,targetRef:J.currentTarget.parentNode,open:!0}),["stop","prevent"]))},{default:N(()=>[O(c(te),{icon:"Ellipses",size:"md"})]),_:1})):Y("",!0),c(T)!=="modal"?(I(),$(c(ye),{key:1,class:"hover:bg-b-3 hover:text-c-1 aspect-square h-fit px-0.5 py-0 group-focus-visible:opacity-100 group-has-[:focus-visible]:opacity-100",size:"sm",variant:"ghost",onClick:w[7]||(w[7]=ae(J=>ue(y.value.entity.uid),["stop","prevent"]))},{default:N(()=>[O(c(te),{icon:"Add",size:"md",thickness:"2"})]),_:1})):Y("",!0)],2),y.value.watchMode?(I(),$(c(Gt),{key:0,side:"right",sideOffset:12},{trigger:N(()=>[O(c(te),{class:ne(["ml-0.5 text-sm",Re.value]),icon:"Watch",size:"md",thickness:"2"},null,8,["class"])]),content:N(()=>[g("div",Er,[g("div",Rr,[g("p",Sr," Watching: "+de(y.value.documentUrl),1)])])]),_:1})):Y("",!0),w[19]||(w[19]=g("span",null,"",-1))])])],10,xr)):Y("",!0),B.value?(I(),se("ul",Ir,[(I(!0),se(we,null,ut(y.value.children,J=>(I(),$(ce,{key:J,isDraggable:!c(d)[J],isDroppable:K,menuItem:k.menuItem,parentUids:[...k.parentUids,k.uid],uid:J,onNewTab:w[9]||(w[9]=(A,C)=>k.$emit("newTab",A,C)),onOnDragEnd:w[10]||(w[10]=(...A)=>k.$emit("onDragEnd",...A)),onOpenMenu:w[11]||(w[11]=A=>k.$emit("openMenu",A))},null,8,["isDraggable","menuItem","parentUids","uid"]))),128)),y.value.children.length===0?(I(),$(c(ye),{key:0,class:ne(["text-c-1 hover:bg-b-2 flex h-8 w-full justify-start gap-1.5 py-0 text-xs",k.parentUids.length?"pl-9":""]),variant:"ghost",onClick:w[12]||(w[12]=J=>ue(y.value.entity.uid))},{default:N(()=>[O(c(te),{icon:"Add",size:"sm"}),w[20]||(w[20]=g("span",null,"Add Request",-1))]),_:1},8,["class"])):Y("",!0)])):Y("",!0)]}),_:3},8,["id","ceiling","floor","isDraggable","isDroppable","parentIds"])],2)):Y("",!0)}}}),Ar=zt(Or,[["__scopeId","data-v-716d294a"]]),Nr={class:"flex w-[inherit] items-center text-sm"},Mr={class:"m-0 flex items-center gap-1.5 font-bold"},Zr={class:"line-clamp-1 text-left"},Dr={class:"overflow-hidden text-ellipsis"},jr={class:"flex h-4 w-4 items-center justify-center"},qr=Ze({__name:"WorkspaceDropdown",setup(a){const{activeWorkspace:e}=Pe(),{workspaces:t,workspaceMutators:s,events:n}=Le(),{push:r}=st(),o=q=>{var E;q!==((E=e.value)==null?void 0:E.uid)&&r({name:"workspace",params:{workspace:q}})},i=re(()=>Object.keys(t).length===1),l=()=>n.commandPalette.emit({commandName:"Create Workspace"}),u=ie(""),d=ie(""),p=ot(),h=ot(),R=q=>{const E=t[q];E&&(u.value=E.name,d.value=q,p.show())},b=q=>{q.trim()&&(s.edit(d.value,"name",q.trim()),p.hide())},D=q=>{const E=t[q];E&&(u.value=E.name,d.value=q,h.show())},U=async()=>{var q;if(!i.value){const E=((q=e.value)==null?void 0:q.uid)===d.value,T={...t};if(delete T[d.value],s.delete(d.value),E){const y=Object.keys(T)[0];await r({name:"workspace",params:{workspace:y}})}}h.hide()};return(q,E)=>(I(),se("div",null,[g("div",Nr,[O(c(Ht),null,{items:N(()=>[(I(!0),se(we,null,ut(c(t),(T,y)=>(I(),$(c(je),{key:y,class:"group/item flex w-full items-center gap-1.5 overflow-hidden text-ellipsis whitespace-nowrap",onClick:ae(m=>o(T.uid),["stop"])},{default:N(()=>{var m;return[O(c(Ta),{selected:((m=c(e))==null?void 0:m.uid)===y},null,8,["selected"]),g("span",Dr,de(T.name),1),O(c(Ht),{placement:"right-start",teleport:""},{items:N(()=>[O(c(je),{class:"flex gap-2",onMousedown:x=>R(T.uid),onTouchend:ae(x=>R(T.uid),["prevent"])},{default:N(()=>[O(c(te),{class:"inline-flex",icon:"Edit",size:"md",thickness:"1.5"}),E[4]||(E[4]=g("span",null,"Rename",-1))]),_:2},1032,["onMousedown","onTouchend"]),i.value?(I(),$(c(Gt),{key:0,class:"z-overlay",side:"bottom"},{trigger:N(()=>[O(c(je),{class:"flex w-full gap-2",disabled:"",onMousedown:E[0]||(E[0]=ae(()=>{},["prevent"])),onTouchend:E[1]||(E[1]=ae(()=>{},["prevent"]))},{default:N(()=>[O(c(te),{class:"inline-flex",icon:"Delete",size:"md",thickness:"1.5"}),E[5]||(E[5]=g("span",null,"Delete",-1))]),_:1})]),content:N(()=>E[6]||(E[6]=[g("div",{class:"w-content bg-b-1 text-xxs text-c-1 pointer-events-none z-10 grid min-w-48 gap-1.5 rounded p-2 leading-5 shadow-lg"},[g("div",{class:"text-c-2 flex items-center"},[g("span",null,"Only workspace cannot be deleted.")])],-1)])),_:1})):(I(),$(c(je),{key:1,class:"flex !gap-2",onMousedown:ae(x=>D(T.uid),["prevent"]),onTouchend:ae(x=>D(T.uid),["prevent"])},{default:N(()=>[O(c(te),{class:"inline-flex",icon:"Delete",size:"sm",thickness:"1.5"}),E[7]||(E[7]=g("span",null,"Delete",-1))]),_:2},1032,["onMousedown","onTouchend"]))]),default:N(()=>[O(c(ye),{class:"hover:bg-b-3 -mr-1 ml-auto aspect-square h-fit px-0.5 py-0 group-hover/item:flex",size:"sm",type:"button",variant:"ghost"},{default:N(()=>[O(c(te),{icon:"Ellipses",size:"sm"})]),_:1})]),_:2},1024)]}),_:2},1032,["onClick"]))),128)),O(c(Ca)),O(c(je),{class:"flex items-center gap-1.5",onClick:l},{default:N(()=>[g("div",jr,[O(c(te),{icon:"Add",size:"sm"})]),E[8]||(E[8]=g("span",null,"Create Workspace",-1))]),_:1})]),default:N(()=>[O(c(ye),{class:"text-c-1 hover:bg-b-2 line-clamp-1 h-full w-fit justify-start px-1.5 py-1.5 font-normal",fullWidth:"",variant:"ghost"},{default:N(()=>{var T;return[g("div",Mr,[g("h2",Zr,de((T=c(e))==null?void 0:T.name),1)])]}),_:1})]),_:1})]),O(c(lt),{size:"xxs",state:c(h),title:"Delete workspace"},{default:N(()=>[O(Kt,{variableName:u.value,warningMessage:"This cannot be undone. Youre about to delete the workspace and everything inside it.",onClose:E[2]||(E[2]=T=>c(h).hide()),onDelete:U},null,8,["variableName"])]),_:1},8,["state"]),O(c(lt),{size:"xxs",state:c(p),title:"Rename Workspace"},{default:N(()=>[O(Oa,{name:u.value,onClose:E[3]||(E[3]=T=>c(p).hide()),onEdit:b},null,8,["name"])]),_:1},8,["state"])]))}}),Ur={class:"bg-b-1 sticky top-0 z-20 flex h-12 items-center px-3"},zr={key:1,class:"text-c-3"},Vr=["aria-pressed"],$r={class:"sr-only"},Pr={class:"search-button-fade sticky top-12 z-10 px-3 py-2.5 pt-0 focus-within:z-20",role:"search"},Lr={key:1,class:"contents"},Wr={class:"empty-sidebar-item-content px-2.5 py-2.5"},Br={class:"rabbit-ascii relative m-auto mt-2 h-[68px] w-[60px]"},Fr=Ze({__name:"RequestSidebar",emits:["newTab","clearDrafts"],setup(a,{emit:e}){const t=e,{collapsedSidebarFolders:s,isSidebarOpen:n,setCollapsedSidebarFolder:r,toggleSidebarOpen:o}=jt(),{layout:i}=wt(),l=Le(),{activeWorkspaceCollections:u,activeRequest:d,activeWorkspaceRequests:p,activeWorkspace:h}=Pe(),{findRequestParents:R,events:b,requestMutators:D,requests:U}=l,{handleDragEnd:q,isDroppable:E}=Qn(h,l),{replace:T}=st(),y=()=>{b.commandPalette.emit({commandName:"Import from OpenAPI/Swagger/Postman/cURL"})},m=Xa(),{toast:x}=aa(),P=es({open:!1}),B=ie(!1);qe(d,A=>{A&&R(A).forEach(C=>r(C,!0))},{immediate:!0});const{searchText:L,searchResultsWithPlaceholderResults:F,selectedSearchResult:H,onSearchResultClick:K,fuseSearch:G,searchInputRef:ue,searchResultRefs:Re,navigateSearchResults:ve,selectSearchResult:We}=Kn(),k=A=>{var C;A&&(A.toggleSidebar&&o(),A.focusRequestSearch&&((C=ue.value)==null||C.focus()))};Ut(()=>b.hotKeys.on(k)),na(()=>{b.hotKeys.off(k)});const w=A=>{if(A!=null&&A.documentUrl){A.watchMode=!A.watchMode;const C=u.value.find(j=>j.uid===A.entity.uid);C&&(C.watchMode=A.watchMode)}};qe(()=>u.value.map(A=>A.watchMode),(A,C)=>{A.forEach((j,Q)=>{var X,Ie,oa;if(i!=="modal"&&j!==C[Q]&&((Ie=(X=u.value[Q])==null?void 0:X.info)==null?void 0:Ie.title)!=="Drafts"&&u.value[Q]){const la=u.value[Q];if(!la)return;const Pa=`${(oa=la.info)==null?void 0:oa.title}: Watch Mode ${j?"enabled":"disabled"}`;x(Pa,"info")}})});const ce=re(()=>{var A;const C=F.value;if(!C.length)return"No results found";const j=(A=C[H.value])==null?void 0:A.item;if(!j)return"No result selected";const Q=L.value.length?`${C.length} result${C.length===1?"":"s"} found, `:"",X=`, HTTP Method ${j.httpVerb}, Path ${j.path}`,Ie=`${j.title} ${X}`;return`${Q}Selected: ${Ie}`}),me=()=>{const A=u.value.find(C=>{var j;return((j=C.info)==null?void 0:j.title)==="Drafts"});if(A&&A.requests.forEach(C=>{U[C]&&D.delete(U[C],A.uid)}),p.value.length){const C=u.value[0],j=C==null?void 0:C.requests[0];j&&T({name:"request",params:{[fe.Request]:j}})}else{const{request:C}=Ea();A&&(D.add(C,A.uid),T({name:"request",params:{[fe.Request]:C.uid}}))}},Se=()=>{B.value=!B.value,B.value||(L.value=""),B.value&&sa(()=>{var A;return(A=ue.value)==null?void 0:A.focus()})},J=re(()=>nr(u.value,p.value,U));return(A,C)=>(I(),se(we,null,[ma(O(c(ms),{class:ne([c(n)?"sidebar-active-width":""])},ts({content:N(()=>[g("div",Ur,[g("div",{class:ne(["size-8",{"xl:hidden":c(i)!=="modal"}])},null,2),c(i)!=="modal"?(I(),$(c(qr),{key:0})):Y("",!0),c(i)!=="modal"?(I(),se("span",zr," / ")):Y("",!0),c(i)!=="modal"?(I(),$(Jn,{key:2})):Y("",!0),g("button",{"aria-pressed":B.value,class:"ml-auto",type:"button",onClick:Se},[g("span",$r,de(B.value?"Hide":"Show")+" search ",1),O(c(te),{class:"text-c-3 hover:bg-b-2 p-1.75 max-h-8 max-w-8 rounded-lg text-sm",icon:"Search"})],8,Vr)]),ma(g("div",Pr,[O(c(as),{ref_key:"searchInputRef",ref:ue,modelValue:c(L),"onUpdate:modelValue":C[0]||(C[0]=j=>Ra(L)?L.value=j:null),"aria-controls":c(m),label:ce.value,sidebar:"",onInput:c(G),onKeydown:[C[1]||(C[1]=Ct(ae(j=>c(ve)("down"),["stop"]),["down"])),C[2]||(C[2]=Ct(ae(j=>c(We)(),["stop"]),["enter"])),C[3]||(C[3]=Ct(ae(j=>c(ve)("up"),["stop"]),["up"]))]},null,8,["modelValue","aria-controls","label","onInput"])],512),[[va,B.value]]),g("div",{class:ne(["gap-1/2 flex flex-1 flex-col overflow-visible overflow-y-auto px-3 pb-3 pt-0",[{"pb-14":c(i)!=="modal"},{"h-[calc(100%-273.5px)]":J.value}]]),onDragenter:C[6]||(C[6]=ae(()=>{},["prevent"])),onDragover:C[7]||(C[7]=ae(()=>{},["prevent"]))},[c(L)?(I(),$(c(ss),{key:0,id:c(m),"aria-label":"Search Results",class:"gap-px",noResults:!c(F).length},{default:N(()=>[(I(!0),se(we,null,ut(c(F),(j,Q)=>(I(),$(c(ns),{id:`#search-input-${j.item.id}`,key:j.refIndex,ref_for:!0,ref:X=>c(Re)[Q]=X,active:c(H)===Q,class:"px-2",href:j.item.link,onClick:ae(X=>c(K)(j),["prevent"]),onFocus:X=>H.value=Q},{addon:N(()=>[C[9]||(C[9]=g("span",{class:"sr-only"},"HTTP Method:",-1)),O(Ia,{class:"font-bold",method:j.item.httpVerb??"get"},null,8,["method"])]),default:N(()=>[ge(de(j.item.title)+" ",1)]),_:2},1032,["id","active","href","onClick","onFocus"]))),128))]),_:1},8,["id","noResults"])):(I(),se("nav",Lr,[(I(!0),se(we,null,ut(c(u),j=>{var Q;return I(),$(Ar,{key:j.uid,isDraggable:c(i)!=="modal"&&((Q=j.info)==null?void 0:Q.title)!=="Drafts",isDroppable:c(E),menuItem:P,parentUids:[],uid:j.uid,onNewTab:C[4]||(C[4]=(X,Ie)=>t("newTab",{name:X,uid:Ie})),onOnDragEnd:c(q),onOpenMenu:C[5]||(C[5]=X=>Object.assign(P,X))},{leftIcon:N(()=>{var X;return[((X=j.info)==null?void 0:X.title)==="Drafts"?(I(),$(c(te),{key:0,class:"text-sidebar-c-2 group-hover:hidden",icon:"Scribble",thickness:"2.25"})):(I(),$(c(Sa),{key:1,class:"text-sidebar-c-2 size-3.5 min-w-3.5 stroke-2 group-hover:hidden",src:j["x-scalar-icon"]||"interface-content-folder"},null,8,["src"])),g("div",{class:ne({"rotate-90":c(s)[j.uid]})},[O(c(te),{class:"text-c-3 hover:text-c-1 hidden text-sm group-hover:block",icon:"ChevronRight",size:"md"})],2)]}),_:2},1032,["isDraggable","isDroppable","menuItem","uid","onOnDragEnd"])}),128))]))],34)]),button:N(()=>[g("div",{class:ne({"empty-sidebar-item":J.value})},[g("div",Wr,[g("div",Br,[O(ga,{art:c(Fn),class:"rabbitsit font-bold"},null,8,["art"]),O(ga,{art:c(Hn),class:"rabbitjump absolute left-0 top-0 font-bold"},null,8,["art"])]),C[10]||(C[10]=g("div",{class:"mb-2 mt-2 text-balance text-center text-sm"},[g("b",{class:"font-medium"},"Let's Get Started"),g("p",{class:"mt-2"}," Create request, folder, collection or import from OpenAPI/Postman ")],-1))]),c(i)!=="modal"?(I(),$(c(ye),{key:0,class:ne(["mb-1.5 hidden h-fit w-full p-1.5 opacity-0",{"flex opacity-100":J.value}]),onClick:y},{default:N(()=>C[11]||(C[11]=[ge(" Import Collection ")])),_:1},8,["class"])):Y("",!0),c(i)!=="modal"?(I(),$(hs,{key:1,click:c(b).commandPalette.emit,hotkey:"K"},{title:N(()=>C[12]||(C[12]=[ge(" Add Item ")])),_:1},8,["click"])):Y("",!0)],2)]),_:2},[c(i)!=="modal"?{name:"header",fn:N(()=>[]),key:"0"}:void 0]),1032,["class"]),[[va,c(n)]]),c(i)!=="modal"&&P?(I(),$(sr,{key:0,menuItem:P,onClearDrafts:me,onCloseMenu:C[8]||(C[8]=j=>P.open=!1),onToggleWatchMode:w},null,8,["menuItem"])):Y("",!0)],64))}}),Hr=zt(Fr,[["__scopeId","data-v-8def2cd7"]]),Yr=(a,e=!1)=>{var t,s;const n=Object.fromEntries(a);e&&["Access-Control-Allow-Credentials","Access-Control-Allow-Headers","Access-Control-Allow-Methods","Access-Control-Allow-Origin","Access-Control-Expose-Headers"].map(i=>i.toLowerCase()).forEach(i=>delete n[i]);const r=Object.keys(n).find(i=>i.toLowerCase()==="x-scalar-modified-headers"),o=r?((s=(t=n[r])==null?void 0:t.toString().split(", "))==null?void 0:s.map(i=>i.toLowerCase()))??[]:[];return Object.keys(n).forEach(i=>{o.includes(i.toLowerCase())&&delete n[i]}),r&&delete n[r],Object.keys(n).forEach(i=>{const l=/^x-scalar-original-/i;if(l.test(i)){const u=i.replace(l,"");n[i]&&(n[u]=n[i],delete n[i])}}),Object.keys(n).forEach(i=>{const l=Gr(i);i!==l&&n[i]&&(n[l]=n[i],delete n[i])}),Object.fromEntries(Object.entries(n).sort(([i],[l])=>i.localeCompare(l)))},Gr=a=>a.split("-").map(e=>e.charAt(0).toUpperCase()+e.toLowerCase().slice(1)).join("-");function Jr(a,e,t){var s,n,r;if(!rs(a))return{body:void 0,contentType:void 0};if(e.body.activeBody==="formData"&&e.body.formData){const o=e.body.formData.encoding==="form-data"?"multipart/form-data":"application/x-www-form-urlencoded",i=e.body.formData.encoding==="form-data"?new FormData:new URLSearchParams;return e.body.formData.value.forEach(l=>{!l.enabled||!l.key||(l.file&&i instanceof FormData?i.append(l.key,l.file,l.file.name):l.value!==void 0&&i.append(l.key,ke(l.value,t)))}),{body:i,contentType:o}}return e.body.activeBody==="raw"?{body:ke(((s=e.body.raw)==null?void 0:s.value)??"",t),contentType:(n=e.body.raw)==null?void 0:n.encoding}:e.body.activeBody==="binary"?{body:e.body.binary,contentType:(r=e.body.binary)==null?void 0:r.type}:{body:void 0,contentType:void 0}}function Kr(a,e){const t={};return a.parameters.headers.forEach(s=>{const n=s.key.trim().toLowerCase();s.enabled&&(n!=="content-type"||s.value!=="multipart/form-data")&&(t[n]=ke(s.value,e))}),t}function Qr(a,e){const t=new URLSearchParams;return a.parameters.query.forEach(s=>{s.enabled&&(s.type==="array"?ke(s.value??"",e).split(","):[ke(s.value??"",e)]).forEach(n=>t.append(s.key,n.trim()))}),t}function Xr(a,e){const t=new is(e);return cs.includes(t.essence)?new TextDecoder(t.parameters.get("charset")).decode(a):new Blob([a],{type:t.essence})}const ei=({environment:a,example:e,globalCookies:t,proxyUrl:s,request:n,securitySchemes:r,selectedSecuritySchemeUids:o=[],server:i,status:l})=>{try{const u=a??{},d=new AbortController,p=e.parameters.path.reduce((K,G)=>(G.enabled&&(K[G.key]=ke(G.value,u)),K),{}),h=ke((i==null?void 0:i.url)??"",u),R=ke(n.path,p);let b=h||R;if(!b)throw Jt.URL_EMPTY;Object.entries((i==null?void 0:i.variables)??{}).forEach(([K,G])=>{b=ke(b,{[K]:p[K]||G.default})});const D=Qr(e,u),U=Kr(e,u),{body:q}=Jr(n.method,e,u),{cookieParams:E}=ds({example:e,env:u,globalCookies:t,serverUrl:b,proxyUrl:s}),T=o.flat().map(K=>r[K]).filter(Rt),y=os(T,u),m={...Object.entries(y.headers).reduce((K,[G,ue])=>(K[G.toLowerCase()]=ue,K),{}),...U},x=[...E,...y.cookies],P=new URLSearchParams([...D,...y.urlParams]);b=ls(b,R,P);const B=ke(fs(x,m.Cookie),u);B&&(Lt(s,b)?(console.warn("Were using a `X-Scalar-Cookie` custom header to the request. The proxy will forward this as a `Cookie` header. We do this to avoid the browser omitting the `Cookie` header for cross-origin requests for security reasons."),m["X-Scalar-Cookie"]=B):(console.warn(`Were trying to add a Cookie header, but browsers often omit them for cross-origin requests for various security reasons. If its not working, thats probably why. Here are the requirements for it to work:

          - The browser URL must be on the same domain as the server URL.
          - The connection must be made over HTTPS.
          `),m.Cookie=B));const L=new URLSearchParams([["scalar_url",b.toString()]]),F=Lt(s,b)?`${s}?${L.toString()}`:b,H=new Request(F,{method:n.method.toUpperCase(),body:q??null,headers:m});return[null,{request:H,sendRequest:async()=>{l==null||l.emit("start");const K=Date.now();try{const G=await fetch(H,{signal:d.signal});l==null||l.emit("stop");const ue=Yr(G.headers,Lt(s,b)),Re=G.headers.get("content-type")??"text/plain;charset=UTF-8",ve=await G.arrayBuffer(),We=Xr(ve,Re),k="getSetCookie"in G.headers&&typeof G.headers.getSetCookie=="function"?G.headers.getSetCookie():[];return[null,{timestamp:Date.now(),request:e,response:{...G,headers:ue,cookieHeaderKeys:k,data:We,size:ve.byteLength,duration:Date.now()-K,method:n.method,status:G.status,path:R}}]}catch(G){return l==null||l.emit("abort"),[ya(G,Jt.REQUEST_FAILED),null]}},controller:d}]}catch(u){return console.error(u),l==null||l.emit("abort"),[ya(u),null]}},ti={class:"flex h-full"},ai={class:"flex h-full flex-1 flex-col"},si=Ze({__name:"RequestRoot",emits:["newTab"],setup(a){const e=Le(),{toast:t}=aa(),{layout:s}=wt(),{activeCollection:n,activeExample:r,activeEnvironment:o,activeRequest:i,activeWorkspace:l,activeServer:u}=Pe(),{cookies:d,requestHistory:p,showSidebar:h,securitySchemes:R,events:b}=e,{isSidebarOpen:D}=jt(),U=ie(),q=ie(new Set),E=re(()=>{var m,x;return(s==="modal"?(m=n.value)==null?void 0:m.selectedSecuritySchemeUids:(x=i.value)==null?void 0:x.selectedSecuritySchemeUids)??[]}),T=async()=>{var m,x,P,B;if(!i.value||!r.value||!n.value)return;q.value=Cs(r.value);const L=typeof o.value=="object"?o.value.value:"{}",F=_s.parse(L);F.error&&console.error("INVALID ENVIRONMENT!");const H=F.error||typeof F.data!="object"?{}:F.data??{},K=((m=l.value)==null?void 0:m.cookies.map(k=>d[k]).filter(Rt))??[],G=((P=(x=n.value)==null?void 0:x.info)==null?void 0:P.title)==="Drafts"?void 0:u.value,[ue,Re]=ei({request:i.value,example:r.value,selectedSecuritySchemeUids:E.value,proxyUrl:((B=l.value)==null?void 0:B.proxyUrl)??"",environment:H,globalCookies:K,status:b.requestStatus,securitySchemes:R,server:G});if(ue){t(ue.message,"error");return}U.value=Re.controller;const[ve,We]=await Re.sendRequest();ve?t(ve.message,"error"):p.push(JSON.parse(JSON.stringify(We)))},y=async()=>{var m;return(m=U.value)==null?void 0:m.abort(Jt.REQUEST_ABORTED)};return Ut(()=>{b.executeRequest.on(T),b.cancelRequest.on(y)}),Bn(),na(()=>b.executeRequest.off(T)),qe(()=>{var m;return(m=r.value)==null?void 0:m.parameters},()=>{q.value.clear()},{deep:!0}),(m,x)=>(I(),se("div",{class:ne(["bg-b-1 relative z-0 flex h-full flex-1 flex-col overflow-hidden pt-0",{"!mb-0 !mr-0 !border-0":c(s)==="modal"}])},[c(h)?(I(),$(Ts,{key:0,modelValue:c(D),"onUpdate:modelValue":x[0]||(x[0]=P=>Ra(D)?D.value=P:null),class:ne(["absolute left-3 top-2 z-50",[{hidden:c(D)},{"xl:!flex":!c(D)},{"!flex":c(s)==="modal"}]])},null,8,["modelValue","class"])):Y("",!0),g("div",ti,[c(h)?(I(),$(Hr,{key:0,onNewTab:x[1]||(x[1]=P=>m.$emit("newTab",P))})):Y("",!0),g("div",ai,[O(c(us),{invalidParams:q.value},null,8,["invalidParams"])])])],2))}}),Li=zt(si,[["__scopeId","data-v-1dfc8727"]]);export{Li as default};
