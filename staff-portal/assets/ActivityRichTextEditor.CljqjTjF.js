import{aJ as Ye,ft as ac,jd as ic,je as Xr,aH as ga,fw as un,br as Mn,a_ as Pt,d as tt,jf as ba,c8 as lc,jg as va,gY as Nt,R as Ko,dZ as cc,fO as ya,jh as dc,bM as uc,ji as fc,fP as pc,jj as mc,i as xe,dc as hc,jk as gc,ay as bc,aj as xa,be as fn,cL as Ca,jl as vc,jm as wa,r as u,j5 as ka,j6 as te,jn as et,j3 as Sa,jo as pn,jp as ja,jq as En,j4 as Ma,i_ as Te,jr as Ea,hH as mn,hR as nt,hQ as ot,hP as ht,hX as yc,hY as xc,hS as gt,hZ as Cc,hT as Se,h_ as ln,h$ as wc,i0 as Qr,i1 as kc,i2 as Sc,i3 as jc,i4 as Mc,i5 as Ec,i6 as Tc,i7 as Rc,i8 as $c,i9 as Ic,ia as Pc,ib as Nc,ic as _c,id as Hc,ie as Ta,ig as Lc,ih as Ac,ii as Vc,ij as Oc,ik as Dc,il as Bc,im as Fc,io as Ra,hV as zc,hK as Gc,hW as oo,hN as Zc,hO as Uc,Y as K,j7 as $a,j9 as Pe,j8 as Re,js as rt,jt as Tn,k as c,ju as Wc,aF as Jr,n as Ae,a as Be,j as Q,jv as Kc,ae as qc,bD as Yc,jw as Xc,bc as Qc,ad as Ia,jx as Jc,jb as Pa,jy as es,jz as No,ja as Na,jA as ed,jB as td,jC as nd,jD as od,jE as rd,jF as sd,p as _a,bn as ad,jG as id,bx as ld,jH as Ha,jI as cd,jJ as dd,jK as ud,jL as fd,jM as pd,iB as md,jN as hd,jO as ts,dA as gd,dB as bd,jP as vd,jQ as yd,jR as xd,jS as Cd,jT as wd,jU as kd,jV as Sd,jW as jd,bB as ns,jX as Md,jY as os,a$ as rs,jZ as Ed,j_ as Td,j$ as Rd,k0 as ss,k1 as $d,k2 as Id,b9 as Pd}from"./index.Dg3lKJeg.js";import{a as Nd,_ as La,q as Aa,b as _d,I as Hd,c as Ld,B as Ad,m as Vd,j as $t,R as _o,U as Od,Q as ie,i as Dd,f as Bd,V as Fd,H as Vt,O as Ot,D as zd,Z as Rn,r as _t,K as Gd,P as as,u as Zd,p as Ud,d as Wd,v as Va,s as Oa,e as Da,g as Kd,A as qd,h as Yd,o as Xd,k as Ht,l as Ba,$ as Qd,n as Jd,t as eu,w as tu,x as nu,y as ou,z as ru,C as su,E as U,T as Ho}from"./blocknote.Dr04qhk2.js";import{c as Ve}from"./clsx.B-dksMZM.js";import{I as au,a as iu,b as lu,c as cu,d as du,e as uu,f as fu,g as pu}from"./IconPilcrow.CVqkBwz6.js";import{I as mu}from"./IconCode.yCarJIAU.js";const hu=({objectNameSingular:e})=>e===Ye.Note?{objectNameSingular:Ye.Note,variables:{},fields:{id:!0,__typename:!0,createdAt:!0,updatedAt:!0,attachments:!0,bodyV2:!0,title:!0}}:{objectNameSingular:Ye.Task,variables:{},fields:{id:!0,__typename:!0,createdAt:!0,updatedAt:!0,assigneeId:!0,assignee:{id:!0,name:!0,__typename:!0},attachments:!0,bodyV2:!0,title:!0,status:!0,dueAt:!0}},gu=({activityObjectNameSingular:e})=>{const t=hu({objectNameSingular:e}),{createOneRecord:n}=ac({objectNameSingular:e,recordGqlFields:t.fields,shouldMatchRootQueryFilter:!0}),{createManyRecords:o}=ic({objectNameSingular:Xr(e),shouldMatchRootQueryFilter:!0}),{objectMetadataItems:r}=ga(),{objectMetadataItem:s}=un({objectNameSingular:Xr(e)}),{objectMetadataItem:a}=un({objectNameSingular:e}),i=Mn().cache;return{createActivityInDB:Pt(({set:d})=>async f=>{const p=await(n==null?void 0:n({...f,updatedAt:new Date().toISOString()})),m=f.noteTargets??f.taskTargets??[];tt.isNonEmptyArray(m)&&await o({recordsToCreate:m});const h=ba({objectMetadataItems:r,objectMetadataItem:s,records:m.map(g=>({...g,__typename:lc(s.nameSingular)})),withPageInfo:!1,computeReferences:!0,isRootLevel:!1});va({recordId:p.id,cache:i,fieldModifiers:{activityTargets:()=>h},objectMetadataItem:a}),d(Nt(p.id),{...p,activityTargets:m})},[i,o,n,a,s,r])}},bu=({objectMetadataItem:e})=>{const t=Mn(),n=Ko(cc),{objectPermissionsByObjectMetadataId:o}=ya(),s=dc()[uc.IS_FIELDS_PERMISSIONS_ENABLED];return{upsertFindManyRecordsQueryInCache:({queryVariables:i,objectRecordsToOverwrite:l,recordGqlFields:d,computeReferences:f=!1})=>{const p=fc({objectMetadataItem:e,objectMetadataItems:n,recordGqlFields:d,computeReferences:f,objectPermissionsByObjectMetadataId:o,isFieldsPermissionsEnabled:s}),m=ba({objectMetadataItems:n,objectMetadataItem:e,records:l,recordGqlFields:d,computeReferences:f});t.writeQuery({query:p,variables:i,data:{[e.namePlural]:m}})}}},vu=({activityObjectNameSingular:e})=>{const{objectMetadataItem:t}=un({objectNameSingular:e}),n=pc({objectNameSingular:e}),o=Mn().cache,{objectMetadataItems:r}=ga(),{objectPermissionsByObjectMetadataId:s}=ya(),{upsertFindManyRecordsQueryInCache:a}=bu({objectMetadataItem:t});return{prepareFindManyActivitiesQuery:({targetableObject:l,additionalFilter:d,shouldActivityBeExcluded:f})=>{const p=r.find(w=>w.nameSingular===l.targetObjectNameSingular);if(!p)throw new Error(`Cannot find object metadata item for targetable object ${l.targetObjectNameSingular}`);const m=mc({recordId:l.id,objectMetadataItem:p,objectMetadataItems:r,cache:o,objectPermissionsByObjectMetadataId:s}),h=(m==null?void 0:m.taskTargets)??(m==null?void 0:m.noteTargets)??[],b=[...new Set(h.map(w=>w.id).filter(xe))].map(w=>{const E=h.find(k=>k.id===w);if(E)return n(E.activityId)}).filter(xe),y={filter:{id:{in:[...[...new Set(b.map(w=>w.id))]].sort(hc)},...d}},C=[...b.filter(w=>!(f!=null&&f(w)))].sort((w,E)=>w.createdAt>E.createdAt?-1:1),x=gc({objectNameSingular:e,objectMetadataItems:r});a({objectRecordsToOverwrite:C,queryVariables:{...y,orderBy:[{createdAt:"DescNullsFirst"}]},recordGqlFields:x.fields,computeReferences:!0})}}},Fa=bc({key:"objectShowPageTargetableObjectState",default:null}),yu=({activityObjectNameSingular:e})=>{const t=Ko(Fa),{prepareFindManyActivitiesQuery:n}=vu({activityObjectNameSingular:e});return{refreshShowPageFindManyActivitiesQueries:()=>{xe(t)&&(n({targetableObject:t}),n({targetableObject:t,additionalFilter:{status:{eq:"TODO"}}}),n({targetableObject:t,additionalFilter:{}}))}}},xu=xa({key:"isActivityInCreateModeState",defaultValue:!1}),Cu=({activityObjectNameSingular:e})=>{const[t]=fn(xu),{updateOneRecord:n}=Ca({objectNameSingular:e}),{createActivityInDB:o}=gu({activityObjectNameSingular:e}),[,r]=fn(vc),s=Ko(Fa),{refreshShowPageFindManyActivitiesQueries:a}=yu({activityObjectNameSingular:e});return{upsertActivity:async({activity:l,input:d})=>{if(r(!0),t){const f={...l,...d};xe(s)&&a(),await o(f)}else await(n==null?void 0:n({idToUpdate:l.id,updateOneRecordInput:d}));r(!1)}}},wu=xa({key:"canCreateActivityState",defaultValue:!1});function ku(e){let t=e.activeElement;for(;((n=t)==null||(n=n.shadowRoot)==null?void 0:n.activeElement)!=null;){var n;t=t.shadowRoot.activeElement}return t}function Lo(e,t){if(!e||!t)return!1;const n=t.getRootNode==null?void 0:t.getRootNode();if(e.contains(t))return!0;if(n&&wa(n)){let o=t;for(;o;){if(e===o)return!0;o=o.parentNode||o.host}}return!1}function Su(){return/apple/i.test(navigator.vendor)}function ju(e){return"nativeEvent"in e}function Mu(e){return e.matches("html,body")}function Ao(e){return(e==null?void 0:e.ownerDocument)||document}function ro(e,t){if(t==null)return!1;if("composedPath"in e)return e.composedPath().includes(t);const n=e;return n.target!=null&&t.contains(n.target)}function Mt(e){return"composedPath"in e?e.composedPath()[0]:e.target}const za={...Sa},Eu=za.useInsertionEffect,Tu=Eu||(e=>e());function pt(e){const t=u.useRef(()=>{});return Tu(()=>{t.current=e}),u.useCallback(function(){for(var n=arguments.length,o=new Array(n),r=0;r<n;r++)o[r]=arguments[r];return t.current==null?void 0:t.current(...o)},[])}var je=typeof document<"u"?u.useLayoutEffect:u.useEffect;function Vo(){return Vo=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])}return e},Vo.apply(this,arguments)}let is=!1,Ru=0;const ls=()=>"floating-ui-"+Math.random().toString(36).slice(2,6)+Ru++;function $u(){const[e,t]=u.useState(()=>is?ls():void 0);return je(()=>{e==null&&t(ls())},[]),u.useEffect(()=>{is=!0},[]),e}const Iu=za.useId,Ga=Iu||$u;function Pu(){const e=new Map;return{emit(t,n){var o;(o=e.get(t))==null||o.forEach(r=>r(n))},on(t,n){e.set(t,[...e.get(t)||[],n])},off(t,n){var o;e.set(t,((o=e.get(t))==null?void 0:o.filter(r=>r!==n))||[])}}}const Nu=u.createContext(null),_u=u.createContext(null),Hu=()=>{var e;return((e=u.useContext(Nu))==null?void 0:e.id)||null},Za=()=>u.useContext(_u);function qo(e){return"data-floating-ui-"+e}function en(e){const t=u.useRef(e);return je(()=>{t.current=e}),t}function so(e,t){let n=e.filter(r=>{var s;return r.parentId===t&&((s=r.context)==null?void 0:s.open)}),o=n;for(;o.length;)o=e.filter(r=>{var s;return(s=o)==null?void 0:s.some(a=>{var i;return r.parentId===a.id&&((i=r.context)==null?void 0:i.open)})}),n=n.concat(o);return n}const Ua=()=>({getShadowRoot:!0,displayCheck:typeof ResizeObserver=="function"&&ResizeObserver.toString().includes("[native code]")?"full":"none"});function Wa(e,t){const n=Ea(e,Ua());t==="prev"&&n.reverse();const o=n.indexOf(ku(Ao(e)));return n.slice(o+1)[0]}function Lu(){return Wa(document.body,"next")}function Au(){return Wa(document.body,"prev")}function ao(e,t){const n=t||e.currentTarget,o=e.relatedTarget;return!o||!Lo(n,o)}function Vu(e){Ea(e,Ua()).forEach(n=>{n.dataset.tabindex=n.getAttribute("tabindex")||"",n.setAttribute("tabindex","-1")})}function Ou(e){e.querySelectorAll("[data-tabindex]").forEach(n=>{const o=n.dataset.tabindex;delete n.dataset.tabindex,o?n.setAttribute("tabindex",o):n.removeAttribute("tabindex")})}const Ka={border:0,clip:"rect(0 0 0 0)",height:"1px",margin:"-1px",overflow:"hidden",padding:0,position:"fixed",whiteSpace:"nowrap",width:"1px",top:0,left:0};let Du;function cs(e){e.key==="Tab"&&(e.target,clearTimeout(Du))}const ds=u.forwardRef(function(t,n){const[o,r]=u.useState();je(()=>(Su()&&r("button"),document.addEventListener("keydown",cs),()=>{document.removeEventListener("keydown",cs)}),[]);const s={ref:n,tabIndex:0,role:o,"aria-hidden":o?void 0:!0,[qo("focus-guard")]:"",style:Ka};return u.createElement("span",Vo({},t,s))}),qa=u.createContext(null),us=qo("portal");function Bu(e){e===void 0&&(e={});const{id:t,root:n}=e,o=Ga(),r=zu(),[s,a]=u.useState(null),i=u.useRef(null);return je(()=>()=>{s==null||s.remove(),queueMicrotask(()=>{i.current=null})},[s]),je(()=>{if(!o||i.current)return;const l=t?document.getElementById(t):null;if(!l)return;const d=document.createElement("div");d.id=o,d.setAttribute(us,""),l.appendChild(d),i.current=d,a(d)},[t,o]),je(()=>{if(!o||i.current)return;let l=n||(r==null?void 0:r.portalNode);l&&!te(l)&&(l=l.current),l=l||document.body;let d=null;t&&(d=document.createElement("div"),d.id=t,l.appendChild(d));const f=document.createElement("div");f.id=o,f.setAttribute(us,""),l=d||l,l.appendChild(f),i.current=f,a(f)},[t,n,o,r]),s}function Fu(e){const{children:t,id:n,root:o=null,preserveTabOrder:r=!0}=e,s=Bu({id:n,root:o}),[a,i]=u.useState(null),l=u.useRef(null),d=u.useRef(null),f=u.useRef(null),p=u.useRef(null),m=!!a&&!a.modal&&a.open&&r&&!!(o||s);return u.useEffect(()=>{if(!s||!r||a!=null&&a.modal)return;function h(g){s&&ao(g)&&(g.type==="focusin"?Ou:Vu)(s)}return s.addEventListener("focusin",h,!0),s.addEventListener("focusout",h,!0),()=>{s.removeEventListener("focusin",h,!0),s.removeEventListener("focusout",h,!0)}},[s,r,a==null?void 0:a.modal]),u.createElement(qa.Provider,{value:u.useMemo(()=>({preserveTabOrder:r,beforeOutsideRef:l,afterOutsideRef:d,beforeInsideRef:f,afterInsideRef:p,portalNode:s,setFocusManagerState:i}),[r,s])},m&&s&&u.createElement(ds,{"data-type":"outside",ref:l,onFocus:h=>{if(ao(h,s)){var g;(g=f.current)==null||g.focus()}else{const b=Au()||(a==null?void 0:a.refs.domReference.current);b==null||b.focus()}}}),m&&s&&u.createElement("span",{"aria-owns":s.id,style:Ka}),s&&Te.createPortal(t,s),m&&s&&u.createElement(ds,{"data-type":"outside",ref:d,onFocus:h=>{if(ao(h,s)){var g;(g=p.current)==null||g.focus()}else{const b=Lu()||(a==null?void 0:a.refs.domReference.current);b==null||b.focus(),a!=null&&a.closeOnFocusOut&&(a==null||a.onOpenChange(!1,h.nativeEvent))}}}))}const zu=()=>u.useContext(qa),Gu={pointerdown:"onPointerDown",mousedown:"onMouseDown",click:"onClick"},Zu={pointerdown:"onPointerDownCapture",mousedown:"onMouseDownCapture",click:"onClickCapture"},fs=e=>{var t,n;return{escapeKey:typeof e=="boolean"?e:(t=e==null?void 0:e.escapeKey)!=null?t:!1,outsidePress:typeof e=="boolean"?e:(n=e==null?void 0:e.outsidePress)!=null?n:!0}};function Uu(e,t){t===void 0&&(t={});const{open:n,onOpenChange:o,elements:r,dataRef:s}=e,{enabled:a=!0,escapeKey:i=!0,outsidePress:l=!0,outsidePressEvent:d="pointerdown",referencePress:f=!1,referencePressEvent:p="pointerdown",ancestorScroll:m=!1,bubbles:h,capture:g}=t,b=Za(),v=pt(typeof l=="function"?l:()=>!1),y=typeof l=="function"?v:l,C=u.useRef(!1),x=u.useRef(!1),{escapeKey:w,outsidePress:E}=fs(h),{escapeKey:k,outsidePress:T}=fs(g),M=pt($=>{var _;if(!n||!a||!i||$.key!=="Escape")return;const I=(_=s.current.floatingContext)==null?void 0:_.nodeId,S=b?so(b.nodesRef.current,I):[];if(!w&&($.stopPropagation(),S.length>0)){let R=!0;if(S.forEach(D=>{var P;if((P=D.context)!=null&&P.open&&!D.context.dataRef.current.__escapeKeyBubbles){R=!1;return}}),!R)return}o(!1,ju($)?$.nativeEvent:$,"escape-key")}),N=pt($=>{var _;const I=()=>{var S;M($),(S=Mt($))==null||S.removeEventListener("keydown",I)};(_=Mt($))==null||_.addEventListener("keydown",I)}),V=pt($=>{var _;const I=C.current;C.current=!1;const S=x.current;if(x.current=!1,d==="click"&&S||I||typeof y=="function"&&!y($))return;const R=Mt($),D="["+qo("inert")+"]",P=Ao(r.floating).querySelectorAll(D);let B=te(R)?R:null;for(;B&&!pn(B);){const q=ja(B);if(pn(q)||!te(q))break;B=q}if(P.length&&te(R)&&!Mu(R)&&!Lo(R,r.floating)&&Array.from(P).every(q=>!Lo(B,q)))return;if(En(R)&&W){const q=R.clientWidth>0&&R.scrollWidth>R.clientWidth,ee=R.clientHeight>0&&R.scrollHeight>R.clientHeight;let se=ee&&$.offsetX>R.clientWidth;if(ee&&Ma(R).direction==="rtl"&&(se=$.offsetX<=R.offsetWidth-R.clientWidth),se||q&&$.offsetY>R.clientHeight)return}const X=(_=s.current.floatingContext)==null?void 0:_.nodeId,ne=b&&so(b.nodesRef.current,X).some(q=>{var ee;return ro($,(ee=q.context)==null?void 0:ee.elements.floating)});if(ro($,r.floating)||ro($,r.domReference)||ne)return;const oe=b?so(b.nodesRef.current,X):[];if(oe.length>0){let q=!0;if(oe.forEach(ee=>{var se;if((se=ee.context)!=null&&se.open&&!ee.context.dataRef.current.__outsidePressBubbles){q=!1;return}}),!q)return}o(!1,$,"outside-press")}),H=pt($=>{var _;const I=()=>{var S;V($),(S=Mt($))==null||S.removeEventListener(d,I)};(_=Mt($))==null||_.addEventListener(d,I)});u.useEffect(()=>{if(!n||!a)return;s.current.__escapeKeyBubbles=w,s.current.__outsidePressBubbles=E;function $(S){o(!1,S,"ancestor-scroll")}const _=Ao(r.floating);i&&_.addEventListener("keydown",k?N:M,k),y&&_.addEventListener(d,T?H:V,T);let I=[];return m&&(te(r.domReference)&&(I=et(r.domReference)),te(r.floating)&&(I=I.concat(et(r.floating))),!te(r.reference)&&r.reference&&r.reference.contextElement&&(I=I.concat(et(r.reference.contextElement)))),I=I.filter(S=>{var R;return S!==((R=_.defaultView)==null?void 0:R.visualViewport)}),I.forEach(S=>{S.addEventListener("scroll",$,{passive:!0})}),()=>{i&&_.removeEventListener("keydown",k?N:M,k),y&&_.removeEventListener(d,T?H:V,T),I.forEach(S=>{S.removeEventListener("scroll",$)})}},[s,r,i,y,d,n,o,m,a,w,E,M,k,N,V,T,H]),u.useEffect(()=>{C.current=!1},[y,d]);const z=u.useMemo(()=>({onKeyDown:M,[Gu[p]]:$=>{f&&o(!1,$.nativeEvent,"reference-press")}}),[M,o,f,p]),W=u.useMemo(()=>({onKeyDown:M,onMouseDown(){x.current=!0},onMouseUp(){x.current=!0},[Zu[d]]:()=>{C.current=!0}}),[M,d]);return u.useMemo(()=>a?{reference:z,floating:W}:{},[a,z,W])}function Wu(e){const{open:t=!1,onOpenChange:n,elements:o}=e,r=Ga(),s=u.useRef({}),[a]=u.useState(()=>Pu()),i=Hu()!=null,[l,d]=u.useState(o.reference),f=pt((h,g,b)=>{s.current.openEvent=h?g:void 0,a.emit("openchange",{open:h,event:g,reason:b,nested:i}),n==null||n(h,g,b)}),p=u.useMemo(()=>({setPositionReference:d}),[]),m=u.useMemo(()=>({reference:l||o.reference||null,floating:o.floating||null,domReference:o.reference}),[l,o.reference,o.floating]);return u.useMemo(()=>({dataRef:s,open:t,onOpenChange:f,elements:m,events:a,floatingId:r,refs:p}),[t,f,m,a,r,p])}function Yo(e){e===void 0&&(e={});const{nodeId:t}=e,n=Wu({...e,elements:{reference:null,floating:null,...e.elements}}),o=e.rootContext||n,r=o.elements,[s,a]=u.useState(null),[i,l]=u.useState(null),f=(r==null?void 0:r.reference)||s,p=u.useRef(null),m=Za();je(()=>{f&&(p.current=f)},[f]);const h=ka({...e,elements:{...r,...i&&{reference:i}}}),g=u.useCallback(x=>{const w=te(x)?{getBoundingClientRect:()=>x.getBoundingClientRect(),contextElement:x}:x;l(w),h.refs.setReference(w)},[h.refs]),b=u.useCallback(x=>{(te(x)||x===null)&&(p.current=x,a(x)),(te(h.refs.reference.current)||h.refs.reference.current===null||x!==null&&!te(x))&&h.refs.setReference(x)},[h.refs]),v=u.useMemo(()=>({...h.refs,setReference:b,setPositionReference:g,domReference:p}),[h.refs,b,g]),y=u.useMemo(()=>({...h.elements,domReference:f}),[h.elements,f]),C=u.useMemo(()=>({...h,...o,refs:v,elements:y,nodeId:t}),[h,v,y,t,o]);return je(()=>{o.dataRef.current.floatingContext=C;const x=m==null?void 0:m.nodesRef.current.find(w=>w.id===t);x&&(x.context=C)}),u.useMemo(()=>({...h,context:C,refs:v,elements:y}),[h,v,y,C])}const ps="active",ms="selected";function io(e,t,n){const o=new Map,r=n==="item";let s=e;if(r&&e){const{[ps]:a,[ms]:i,...l}=e;s=l}return{...n==="floating"&&{tabIndex:-1},...s,...t.map(a=>{const i=a?a[n]:null;return typeof i=="function"?e?i(e):null:i}).concat(e).reduce((a,i)=>(i&&Object.entries(i).forEach(l=>{let[d,f]=l;if(!(r&&[ps,ms].includes(d)))if(d.indexOf("on")===0){if(o.has(d)||o.set(d,[]),typeof f=="function"){var p;(p=o.get(d))==null||p.push(f),a[d]=function(){for(var m,h=arguments.length,g=new Array(h),b=0;b<h;b++)g[b]=arguments[b];return(m=o.get(d))==null?void 0:m.map(v=>v(...g)).find(v=>v!==void 0)}}}else a[d]=f}),a),{})}}function Ku(e){e===void 0&&(e=[]);const t=e.map(i=>i==null?void 0:i.reference),n=e.map(i=>i==null?void 0:i.floating),o=e.map(i=>i==null?void 0:i.item),r=u.useCallback(i=>io(i,e,"reference"),t),s=u.useCallback(i=>io(i,e,"floating"),n),a=u.useCallback(i=>io(i,e,"item"),o);return u.useMemo(()=>({getReferenceProps:r,getFloatingProps:s,getItemProps:a}),[r,s,a])}const hs=e=>e.replace(/[A-Z]+(?![a-z])|[A-Z]/g,(t,n)=>(n?"-":"")+t.toLowerCase());function ct(e,t){return typeof e=="function"?e(t):e}function qu(e,t){const[n,o]=u.useState(e);return e&&!n&&o(!0),u.useEffect(()=>{if(!e&&n){const r=setTimeout(()=>o(!1),t);return()=>clearTimeout(r)}},[e,n,t]),n}function Yu(e,t){t===void 0&&(t={});const{open:n,elements:{floating:o}}=e,{duration:r=250}=t,a=(typeof r=="number"?r:r.close)||0,[i,l]=u.useState("unmounted"),d=qu(n,a);return!d&&i==="close"&&l("unmounted"),je(()=>{if(o){if(n){l("initial");const f=requestAnimationFrame(()=>{l("open")});return()=>{cancelAnimationFrame(f)}}l("close")}},[n,o]),{isMounted:d,status:i}}function Xo(e,t){t===void 0&&(t={});const{initial:n={opacity:0},open:o,close:r,common:s,duration:a=250}=t,i=e.placement,l=i.split("-")[0],d=u.useMemo(()=>({side:l,placement:i}),[l,i]),f=typeof a=="number",p=(f?a:a.open)||0,m=(f?a:a.close)||0,[h,g]=u.useState(()=>({...ct(s,d),...ct(n,d)})),{isMounted:b,status:v}=Yu(e,{duration:a}),y=en(n),C=en(o),x=en(r),w=en(s);return je(()=>{const E=ct(y.current,d),k=ct(x.current,d),T=ct(w.current,d),M=ct(C.current,d)||Object.keys(E).reduce((N,V)=>(N[V]="",N),{});if(v==="initial"&&g(N=>({transitionProperty:N.transitionProperty,...T,...E})),v==="open"&&g({transitionProperty:Object.keys(M).map(hs).join(","),transitionDuration:p+"ms",...T,...M}),v==="close"){const N=k||E;g({transitionProperty:Object.keys(N).map(hs).join(","),transitionDuration:m+"ms",...T,...N})}},[m,x,y,C,w,p,v,d]),{isMounted:b,styles:h}}function Ya(e){const{state:t,transaction:n}=e;let{selection:o}=n,{doc:r}=n,{storedMarks:s}=n;return{...t,apply:t.apply.bind(t),applyTransaction:t.applyTransaction.bind(t),plugins:t.plugins,schema:t.schema,reconfigure:t.reconfigure.bind(t),toJSON:t.toJSON.bind(t),get storedMarks(){return s},get selection(){return o},get doc(){return r},get tr(){return o=n.selection,r=n.doc,s=n.storedMarks,n}}}class Xu{constructor(t){this.editor=t.editor,this.rawCommands=this.editor.extensionManager.commands,this.customState=t.state}get hasCustomState(){return!!this.customState}get state(){return this.customState||this.editor.state}get commands(){const{rawCommands:t,editor:n,state:o}=this,{view:r}=n,{tr:s}=o,a=this.buildProps(s);return Object.fromEntries(Object.entries(t).map(([i,l])=>[i,(...f)=>{const p=l(...f)(a);return!s.getMeta("preventDispatch")&&!this.hasCustomState&&r.dispatch(s),p}]))}get chain(){return()=>this.createChain()}get can(){return()=>this.createCan()}createChain(t,n=!0){const{rawCommands:o,editor:r,state:s}=this,{view:a}=r,i=[],l=!!t,d=t||s.tr,f=()=>(!l&&n&&!d.getMeta("preventDispatch")&&!this.hasCustomState&&a.dispatch(d),i.every(m=>m===!0)),p={...Object.fromEntries(Object.entries(o).map(([m,h])=>[m,(...b)=>{const v=this.buildProps(d,n),y=h(...b)(v);return i.push(y),p}])),run:f};return p}createCan(t){const{rawCommands:n,state:o}=this,r=!1,s=t||o.tr,a=this.buildProps(s,r);return{...Object.fromEntries(Object.entries(n).map(([l,d])=>[l,(...f)=>d(...f)({...a,dispatch:void 0})])),chain:()=>this.createChain(s,r)}}buildProps(t,n=!0){const{rawCommands:o,editor:r,state:s}=this,{view:a}=r,i={tr:t,editor:r,view:a,state:Ya({state:s,transaction:t}),dispatch:n?()=>{}:void 0,chain:()=>this.createChain(t,n),can:()=>this.createCan(t),get commands(){return Object.fromEntries(Object.entries(o).map(([l,d])=>[l,(...f)=>d(...f)(i)]))}};return i}}function Xe(e,t,n){return e.config[t]===void 0&&e.parent?Xe(e.parent,t,n):typeof e.config[t]=="function"?e.config[t].bind({...n,parent:e.parent?Xe(e.parent,t,n):null}):e.config[t]}function Qu(e){const t=e.filter(r=>r.type==="extension"),n=e.filter(r=>r.type==="node"),o=e.filter(r=>r.type==="mark");return{baseExtensions:t,nodeExtensions:n,markExtensions:o}}function ue(e,t){if(typeof e=="string"){if(!t.nodes[e])throw Error(`There is no node type named '${e}'. Maybe you forgot to add the extension?`);return t.nodes[e]}return e}function Ju(...e){return e.filter(t=>!!t).reduce((t,n)=>{const o={...t};return Object.entries(n).forEach(([r,s])=>{if(!o[r]){o[r]=s;return}if(r==="class"){const i=s?String(s).split(" "):[],l=o[r]?o[r].split(" "):[],d=i.filter(f=>!l.includes(f));o[r]=[...l,...d].join(" ")}else if(r==="style"){const i=s?s.split(";").map(f=>f.trim()).filter(Boolean):[],l=o[r]?o[r].split(";").map(f=>f.trim()).filter(Boolean):[],d=new Map;l.forEach(f=>{const[p,m]=f.split(":").map(h=>h.trim());d.set(p,m)}),i.forEach(f=>{const[p,m]=f.split(":").map(h=>h.trim());d.set(p,m)}),o[r]=Array.from(d.entries()).map(([f,p])=>`${f}: ${p}`).join("; ")}else o[r]=s}),o},{})}function ef(e,t){return t.filter(n=>n.type===e.type.name).filter(n=>n.attribute.rendered).map(n=>n.attribute.renderHTML?n.attribute.renderHTML(e.attrs)||{}:{[n.name]:e.attrs[n.name]}).reduce((n,o)=>Ju(n,o),{})}function tf(e){return typeof e=="function"}function It(e,t=void 0,...n){return tf(e)?t?e.bind(t)(...n):e(...n):e}function nf(e){return Object.prototype.toString.call(e)==="[object RegExp]"}function of(e){return Object.prototype.toString.call(e).slice(8,-1)}function tn(e){return of(e)!=="Object"?!1:e.constructor===Object&&Object.getPrototypeOf(e)===Object.prototype}function Xa(e,t){const n={...e};return tn(e)&&tn(t)&&Object.keys(t).forEach(o=>{tn(t[o])&&tn(e[o])?n[o]=Xa(e[o],t[o]):n[o]=t[o]}),n}class Ce{constructor(t={}){this.type="extension",this.name="extension",this.parent=null,this.child=null,this.config={name:this.name,defaultOptions:{}},this.config={...this.config,...t},this.name=this.config.name,t.defaultOptions&&Object.keys(t.defaultOptions).length>0&&console.warn(`[tiptap warn]: BREAKING CHANGE: "defaultOptions" is deprecated. Please use "addOptions" instead. Found in extension: "${this.name}".`),this.options=this.config.defaultOptions,this.config.addOptions&&(this.options=It(Xe(this,"addOptions",{name:this.name}))),this.storage=It(Xe(this,"addStorage",{name:this.name,options:this.options}))||{}}static create(t={}){return new Ce(t)}configure(t={}){const n=this.extend({...this.config,addOptions:()=>Xa(this.options,t)});return n.name=this.name,n.parent=this.parent,n}extend(t={}){const n=new Ce({...this.config,...t});return n.parent=this,this.child=n,n.name=t.name?t.name:n.parent.name,t.defaultOptions&&Object.keys(t.defaultOptions).length>0&&console.warn(`[tiptap warn]: BREAKING CHANGE: "defaultOptions" is deprecated. Please use "addOptions" instead. Found in extension: "${n.name}".`),n.options=It(Xe(n,"addOptions",{name:n.name})),n.storage=It(Xe(n,"addStorage",{name:n.name,options:n.options})),n}}function rf(e,t,n){const{from:o,to:r}=t,{blockSeparator:s=`

`,textSerializers:a={}}=n||{};let i="";return e.nodesBetween(o,r,(l,d,f,p)=>{var m;l.isBlock&&d>o&&(i+=s);const h=a==null?void 0:a[l.type.name];if(h)return f&&(i+=h({node:l,pos:d,parent:f,index:p,range:t})),!1;l.isText&&(i+=(m=l==null?void 0:l.text)===null||m===void 0?void 0:m.slice(Math.max(o,d)-d,r-d))}),i}function sf(e){return Object.fromEntries(Object.entries(e.nodes).filter(([,t])=>t.spec.toText).map(([t,n])=>[t,n.spec.toText]))}Ce.create({name:"clipboardTextSerializer",addOptions(){return{blockSeparator:void 0}},addProseMirrorPlugins(){return[new nt({key:new ot("clipboardTextSerializer"),props:{clipboardTextSerializer:()=>{const{editor:e}=this,{state:t,schema:n}=e,{doc:o,selection:r}=t,{ranges:s}=r,a=Math.min(...s.map(f=>f.$from.pos)),i=Math.max(...s.map(f=>f.$to.pos)),l=sf(n);return rf(o,{from:a,to:i},{...this.options.blockSeparator!==void 0?{blockSeparator:this.options.blockSeparator}:{},textSerializers:l})}}})]}});const af=()=>({editor:e,view:t})=>(requestAnimationFrame(()=>{var n;e.isDestroyed||(t.dom.blur(),(n=window==null?void 0:window.getSelection())===null||n===void 0||n.removeAllRanges())}),!0),lf=(e=!1)=>({commands:t})=>t.setContent("",e),cf=()=>({state:e,tr:t,dispatch:n})=>{const{selection:o}=t,{ranges:r}=o;return n&&r.forEach(({$from:s,$to:a})=>{e.doc.nodesBetween(s.pos,a.pos,(i,l)=>{if(i.type.isText)return;const{doc:d,mapping:f}=t,p=d.resolve(f.map(l)),m=d.resolve(f.map(l+i.nodeSize)),h=p.blockRange(m);if(!h)return;const g=Fc(h);if(i.type.isTextblock){const{defaultType:b}=p.parent.contentMatchAt(p.index());t.setNodeMarkup(h.start,b)}(g||g===0)&&t.lift(h,g)})}),!0},df=e=>t=>e(t),uf=()=>({state:e,dispatch:t})=>Bc(e,t),ff=(e,t)=>({editor:n,tr:o})=>{const{state:r}=n,s=r.doc.slice(e.from,e.to);o.deleteRange(e.from,e.to);const a=o.mapping.map(t);return o.insert(a,s.content),o.setSelection(new Se(o.doc.resolve(a-1))),!0},pf=()=>({tr:e,dispatch:t})=>{const{selection:n}=e,o=n.$anchor.node();if(o.content.size>0)return!1;const r=e.selection.$anchor;for(let s=r.depth;s>0;s-=1)if(r.node(s).type===o.type){if(t){const i=r.before(s),l=r.after(s);e.delete(i,l).scrollIntoView()}return!0}return!1},mf=e=>({tr:t,state:n,dispatch:o})=>{const r=ue(e,n.schema),s=t.selection.$anchor;for(let a=s.depth;a>0;a-=1)if(s.node(a).type===r){if(o){const l=s.before(a),d=s.after(a);t.delete(l,d).scrollIntoView()}return!0}return!1},hf=e=>({tr:t,dispatch:n})=>{const{from:o,to:r}=e;return n&&t.delete(o,r),!0},gf=()=>({state:e,dispatch:t})=>Dc(e,t),bf=()=>({commands:e})=>e.keyboardShortcut("Enter"),vf=()=>({state:e,dispatch:t})=>Oc(e,t);function hn(e,t,n={strict:!0}){const o=Object.keys(t);return o.length?o.every(r=>n.strict?t[r]===e[r]:nf(t[r])?t[r].test(e[r]):t[r]===e[r]):!0}function Qa(e,t,n={}){return e.find(o=>o.type===t&&hn(Object.fromEntries(Object.keys(n).map(r=>[r,o.attrs[r]])),n))}function gs(e,t,n={}){return!!Qa(e,t,n)}function Ja(e,t,n){var o;if(!e||!t)return;let r=e.parent.childAfter(e.parentOffset);if((!r.node||!r.node.marks.some(f=>f.type===t))&&(r=e.parent.childBefore(e.parentOffset)),!r.node||!r.node.marks.some(f=>f.type===t)||(n=n||((o=r.node.marks[0])===null||o===void 0?void 0:o.attrs),!Qa([...r.node.marks],t,n)))return;let a=r.index,i=e.start()+r.offset,l=a+1,d=i+r.node.nodeSize;for(;a>0&&gs([...e.parent.child(a-1).marks],t,n);)a-=1,i-=e.parent.child(a).nodeSize;for(;l<e.parent.childCount&&gs([...e.parent.child(l).marks],t,n);)d+=e.parent.child(l).nodeSize,l+=1;return{from:i,to:d}}function ze(e,t){if(typeof e=="string"){if(!t.marks[e])throw Error(`There is no mark type named '${e}'. Maybe you forgot to add the extension?`);return t.marks[e]}return e}const yf=(e,t={})=>({tr:n,state:o,dispatch:r})=>{const s=ze(e,o.schema),{doc:a,selection:i}=n,{$from:l,from:d,to:f}=i;if(r){const p=Ja(l,s,t);if(p&&p.from<=d&&p.to>=f){const m=Se.create(a,p.from,p.to);n.setSelection(m)}}return!0},xf=e=>t=>{const n=typeof e=="function"?e(t):e;for(let o=0;o<n.length;o+=1)if(n[o](t))return!0;return!1};function ei(e){return e instanceof Se}function Qe(e=0,t=0,n=0){return Math.min(Math.max(e,t),n)}function Cf(e,t=null){if(!t)return null;const n=ht.atStart(e),o=ht.atEnd(e);if(t==="start"||t===!0)return n;if(t==="end")return o;const r=n.from,s=o.to;return t==="all"?Se.create(e,Qe(0,r,s),Qe(e.content.size,r,s)):Se.create(e,Qe(t,r,s),Qe(t,r,s))}function ti(){return navigator.platform==="Android"||/android/i.test(navigator.userAgent)}function $n(){return["iPad Simulator","iPhone Simulator","iPod Simulator","iPad","iPhone","iPod"].includes(navigator.platform)||navigator.userAgent.includes("Mac")&&"ontouchend"in document}const wf=(e=null,t={})=>({editor:n,view:o,tr:r,dispatch:s})=>{t={scrollIntoView:!0,...t};const a=()=>{($n()||ti())&&o.dom.focus(),requestAnimationFrame(()=>{n.isDestroyed||(o.focus(),t!=null&&t.scrollIntoView&&n.commands.scrollIntoView())})};if(o.hasFocus()&&e===null||e===!1)return!0;if(s&&e===null&&!ei(n.state.selection))return a(),!0;const i=Cf(r.doc,e)||n.state.selection,l=n.state.selection.eq(i);return s&&(l||r.setSelection(i),l&&r.storedMarks&&r.setStoredMarks(r.storedMarks),a()),!0},kf=(e,t)=>n=>e.every((o,r)=>t(o,{...n,index:r})),Sf=(e,t)=>({tr:n,commands:o})=>o.insertContentAt({from:n.selection.from,to:n.selection.to},e,t),ni=e=>{const t=e.childNodes;for(let n=t.length-1;n>=0;n-=1){const o=t[n];o.nodeType===3&&o.nodeValue&&/^(\n\s\s|\n)$/.test(o.nodeValue)?e.removeChild(o):o.nodeType===1&&ni(o)}return e};function nn(e){const t=`<body>${e}</body>`,n=new window.DOMParser().parseFromString(t,"text/html").body;return ni(n)}function gn(e,t,n){if(e instanceof zc||e instanceof gt)return e;n={slice:!0,parseOptions:{},...n};const o=typeof e=="object"&&e!==null,r=typeof e=="string";if(o)try{if(Array.isArray(e)&&e.length>0)return gt.fromArray(e.map(i=>t.nodeFromJSON(i)));const a=t.nodeFromJSON(e);return n.errorOnInvalidContent&&a.check(),a}catch(s){if(n.errorOnInvalidContent)throw new Error("[tiptap error]: Invalid JSON content",{cause:s});return console.warn("[tiptap warn]: Invalid content.","Passed value:",e,"Error:",s),gn("",t,n)}if(r){if(n.errorOnInvalidContent){let a=!1,i="";const l=new Gc({topNode:t.spec.topNode,marks:t.spec.marks,nodes:t.spec.nodes.append({__tiptap__private__unknown__catch__all__node:{content:"inline*",group:"block",parseDOM:[{tag:"*",getAttrs:d=>(a=!0,i=typeof d=="string"?d:d.outerHTML,null)}]}})});if(n.slice?oo.fromSchema(l).parseSlice(nn(e),n.parseOptions):oo.fromSchema(l).parse(nn(e),n.parseOptions),n.errorOnInvalidContent&&a)throw new Error("[tiptap error]: Invalid HTML content",{cause:new Error(`Invalid element found: ${i}`)})}const s=oo.fromSchema(t);return n.slice?s.parseSlice(nn(e),n.parseOptions).content:s.parse(nn(e),n.parseOptions)}return gn("",t,n)}function jf(e,t,n){const o=e.steps.length-1;if(o<t)return;const r=e.steps[o];if(!(r instanceof Zc||r instanceof Uc))return;const s=e.mapping.maps[o];let a=0;s.forEach((i,l,d,f)=>{a===0&&(a=f)}),e.setSelection(ht.near(e.doc.resolve(a),n))}const Mf=e=>!("type"in e),Ef=(e,t,n)=>({tr:o,dispatch:r,editor:s})=>{var a;if(r){n={parseOptions:s.options.parseOptions,updateSelection:!0,applyInputRules:!1,applyPasteRules:!1,...n};let i;try{i=gn(t,s.schema,{parseOptions:{preserveWhitespace:"full",...n.parseOptions},errorOnInvalidContent:(a=n.errorOnInvalidContent)!==null&&a!==void 0?a:s.options.enableContentCheck})}catch(g){return s.emit("contentError",{editor:s,error:g,disableCollaboration:()=>{s.storage.collaboration&&(s.storage.collaboration.isDisabled=!0)}}),!1}let{from:l,to:d}=typeof e=="number"?{from:e,to:e}:{from:e.from,to:e.to},f=!0,p=!0;if((Mf(i)?i:[i]).forEach(g=>{g.check(),f=f?g.isText&&g.marks.length===0:!1,p=p?g.isBlock:!1}),l===d&&p){const{parent:g}=o.doc.resolve(l);g.isTextblock&&!g.type.spec.code&&!g.childCount&&(l-=1,d+=1)}let h;if(f){if(Array.isArray(t))h=t.map(g=>g.text||"").join("");else if(t instanceof gt){let g="";t.forEach(b=>{b.text&&(g+=b.text)}),h=g}else typeof t=="object"&&t&&t.text?h=t.text:h=t;o.insertText(h,l,d)}else h=i,o.replaceWith(l,d,h);n.updateSelection&&jf(o,o.steps.length-1,-1),n.applyInputRules&&o.setMeta("applyInputRules",{from:l,text:h}),n.applyPasteRules&&o.setMeta("applyPasteRules",{from:l,text:h})}return!0},Tf=()=>({state:e,dispatch:t})=>Nc(e,t),Rf=()=>({state:e,dispatch:t})=>Ac(e,t),$f=()=>({state:e,dispatch:t})=>Vc(e,t),If=()=>({state:e,dispatch:t})=>Lc(e,t),Pf=()=>({state:e,dispatch:t,tr:n})=>{try{const o=Ta(e.doc,e.selection.$from.pos,-1);return o==null?!1:(n.join(o,2),t&&t(n),!0)}catch{return!1}},Nf=()=>({state:e,dispatch:t,tr:n})=>{try{const o=Ta(e.doc,e.selection.$from.pos,1);return o==null?!1:(n.join(o,2),t&&t(n),!0)}catch{return!1}},_f=()=>({state:e,dispatch:t})=>Hc(e,t),Hf=()=>({state:e,dispatch:t})=>_c(e,t);function oi(){return typeof navigator<"u"?/Mac/.test(navigator.platform):!1}function Lf(e){const t=e.split(/-(?!$)/);let n=t[t.length-1];n==="Space"&&(n=" ");let o,r,s,a;for(let i=0;i<t.length-1;i+=1){const l=t[i];if(/^(cmd|meta|m)$/i.test(l))a=!0;else if(/^a(lt)?$/i.test(l))o=!0;else if(/^(c|ctrl|control)$/i.test(l))r=!0;else if(/^s(hift)?$/i.test(l))s=!0;else if(/^mod$/i.test(l))$n()||oi()?a=!0:r=!0;else throw new Error(`Unrecognized modifier name: ${l}`)}return o&&(n=`Alt-${n}`),r&&(n=`Ctrl-${n}`),a&&(n=`Meta-${n}`),s&&(n=`Shift-${n}`),n}const Af=e=>({editor:t,view:n,tr:o,dispatch:r})=>{const s=Lf(e).split(/-(?!$)/),a=s.find(d=>!["Alt","Ctrl","Meta","Shift"].includes(d)),i=new KeyboardEvent("keydown",{key:a==="Space"?" ":a,altKey:s.includes("Alt"),ctrlKey:s.includes("Ctrl"),metaKey:s.includes("Meta"),shiftKey:s.includes("Shift"),bubbles:!0,cancelable:!0}),l=t.captureTransaction(()=>{n.someProp("handleKeyDown",d=>d(n,i))});return l==null||l.steps.forEach(d=>{const f=d.map(o.mapping);f&&r&&o.maybeStep(f)}),!0};function Qo(e,t,n={}){const{from:o,to:r,empty:s}=e.selection,a=t?ue(t,e.schema):null,i=[];e.doc.nodesBetween(o,r,(p,m)=>{if(p.isText)return;const h=Math.max(o,m),g=Math.min(r,m+p.nodeSize);i.push({node:p,from:h,to:g})});const l=r-o,d=i.filter(p=>a?a.name===p.node.type.name:!0).filter(p=>hn(p.node.attrs,n,{strict:!1}));return s?!!d.length:d.reduce((p,m)=>p+m.to-m.from,0)>=l}const Vf=(e,t={})=>({state:n,dispatch:o})=>{const r=ue(e,n.schema);return Qo(n,r,t)?Pc(n,o):!1},Of=()=>({state:e,dispatch:t})=>Ic(e,t),Df=e=>({state:t,dispatch:n})=>{const o=ue(e,t.schema);return $c(o)(t,n)},Bf=()=>({state:e,dispatch:t})=>Rc(e,t);function ri(e,t){return t.nodes[e]?"node":t.marks[e]?"mark":null}function bs(e,t){const n=typeof t=="string"?[t]:t;return Object.keys(e).reduce((o,r)=>(n.includes(r)||(o[r]=e[r]),o),{})}const Ff=(e,t)=>({tr:n,state:o,dispatch:r})=>{let s=null,a=null;const i=ri(typeof e=="string"?e:e.name,o.schema);return i?(i==="node"&&(s=ue(e,o.schema)),i==="mark"&&(a=ze(e,o.schema)),r&&n.selection.ranges.forEach(l=>{o.doc.nodesBetween(l.$from.pos,l.$to.pos,(d,f)=>{s&&s===d.type&&n.setNodeMarkup(f,void 0,bs(d.attrs,t)),a&&d.marks.length&&d.marks.forEach(p=>{a===p.type&&n.addMark(f,f+d.nodeSize,a.create(bs(p.attrs,t)))})})}),!0):!1},zf=()=>({tr:e,dispatch:t})=>(t&&e.scrollIntoView(),!0),Gf=()=>({tr:e,dispatch:t})=>{if(t){const n=new Tc(e.doc);e.setSelection(n)}return!0},Zf=()=>({state:e,dispatch:t})=>Ec(e,t),Uf=()=>({state:e,dispatch:t})=>Mc(e,t),Wf=()=>({state:e,dispatch:t})=>jc(e,t),Kf=()=>({state:e,dispatch:t})=>Sc(e,t),qf=()=>({state:e,dispatch:t})=>kc(e,t);function Yf(e,t,n={},o={}){return gn(e,t,{slice:!1,parseOptions:n,errorOnInvalidContent:o.errorOnInvalidContent})}const Xf=(e,t=!1,n={},o={})=>({editor:r,tr:s,dispatch:a,commands:i})=>{var l,d;const{doc:f}=s;if(n.preserveWhitespace!=="full"){const p=Yf(e,r.schema,n,{errorOnInvalidContent:(l=o.errorOnInvalidContent)!==null&&l!==void 0?l:r.options.enableContentCheck});return a&&s.replaceWith(0,f.content.size,p).setMeta("preventUpdate",!t),!0}return a&&s.setMeta("preventUpdate",!t),i.insertContentAt({from:0,to:f.content.size},e,{parseOptions:n,errorOnInvalidContent:(d=o.errorOnInvalidContent)!==null&&d!==void 0?d:r.options.enableContentCheck})};function Qf(e,t){const n=ze(t,e.schema),{from:o,to:r,empty:s}=e.selection,a=[];s?(e.storedMarks&&a.push(...e.storedMarks),a.push(...e.selection.$head.marks())):e.doc.nodesBetween(o,r,l=>{a.push(...l.marks)});const i=a.find(l=>l.type.name===n.name);return i?{...i.attrs}:{}}function Jf(e){for(let t=0;t<e.edgeCount;t+=1){const{type:n}=e.edge(t);if(n.isTextblock&&!n.hasRequiredAttrs())return n}return null}function ep(e,t){for(let n=e.depth;n>0;n-=1){const o=e.node(n);if(t(o))return{pos:n>0?e.before(n):0,start:e.start(n),depth:n,node:o}}}function Jo(e){return t=>ep(t.$from,e)}function cn(e,t,n){return Object.fromEntries(Object.entries(n).filter(([o])=>{const r=e.find(s=>s.type===t&&s.name===o);return r?r.attribute.keepOnSplit:!1}))}function tp(e,t,n={}){const{empty:o,ranges:r}=e.selection,s=t?ze(t,e.schema):null;if(o)return!!(e.storedMarks||e.selection.$from.marks()).filter(p=>s?s.name===p.type.name:!0).find(p=>hn(p.attrs,n,{strict:!1}));let a=0;const i=[];if(r.forEach(({$from:p,$to:m})=>{const h=p.pos,g=m.pos;e.doc.nodesBetween(h,g,(b,v)=>{if(!b.isText&&!b.marks.length)return;const y=Math.max(h,v),C=Math.min(g,v+b.nodeSize),x=C-y;a+=x,i.push(...b.marks.map(w=>({mark:w,from:y,to:C})))})}),a===0)return!1;const l=i.filter(p=>s?s.name===p.mark.type.name:!0).filter(p=>hn(p.mark.attrs,n,{strict:!1})).reduce((p,m)=>p+m.to-m.from,0),d=i.filter(p=>s?p.mark.type!==s&&p.mark.type.excludes(s):!0).reduce((p,m)=>p+m.to-m.from,0);return(l>0?l+d:l)>=a}function vs(e,t){const{nodeExtensions:n}=Qu(t),o=n.find(a=>a.name===e);if(!o)return!1;const r={name:o.name,options:o.options,storage:o.storage},s=It(Xe(o,"group",r));return typeof s!="string"?!1:s.split(" ").includes("list")}function si(e,{checkChildren:t=!0,ignoreWhitespace:n=!1}={}){var o;if(n){if(e.type.name==="hardBreak")return!0;if(e.isText)return/^\s*$/m.test((o=e.text)!==null&&o!==void 0?o:"")}if(e.isText)return!e.text;if(e.isAtom||e.isLeaf)return!1;if(e.content.childCount===0)return!0;if(t){let r=!0;return e.content.forEach(s=>{r!==!1&&(si(s,{ignoreWhitespace:n,checkChildren:t})||(r=!1))}),r}return!1}function np(e,t,n){var o;const{selection:r}=t;let s=null;if(ei(r)&&(s=r.$cursor),s){const i=(o=e.storedMarks)!==null&&o!==void 0?o:s.marks();return!!n.isInSet(i)||!i.some(l=>l.type.excludes(n))}const{ranges:a}=r;return a.some(({$from:i,$to:l})=>{let d=i.depth===0?e.doc.inlineContent&&e.doc.type.allowsMarkType(n):!1;return e.doc.nodesBetween(i.pos,l.pos,(f,p,m)=>{if(d)return!1;if(f.isInline){const h=!m||m.type.allowsMarkType(n),g=!!n.isInSet(f.marks)||!f.marks.some(b=>b.type.excludes(n));d=h&&g}return!d}),d})}const op=(e,t={})=>({tr:n,state:o,dispatch:r})=>{const{selection:s}=n,{empty:a,ranges:i}=s,l=ze(e,o.schema);if(r)if(a){const d=Qf(o,l);n.addStoredMark(l.create({...d,...t}))}else i.forEach(d=>{const f=d.$from.pos,p=d.$to.pos;o.doc.nodesBetween(f,p,(m,h)=>{const g=Math.max(h,f),b=Math.min(h+m.nodeSize,p);m.marks.find(y=>y.type===l)?m.marks.forEach(y=>{l===y.type&&n.addMark(g,b,l.create({...y.attrs,...t}))}):n.addMark(g,b,l.create(t))})});return np(o,n,l)},rp=(e,t)=>({tr:n})=>(n.setMeta(e,t),!0),sp=(e,t={})=>({state:n,dispatch:o,chain:r})=>{const s=ue(e,n.schema);let a;return n.selection.$anchor.sameParent(n.selection.$head)&&(a=n.selection.$anchor.parent.attrs),s.isTextblock?r().command(({commands:i})=>Qr(s,{...a,...t})(n)?!0:i.clearNodes()).command(({state:i})=>Qr(s,{...a,...t})(i,o)).run():(console.warn('[tiptap warn]: Currently "setNode()" only supports text block nodes.'),!1)},ap=e=>({tr:t,dispatch:n})=>{if(n){const{doc:o}=t,r=Qe(e,0,o.content.size),s=mn.create(o,r);t.setSelection(s)}return!0},ip=e=>({tr:t,dispatch:n})=>{if(n){const{doc:o}=t,{from:r,to:s}=typeof e=="number"?{from:e,to:e}:e,a=Se.atStart(o).from,i=Se.atEnd(o).to,l=Qe(r,a,i),d=Qe(s,a,i),f=Se.create(o,l,d);t.setSelection(f)}return!0},lp=e=>({state:t,dispatch:n})=>{const o=ue(e,t.schema);return wc(o)(t,n)};function ys(e,t){const n=e.storedMarks||e.selection.$to.parentOffset&&e.selection.$from.marks();if(n){const o=n.filter(r=>t==null?void 0:t.includes(r.type.name));e.tr.ensureMarks(o)}}const cp=({keepMarks:e=!0}={})=>({tr:t,state:n,dispatch:o,editor:r})=>{const{selection:s,doc:a}=t,{$from:i,$to:l}=s,d=r.extensionManager.attributes,f=cn(d,i.node().type.name,i.node().attrs);if(s instanceof mn&&s.node.isBlock)return!i.parentOffset||!ln(a,i.pos)?!1:(o&&(e&&ys(n,r.extensionManager.splittableMarks),t.split(i.pos).scrollIntoView()),!0);if(!i.parent.isBlock)return!1;const p=l.parentOffset===l.parent.content.size,m=i.depth===0?void 0:Jf(i.node(-1).contentMatchAt(i.indexAfter(-1)));let h=p&&m?[{type:m,attrs:f}]:void 0,g=ln(t.doc,t.mapping.map(i.pos),1,h);if(!h&&!g&&ln(t.doc,t.mapping.map(i.pos),1,m?[{type:m}]:void 0)&&(g=!0,h=m?[{type:m,attrs:f}]:void 0),o){if(g&&(s instanceof Se&&t.deleteSelection(),t.split(t.mapping.map(i.pos),1,h),m&&!p&&!i.parentOffset&&i.parent.type!==m)){const b=t.mapping.map(i.before()),v=t.doc.resolve(b);i.node(-1).canReplaceWith(v.index(),v.index()+1,m)&&t.setNodeMarkup(t.mapping.map(i.before()),m)}e&&ys(n,r.extensionManager.splittableMarks),t.scrollIntoView()}return g},dp=(e,t={})=>({tr:n,state:o,dispatch:r,editor:s})=>{var a;const i=ue(e,o.schema),{$from:l,$to:d}=o.selection,f=o.selection.node;if(f&&f.isBlock||l.depth<2||!l.sameParent(d))return!1;const p=l.node(-1);if(p.type!==i)return!1;const m=s.extensionManager.attributes;if(l.parent.content.size===0&&l.node(-1).childCount===l.indexAfter(-1)){if(l.depth===2||l.node(-3).type!==i||l.index(-2)!==l.node(-2).childCount-1)return!1;if(r){let y=gt.empty;const C=l.index(-1)?1:l.index(-2)?2:3;for(let M=l.depth-C;M>=l.depth-3;M-=1)y=gt.from(l.node(M).copy(y));const x=l.indexAfter(-1)<l.node(-2).childCount?1:l.indexAfter(-2)<l.node(-3).childCount?2:3,w={...cn(m,l.node().type.name,l.node().attrs),...t},E=((a=i.contentMatch.defaultType)===null||a===void 0?void 0:a.createAndFill(w))||void 0;y=y.append(gt.from(i.createAndFill(null,E)||void 0));const k=l.before(l.depth-(C-1));n.replace(k,l.after(-x),new Cc(y,4-C,0));let T=-1;n.doc.nodesBetween(k,n.doc.content.size,(M,N)=>{if(T>-1)return!1;M.isTextblock&&M.content.size===0&&(T=N+1)}),T>-1&&n.setSelection(Se.near(n.doc.resolve(T))),n.scrollIntoView()}return!0}const h=d.pos===l.end()?p.contentMatchAt(0).defaultType:null,g={...cn(m,p.type.name,p.attrs),...t},b={...cn(m,l.node().type.name,l.node().attrs),...t};n.delete(l.pos,d.pos);const v=h?[{type:i,attrs:g},{type:h,attrs:b}]:[{type:i,attrs:g}];if(!ln(n.doc,l.pos,2))return!1;if(r){const{selection:y,storedMarks:C}=o,{splittableMarks:x}=s.extensionManager,w=C||y.$to.parentOffset&&y.$from.marks();if(n.split(l.pos,2,v).scrollIntoView(),!w||!r)return!0;const E=w.filter(k=>x.includes(k.type.name));n.ensureMarks(E)}return!0},lo=(e,t)=>{const n=Jo(a=>a.type===t)(e.selection);if(!n)return!0;const o=e.doc.resolve(Math.max(0,n.pos-1)).before(n.depth);if(o===void 0)return!0;const r=e.doc.nodeAt(o);return n.node.type===(r==null?void 0:r.type)&&Ra(e.doc,n.pos)&&e.join(n.pos),!0},co=(e,t)=>{const n=Jo(a=>a.type===t)(e.selection);if(!n)return!0;const o=e.doc.resolve(n.start).after(n.depth);if(o===void 0)return!0;const r=e.doc.nodeAt(o);return n.node.type===(r==null?void 0:r.type)&&Ra(e.doc,o)&&e.join(o),!0},up=(e,t,n,o={})=>({editor:r,tr:s,state:a,dispatch:i,chain:l,commands:d,can:f})=>{const{extensions:p,splittableMarks:m}=r.extensionManager,h=ue(e,a.schema),g=ue(t,a.schema),{selection:b,storedMarks:v}=a,{$from:y,$to:C}=b,x=y.blockRange(C),w=v||b.$to.parentOffset&&b.$from.marks();if(!x)return!1;const E=Jo(k=>vs(k.type.name,p))(b);if(x.depth>=1&&E&&x.depth-E.depth<=1){if(E.node.type===h)return d.liftListItem(g);if(vs(E.node.type.name,p)&&h.validContent(E.node.content)&&i)return l().command(()=>(s.setNodeMarkup(E.pos,h),!0)).command(()=>lo(s,h)).command(()=>co(s,h)).run()}return!n||!w||!i?l().command(()=>f().wrapInList(h,o)?!0:d.clearNodes()).wrapInList(h,o).command(()=>lo(s,h)).command(()=>co(s,h)).run():l().command(()=>{const k=f().wrapInList(h,o),T=w.filter(M=>m.includes(M.type.name));return s.ensureMarks(T),k?!0:d.clearNodes()}).wrapInList(h,o).command(()=>lo(s,h)).command(()=>co(s,h)).run()},fp=(e,t={},n={})=>({state:o,commands:r})=>{const{extendEmptyMarkRange:s=!1}=n,a=ze(e,o.schema);return tp(o,a,t)?r.unsetMark(a,{extendEmptyMarkRange:s}):r.setMark(a,t)},pp=(e,t,n={})=>({state:o,commands:r})=>{const s=ue(e,o.schema),a=ue(t,o.schema),i=Qo(o,s,n);let l;return o.selection.$anchor.sameParent(o.selection.$head)&&(l=o.selection.$anchor.parent.attrs),i?r.setNode(a,l):r.setNode(s,{...l,...n})},mp=(e,t={})=>({state:n,commands:o})=>{const r=ue(e,n.schema);return Qo(n,r,t)?o.lift(r):o.wrapIn(r,t)},hp=()=>({state:e,dispatch:t})=>{const n=e.plugins;for(let o=0;o<n.length;o+=1){const r=n[o];let s;if(r.spec.isInputRules&&(s=r.getState(e))){if(t){const a=e.tr,i=s.transform;for(let l=i.steps.length-1;l>=0;l-=1)a.step(i.steps[l].invert(i.docs[l]));if(s.text){const l=a.doc.resolve(s.from).marks();a.replaceWith(s.from,s.to,e.schema.text(s.text,l))}else a.delete(s.from,s.to)}return!0}}return!1},gp=()=>({tr:e,dispatch:t})=>{const{selection:n}=e,{empty:o,ranges:r}=n;return o||t&&r.forEach(s=>{e.removeMark(s.$from.pos,s.$to.pos)}),!0},bp=(e,t={})=>({tr:n,state:o,dispatch:r})=>{var s;const{extendEmptyMarkRange:a=!1}=t,{selection:i}=n,l=ze(e,o.schema),{$from:d,empty:f,ranges:p}=i;if(!r)return!0;if(f&&a){let{from:m,to:h}=i;const g=(s=d.marks().find(v=>v.type===l))===null||s===void 0?void 0:s.attrs,b=Ja(d,l,g);b&&(m=b.from,h=b.to),n.removeMark(m,h,l)}else p.forEach(m=>{n.removeMark(m.$from.pos,m.$to.pos,l)});return n.removeStoredMark(l),!0},vp=(e,t={})=>({tr:n,state:o,dispatch:r})=>{let s=null,a=null;const i=ri(typeof e=="string"?e:e.name,o.schema);return i?(i==="node"&&(s=ue(e,o.schema)),i==="mark"&&(a=ze(e,o.schema)),r&&n.selection.ranges.forEach(l=>{const d=l.$from.pos,f=l.$to.pos;let p,m,h,g;n.selection.empty?o.doc.nodesBetween(d,f,(b,v)=>{s&&s===b.type&&(h=Math.max(v,d),g=Math.min(v+b.nodeSize,f),p=v,m=b)}):o.doc.nodesBetween(d,f,(b,v)=>{v<d&&s&&s===b.type&&(h=Math.max(v,d),g=Math.min(v+b.nodeSize,f),p=v,m=b),v>=d&&v<=f&&(s&&s===b.type&&n.setNodeMarkup(v,void 0,{...b.attrs,...t}),a&&b.marks.length&&b.marks.forEach(y=>{if(a===y.type){const C=Math.max(v,d),x=Math.min(v+b.nodeSize,f);n.addMark(C,x,a.create({...y.attrs,...t}))}}))}),m&&(p!==void 0&&n.setNodeMarkup(p,void 0,{...m.attrs,...t}),a&&m.marks.length&&m.marks.forEach(b=>{a===b.type&&n.addMark(h,g,a.create({...b.attrs,...t}))}))}),!0):!1},yp=(e,t={})=>({state:n,dispatch:o})=>{const r=ue(e,n.schema);return xc(r,t)(n,o)},xp=(e,t={})=>({state:n,dispatch:o})=>{const r=ue(e,n.schema);return yc(r,t)(n,o)};var Cp=Object.freeze({__proto__:null,blur:af,clearContent:lf,clearNodes:cf,command:df,createParagraphNear:uf,cut:ff,deleteCurrentNode:pf,deleteNode:mf,deleteRange:hf,deleteSelection:gf,enter:bf,exitCode:vf,extendMarkRange:yf,first:xf,focus:wf,forEach:kf,insertContent:Sf,insertContentAt:Ef,joinBackward:$f,joinDown:Rf,joinForward:If,joinItemBackward:Pf,joinItemForward:Nf,joinTextblockBackward:_f,joinTextblockForward:Hf,joinUp:Tf,keyboardShortcut:Af,lift:Vf,liftEmptyBlock:Of,liftListItem:Df,newlineInCode:Bf,resetAttributes:Ff,scrollIntoView:zf,selectAll:Gf,selectNodeBackward:Zf,selectNodeForward:Uf,selectParentNode:Wf,selectTextblockEnd:Kf,selectTextblockStart:qf,setContent:Xf,setMark:op,setMeta:rp,setNode:sp,setNodeSelection:ap,setTextSelection:ip,sinkListItem:lp,splitBlock:cp,splitListItem:dp,toggleList:up,toggleMark:fp,toggleNode:pp,toggleWrap:mp,undoInputRule:hp,unsetAllMarks:gp,unsetMark:bp,updateAttributes:vp,wrapIn:yp,wrapInList:xp});Ce.create({name:"commands",addCommands(){return{...Cp}}});Ce.create({name:"drop",addProseMirrorPlugins(){return[new nt({key:new ot("tiptapDrop"),props:{handleDrop:(e,t,n,o)=>{this.editor.emit("drop",{editor:this.editor,event:t,slice:n,moved:o})}}})]}});Ce.create({name:"editable",addProseMirrorPlugins(){return[new nt({key:new ot("editable"),props:{editable:()=>this.editor.options.editable}})]}});const wp=new ot("focusEvents");Ce.create({name:"focusEvents",addProseMirrorPlugins(){const{editor:e}=this;return[new nt({key:wp,props:{handleDOMEvents:{focus:(t,n)=>{e.isFocused=!0;const o=e.state.tr.setMeta("focus",{event:n}).setMeta("addToHistory",!1);return t.dispatch(o),!1},blur:(t,n)=>{e.isFocused=!1;const o=e.state.tr.setMeta("blur",{event:n}).setMeta("addToHistory",!1);return t.dispatch(o),!1}}}})]}});Ce.create({name:"keymap",addKeyboardShortcuts(){const e=()=>this.editor.commands.first(({commands:a})=>[()=>a.undoInputRule(),()=>a.command(({tr:i})=>{const{selection:l,doc:d}=i,{empty:f,$anchor:p}=l,{pos:m,parent:h}=p,g=p.parent.isTextblock&&m>0?i.doc.resolve(m-1):p,b=g.parent.type.spec.isolating,v=p.pos-p.parentOffset,y=b&&g.parent.childCount===1?v===p.pos:ht.atStart(d).from===m;return!f||!h.type.isTextblock||h.textContent.length||!y||y&&p.parent.type.name==="paragraph"?!1:a.clearNodes()}),()=>a.deleteSelection(),()=>a.joinBackward(),()=>a.selectNodeBackward()]),t=()=>this.editor.commands.first(({commands:a})=>[()=>a.deleteSelection(),()=>a.deleteCurrentNode(),()=>a.joinForward(),()=>a.selectNodeForward()]),o={Enter:()=>this.editor.commands.first(({commands:a})=>[()=>a.newlineInCode(),()=>a.createParagraphNear(),()=>a.liftEmptyBlock(),()=>a.splitBlock()]),"Mod-Enter":()=>this.editor.commands.exitCode(),Backspace:e,"Mod-Backspace":e,"Shift-Backspace":e,Delete:t,"Mod-Delete":t,"Mod-a":()=>this.editor.commands.selectAll()},r={...o},s={...o,"Ctrl-h":e,"Alt-Backspace":e,"Ctrl-d":t,"Ctrl-Alt-Backspace":t,"Alt-Delete":t,"Alt-d":t,"Ctrl-a":()=>this.editor.commands.selectTextblockStart(),"Ctrl-e":()=>this.editor.commands.selectTextblockEnd()};return $n()||oi()?s:r},addProseMirrorPlugins(){return[new nt({key:new ot("clearDocument"),appendTransaction:(e,t,n)=>{if(e.some(b=>b.getMeta("composition")))return;const o=e.some(b=>b.docChanged)&&!t.doc.eq(n.doc),r=e.some(b=>b.getMeta("preventClearDocument"));if(!o||r)return;const{empty:s,from:a,to:i}=t.selection,l=ht.atStart(t.doc).from,d=ht.atEnd(t.doc).to;if(s||!(a===l&&i===d)||!si(n.doc))return;const m=n.tr,h=Ya({state:n,transaction:m}),{commands:g}=new Xu({editor:this.editor,state:h});if(g.clearNodes(),!!m.steps.length)return m}})]}});Ce.create({name:"paste",addProseMirrorPlugins(){return[new nt({key:new ot("tiptapPaste"),props:{handlePaste:(e,t,n)=>{this.editor.emit("paste",{editor:this.editor,event:t,slice:n})}}})]}});Ce.create({name:"tabindex",addProseMirrorPlugins(){return[new nt({key:new ot("tabindex"),props:{attributes:()=>this.editor.isEditable?{tabindex:"0"}:{}}})]}});class kp{constructor(t,n,o){this.isDragging=!1,this.component=t,this.editor=n.editor,this.options={stopEvent:null,ignoreMutation:null,...o},this.extension=n.extension,this.node=n.node,this.decorations=n.decorations,this.innerDecorations=n.innerDecorations,this.view=n.view,this.HTMLAttributes=n.HTMLAttributes,this.getPos=n.getPos,this.mount()}mount(){}get dom(){return this.editor.view.dom}get contentDOM(){return null}onDragStart(t){var n,o,r,s,a,i,l;const{view:d}=this.editor,f=t.target,p=f.nodeType===3?(n=f.parentElement)===null||n===void 0?void 0:n.closest("[data-drag-handle]"):f.closest("[data-drag-handle]");if(!this.dom||!((o=this.contentDOM)===null||o===void 0)&&o.contains(f)||!p)return;let m=0,h=0;if(this.dom!==p){const C=this.dom.getBoundingClientRect(),x=p.getBoundingClientRect(),w=(r=t.offsetX)!==null&&r!==void 0?r:(s=t.nativeEvent)===null||s===void 0?void 0:s.offsetX,E=(a=t.offsetY)!==null&&a!==void 0?a:(i=t.nativeEvent)===null||i===void 0?void 0:i.offsetY;m=x.x-C.x+w,h=x.y-C.y+E}const g=this.dom.cloneNode(!0);(l=t.dataTransfer)===null||l===void 0||l.setDragImage(g,m,h);const b=this.getPos();if(typeof b!="number")return;const v=mn.create(d.state.doc,b),y=d.state.tr.setSelection(v);d.dispatch(y)}stopEvent(t){var n;if(!this.dom)return!1;if(typeof this.options.stopEvent=="function")return this.options.stopEvent({event:t});const o=t.target;if(!(this.dom.contains(o)&&!(!((n=this.contentDOM)===null||n===void 0)&&n.contains(o))))return!1;const s=t.type.startsWith("drag"),a=t.type==="drop";if((["INPUT","BUTTON","SELECT","TEXTAREA"].includes(o.tagName)||o.isContentEditable)&&!a&&!s)return!0;const{isEditable:l}=this.editor,{isDragging:d}=this,f=!!this.node.type.spec.draggable,p=mn.isSelectable(this.node),m=t.type==="copy",h=t.type==="paste",g=t.type==="cut",b=t.type==="mousedown";if(!f&&p&&s&&t.target===this.dom&&t.preventDefault(),f&&s&&!d&&t.target===this.dom)return t.preventDefault(),!1;if(f&&l&&!d&&b){const v=o.closest("[data-drag-handle]");v&&(this.dom===v||this.dom.contains(v))&&(this.isDragging=!0,document.addEventListener("dragend",()=>{this.isDragging=!1},{once:!0}),document.addEventListener("drop",()=>{this.isDragging=!1},{once:!0}),document.addEventListener("mouseup",()=>{this.isDragging=!1},{once:!0}))}return!(d||a||m||h||g||b&&p)}ignoreMutation(t){return!this.dom||!this.contentDOM?!0:typeof this.options.ignoreMutation=="function"?this.options.ignoreMutation({mutation:t}):this.node.isLeaf||this.node.isAtom?!0:t.type==="selection"||this.dom.contains(t.target)&&t.type==="childList"&&($n()||ti())&&this.editor.isFocused&&[...Array.from(t.addedNodes),...Array.from(t.removedNodes)].every(o=>o.isContentEditable)?!1:this.contentDOM===t.target&&t.type==="attributes"?!0:!this.contentDOM.contains(t.target)}updateAttributes(t){this.editor.commands.command(({tr:n})=>{const o=this.getPos();return typeof o!="number"?!1:(n.setNodeMarkup(o,void 0,{...this.node.attrs,...t}),!0)})}deleteNode(){const t=this.getPos();if(typeof t!="number")return;const n=t+this.node.nodeSize;this.editor.commands.deleteRange({from:t,to:n})}}var ai={exports:{}},uo={};/**
 * @license React
 * use-sync-external-store-shim.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var xs;function Sp(){if(xs)return uo;xs=1;var e=K;function t(p,m){return p===m&&(p!==0||1/p===1/m)||p!==p&&m!==m}var n=typeof Object.is=="function"?Object.is:t,o=e.useState,r=e.useEffect,s=e.useLayoutEffect,a=e.useDebugValue;function i(p,m){var h=m(),g=o({inst:{value:h,getSnapshot:m}}),b=g[0].inst,v=g[1];return s(function(){b.value=h,b.getSnapshot=m,l(b)&&v({inst:b})},[p,h,m]),r(function(){return l(b)&&v({inst:b}),p(function(){l(b)&&v({inst:b})})},[p]),a(h),h}function l(p){var m=p.getSnapshot;p=p.value;try{var h=m();return!n(p,h)}catch{return!0}}function d(p,m){return m()}var f=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?d:i;return uo.useSyncExternalStore=e.useSyncExternalStore!==void 0?e.useSyncExternalStore:f,uo}ai.exports=Sp();var ii=ai.exports;const jp=(...e)=>t=>{e.forEach(n=>{typeof n=="function"?n(t):n&&(n.current=t)})},Mp=({contentComponent:e})=>{const t=ii.useSyncExternalStore(e.subscribe,e.getSnapshot,e.getServerSnapshot);return K.createElement(K.Fragment,null,Object.values(t))};function Ep(){const e=new Set;let t={};return{subscribe(n){return e.add(n),()=>{e.delete(n)}},getSnapshot(){return t},getServerSnapshot(){return t},setRenderer(n,o){t={...t,[n]:$a.createPortal(o.reactElement,o.element,n)},e.forEach(r=>r())},removeRenderer(n){const o={...t};delete o[n],t=o,e.forEach(r=>r())}}}class Tp extends K.Component{constructor(t){var n;super(t),this.editorContentRef=K.createRef(),this.initialized=!1,this.state={hasContentComponentInitialized:!!(!((n=t.editor)===null||n===void 0)&&n.contentComponent)}}componentDidMount(){this.init()}componentDidUpdate(){this.init()}init(){const t=this.props.editor;if(t&&!t.isDestroyed&&t.options.element){if(t.contentComponent)return;const n=this.editorContentRef.current;n.append(...t.options.element.childNodes),t.setOptions({element:n}),t.contentComponent=Ep(),this.state.hasContentComponentInitialized||(this.unsubscribeToContentComponent=t.contentComponent.subscribe(()=>{this.setState(o=>o.hasContentComponentInitialized?o:{hasContentComponentInitialized:!0}),this.unsubscribeToContentComponent&&this.unsubscribeToContentComponent()})),t.createNodeViews(),this.initialized=!0}}componentWillUnmount(){const t=this.props.editor;if(!t||(this.initialized=!1,t.isDestroyed||t.view.setProps({nodeViews:{}}),this.unsubscribeToContentComponent&&this.unsubscribeToContentComponent(),t.contentComponent=null,!t.options.element.firstChild))return;const n=document.createElement("div");n.append(...t.options.element.childNodes),t.setOptions({element:n})}render(){const{editor:t,innerRef:n,...o}=this.props;return K.createElement(K.Fragment,null,K.createElement("div",{ref:jp(n,this.editorContentRef),...o}),(t==null?void 0:t.contentComponent)&&K.createElement(Mp,{contentComponent:t.contentComponent}))}}const Rp=u.forwardRef((e,t)=>{const n=K.useMemo(()=>Math.floor(Math.random()*4294967295).toString(),[e.editor]);return K.createElement(Tp,{key:n,innerRef:t,...e})});K.memo(Rp);var fo={};/**
 * @license React
 * use-sync-external-store-shim/with-selector.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Cs;function $p(){if(Cs)return fo;Cs=1;var e=K,t=ii;function n(d,f){return d===f&&(d!==0||1/d===1/f)||d!==d&&f!==f}var o=typeof Object.is=="function"?Object.is:n,r=t.useSyncExternalStore,s=e.useRef,a=e.useEffect,i=e.useMemo,l=e.useDebugValue;return fo.useSyncExternalStoreWithSelector=function(d,f,p,m,h){var g=s(null);if(g.current===null){var b={hasValue:!1,value:null};g.current=b}else b=g.current;g=i(function(){function y(k){if(!C){if(C=!0,x=k,k=m(k),h!==void 0&&b.hasValue){var T=b.value;if(h(T,k))return w=T}return w=k}if(T=w,o(x,k))return T;var M=m(k);return h!==void 0&&h(T,M)?T:(x=k,w=M)}var C=!1,x,w,E=p===void 0?null:p;return[function(){return y(f())},E===null?void 0:function(){return y(E())}]},[f,p,m,h]);var v=r(d,g[0],g[1]);return a(function(){b.hasValue=!0,b.value=v},[v]),l(v),v},fo}$p();const Ip=u.createContext({editor:null});Ip.Consumer;const li=u.createContext({onDragStart:void 0}),ci=()=>u.useContext(li),Pp=K.forwardRef((e,t)=>{const{onDragStart:n}=ci(),o=e.as||"div";return K.createElement(o,{...e,ref:t,"data-node-view-wrapper":"",onDragStart:n,style:{whiteSpace:"normal",...e.style}})});function Np(e){return!!(typeof e=="function"&&e.prototype&&e.prototype.isReactComponent)}function _p(e){var t;return typeof e=="object"&&((t=e.$$typeof)===null||t===void 0?void 0:t.toString())==="Symbol(react.forward_ref)"}class Hp{constructor(t,{editor:n,props:o={},as:r="div",className:s=""}){this.ref=null,this.id=Math.floor(Math.random()*4294967295).toString(),this.component=t,this.editor=n,this.props=o,this.element=document.createElement(r),this.element.classList.add("react-renderer"),s&&this.element.classList.add(...s.split(" ")),this.editor.isInitialized?Te.flushSync(()=>{this.render()}):this.render()}render(){var t;const n=this.component,o=this.props,r=this.editor;(Np(n)||_p(n))&&(o.ref=s=>{this.ref=s}),this.reactElement=K.createElement(n,{...o}),(t=r==null?void 0:r.contentComponent)===null||t===void 0||t.setRenderer(this.id,this)}updateProps(t={}){this.props={...this.props,...t},this.render()}destroy(){var t;const n=this.editor;(t=n==null?void 0:n.contentComponent)===null||t===void 0||t.removeRenderer(this.id)}updateAttributes(t){Object.keys(t).forEach(n=>{this.element.setAttribute(n,t[n])})}}class Lp extends kp{mount(){const t={editor:this.editor,node:this.node,decorations:this.decorations,innerDecorations:this.innerDecorations,view:this.view,selected:!1,extension:this.extension,HTMLAttributes:this.HTMLAttributes,getPos:()=>this.getPos(),updateAttributes:(d={})=>this.updateAttributes(d),deleteNode:()=>this.deleteNode()};if(!this.component.displayName){const d=f=>f.charAt(0).toUpperCase()+f.substring(1);this.component.displayName=d(this.extension.name)}const r={onDragStart:this.onDragStart.bind(this),nodeViewContentRef:d=>{d&&this.contentDOMElement&&d.firstChild!==this.contentDOMElement&&d.appendChild(this.contentDOMElement)}},s=this.component,a=K.memo(d=>K.createElement(li.Provider,{value:r},K.createElement(s,d)));a.displayName="ReactNodeView",this.node.isLeaf?this.contentDOMElement=null:this.options.contentDOMElementTag?this.contentDOMElement=document.createElement(this.options.contentDOMElementTag):this.contentDOMElement=document.createElement(this.node.isInline?"span":"div"),this.contentDOMElement&&(this.contentDOMElement.dataset.nodeViewContentReact="",this.contentDOMElement.style.whiteSpace="inherit");let i=this.node.isInline?"span":"div";this.options.as&&(i=this.options.as);const{className:l=""}=this.options;this.handleSelectionUpdate=this.handleSelectionUpdate.bind(this),this.renderer=new Hp(a,{editor:this.editor,props:t,as:i,className:`node-${this.node.type.name} ${l}`.trim()}),this.editor.on("selectionUpdate",this.handleSelectionUpdate),this.updateElementAttributes()}get dom(){var t;if(this.renderer.element.firstElementChild&&!(!((t=this.renderer.element.firstElementChild)===null||t===void 0)&&t.hasAttribute("data-node-view-wrapper")))throw Error("Please use the NodeViewWrapper component for your node view.");return this.renderer.element}get contentDOM(){return this.node.isLeaf?null:this.contentDOMElement}handleSelectionUpdate(){const{from:t,to:n}=this.editor.state.selection,o=this.getPos();if(typeof o=="number")if(t<=o&&n>=o+this.node.nodeSize){if(this.renderer.props.selected)return;this.selectNode()}else{if(!this.renderer.props.selected)return;this.deselectNode()}}update(t,n,o){const r=s=>{this.renderer.updateProps(s),typeof this.options.attrs=="function"&&this.updateElementAttributes()};if(t.type!==this.node.type)return!1;if(typeof this.options.update=="function"){const s=this.node,a=this.decorations,i=this.innerDecorations;return this.node=t,this.decorations=n,this.innerDecorations=o,this.options.update({oldNode:s,oldDecorations:a,newNode:t,newDecorations:n,oldInnerDecorations:i,innerDecorations:o,updateProps:()=>r({node:t,decorations:n,innerDecorations:o})})}return t===this.node&&this.decorations===n&&this.innerDecorations===o||(this.node=t,this.decorations=n,this.innerDecorations=o,r({node:t,decorations:n,innerDecorations:o})),!0}selectNode(){this.renderer.updateProps({selected:!0}),this.renderer.element.classList.add("ProseMirror-selectednode")}deselectNode(){this.renderer.updateProps({selected:!1}),this.renderer.element.classList.remove("ProseMirror-selectednode")}destroy(){this.renderer.destroy(),this.editor.off("selectionUpdate",this.handleSelectionUpdate),this.contentDOMElement=null}updateElementAttributes(){if(this.options.attrs){let t={};if(typeof this.options.attrs=="function"){const n=this.editor.extensionManager.attributes,o=ef(this.node,n);t=this.options.attrs({node:this.node,HTMLAttributes:o})}else t=this.options.attrs;this.renderer.updateAttributes(t)}}}function Ap(e,t){return n=>n.editor.contentComponent?new Lp(e,n,t):{}}const di=u.createContext(void 0);function Ne(e){return u.useContext(di)}function O(e){const t=Ne();if(!(t!=null&&t.editor))throw new Error("useBlockNoteEditor was called outside of a BlockNoteContext provider or BlockNoteView component");return t.editor}function er(e,t,n){const o=Ne();t||(t=o==null?void 0:o.editor),u.useEffect(()=>{if(!t)throw new Error("'editor' is required, either from BlockNoteContext or as a function argument");return t.onSelectionChange(e,n)},[e,t,n])}function Vp(e,t){const n=O();t=t||n;const[o,r]=u.useState(()=>{if(e)return t.getSelectionBoundingBox()}),s=u.useCallback(()=>{if(!e)return;const a=t.getSelectionBoundingBox();r(a)},[t,e]);return er(s,t,!0),u.useEffect(()=>{r(e?t.getSelectionBoundingBox():void 0)},[e,t]),o}function Op(e){return e.getBoundingClientRect!==void 0}function Ge(e,t,n,o){const{refs:r,update:s,context:a,floatingStyles:i,isPositioned:l}=Yo({open:e,...o}),{isMounted:d,styles:f}=Xo(a),p=typeof(o==null?void 0:o.canDismiss)=="object"?o.canDismiss:{enabled:o==null?void 0:o.canDismiss},m=Uu(a,p),{getReferenceProps:h,getFloatingProps:g}=Ku([m]);return u.useEffect(()=>{s()},[t,s]),u.useEffect(()=>{t!==null&&(t instanceof HTMLElement||Op(t)?r.setReference(t):r.setReference({getBoundingClientRect:()=>t}))},[t,r]),u.useMemo(()=>({isMounted:d,ref:r.setFloating,setReference:r.setReference,style:{display:"flex",...f,...i,zIndex:n},getFloatingProps:g,getReferenceProps:h,isPositioned:l}),[l,i,d,r.setFloating,r.setReference,f,n,g,h])}function Oe(e){const[t,n]=u.useState();return u.useEffect(()=>e(o=>{n({...o})}),[e]),t}const ui=u.createContext(void 0);function A(){return u.useContext(ui)}const In=(e={},t=[])=>u.useMemo(()=>{const n=Nd.create(e);return window&&(window.ProseMirror=n._tiptapEditor),n},t);function Z(){return Ne().editor.dictionary}function tr(e,t){const n=Ne();t||(t=n==null?void 0:n.editor),u.useEffect(()=>{if(!t)throw new Error("'editor' is required, either from BlockNoteContext or as a function argument");return t.onChange(e)},[e,t])}const nr=e=>{const[t,n]=u.useState(!1),[o,r]=u.useState(e.editor.isEmpty),s=A();tr(()=>{r(e.editor.isEmpty)},e.editor);const a=u.useCallback(()=>{n(!0)},[]),i=u.useCallback(()=>{n(!1)},[]);return u.useEffect(()=>{e.editable&&e.autoFocus&&e.editor.focus()},[e.autoFocus,e.editable,e.editor]),c.jsxs(c.Fragment,{children:[c.jsx(s.Comments.Editor,{autoFocus:e.autoFocus,className:"bn-comment-editor",editor:e.editor,onFocus:a,onBlur:i,editable:e.editable}),e.actions&&c.jsx("div",{className:"bn-comment-actions-wrapper",children:c.jsx(e.actions,{isFocused:t,isEmpty:o})})]})},Dp=Xd(Aa(Ba.paragraph.implementation.node.config),{}),{textColor:n2,backgroundColor:o2,...Bp}=Yd,or=Da.create({blockSpecs:{paragraph:Dp},styleSpecs:Bp});function Fp(){const e=O();if(!e.comments)throw new Error("Comments plugin not found");const t=e.comments,n=A(),o=Z(),r=In({trailingBlock:!1,dictionary:{...o,placeholders:{emptyDocument:o.placeholders.new_comment}},schema:or,sideMenuDetection:"editor"});return c.jsx(n.Comments.Card,{className:"bn-thread",children:c.jsx(nr,{autoFocus:!0,editable:!0,editor:r,actions:({isEmpty:s})=>c.jsx(n.Generic.Toolbar.Root,{className:ie("bn-action-toolbar","bn-comment-actions"),variant:"action-toolbar",children:c.jsx(n.Generic.Toolbar.Button,{className:"bn-button",mainTooltip:"Save",variant:"compact",isDisabled:s,onClick:async()=>{await t.createThread({initialComment:{body:r.document}}),t.stopPendingComment()},children:"Save"})})})})}const zp=e=>{const t=O();if(!t.comments)throw new Error("FloatingComposerController can only be used when BlockNote editor has enabled comments");const n=t.comments;u.useEffect(()=>{const f=n.onUpdate(p=>t.setForceSelectionVisible(p.pendingComment));return()=>f()},[n,t]);const o=Oe(n.onUpdate.bind(n)),r=Vp(o==null?void 0:o.pendingComment),{isMounted:s,ref:a,style:i,getFloatingProps:l}=Ge((o==null?void 0:o.pendingComment)||!1,r||null,5e3,{placement:"bottom",middleware:[Pe(10),rt(),Re()],onOpenChange:f=>{f||(n.stopPendingComment(),t.focus())},...e.floatingOptions});if(!s||!o)return null;const d=e.floatingComposer||Fp;return c.jsx("div",{ref:a,style:i,...l(),children:c.jsx(d,{})})};var fi={color:void 0,size:void 0,className:void 0,style:void 0,attr:void 0},ws=K.createContext&&K.createContext(fi),Gp=["attr","size","title"];function Zp(e,t){if(e==null)return{};var n=Up(e,t),o,r;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(r=0;r<s.length;r++)o=s[r],!(t.indexOf(o)>=0)&&Object.prototype.propertyIsEnumerable.call(e,o)&&(n[o]=e[o])}return n}function Up(e,t){if(e==null)return{};var n={};for(var o in e)if(Object.prototype.hasOwnProperty.call(e,o)){if(t.indexOf(o)>=0)continue;n[o]=e[o]}return n}function bn(){return bn=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])}return e},bn.apply(this,arguments)}function ks(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter(function(r){return Object.getOwnPropertyDescriptor(e,r).enumerable})),n.push.apply(n,o)}return n}function vn(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?ks(Object(n),!0).forEach(function(o){Wp(e,o,n[o])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ks(Object(n)).forEach(function(o){Object.defineProperty(e,o,Object.getOwnPropertyDescriptor(n,o))})}return e}function Wp(e,t,n){return t=Kp(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Kp(e){var t=qp(e,"string");return typeof t=="symbol"?t:t+""}function qp(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var o=n.call(e,t);if(typeof o!="object")return o;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function pi(e){return e&&e.map((t,n)=>K.createElement(t.tag,vn({key:n},t.attr),pi(t.child)))}function F(e){return t=>K.createElement(Yp,bn({attr:vn({},e.attr)},t),pi(e.child))}function Yp(e){var t=n=>{var{attr:o,size:r,title:s}=e,a=Zp(e,Gp),i=r||n.size||"1em",l;return n.className&&(l=n.className),e.className&&(l=(l?l+" ":"")+e.className),K.createElement("svg",bn({stroke:"currentColor",fill:"currentColor",strokeWidth:"0"},n.attr,o,a,{className:l,style:vn(vn({color:e.color||n.color},n.style),e.style),height:i,width:i,xmlns:"http://www.w3.org/2000/svg"}),s&&K.createElement("title",null,s),e.children)};return ws!==void 0?K.createElement(ws.Consumer,null,n=>t(n)):t(fi)}function Xp(e){return F({attr:{viewBox:"0 0 24 24",fill:"currentColor"},child:[{tag:"path",attr:{d:"M8 7V11L2 6L8 1V5H13C17.4183 5 21 8.58172 21 13C21 17.4183 17.4183 21 13 21H4V19H13C16.3137 19 19 16.3137 19 13C19 9.68629 16.3137 7 13 7H8Z"},child:[]}]})(e)}function mi(e){return F({attr:{viewBox:"0 0 24 24",fill:"currentColor"},child:[{tag:"path",attr:{d:"M7.29117 20.8242L2 22L3.17581 16.7088C2.42544 15.3056 2 13.7025 2 12C2 6.47715 6.47715 2 12 2C17.5228 2 22 6.47715 22 12C22 17.5228 17.5228 22 12 22C10.2975 22 8.6944 21.5746 7.29117 20.8242ZM7.58075 18.711L8.23428 19.0605C9.38248 19.6745 10.6655 20 12 20C16.4183 20 20 16.4183 20 12C20 7.58172 16.4183 4 12 4C7.58172 4 4 7.58172 4 12C4 13.3345 4.32549 14.6175 4.93949 15.7657L5.28896 16.4192L4.63416 19.3658L7.58075 18.711Z"},child:[]}]})(e)}function Qp(e){return F({attr:{viewBox:"0 0 24 24",fill:"currentColor"},child:[{tag:"path",attr:{d:"M7.24264 17.9967H3V13.754L14.435 2.319C14.8256 1.92848 15.4587 1.92848 15.8492 2.319L18.6777 5.14743C19.0682 5.53795 19.0682 6.17112 18.6777 6.56164L7.24264 17.9967ZM3 19.9967H21V21.9967H3V19.9967Z"},child:[]}]})(e)}function Jp(e){return F({attr:{viewBox:"0 0 24 24",fill:"currentColor"},child:[{tag:"path",attr:{d:"M23 12L15.9289 19.0711L14.5147 17.6569L20.1716 12L14.5147 6.34317L15.9289 4.92896L23 12ZM3.82843 12L9.48528 17.6569L8.07107 19.0711L1 12L8.07107 4.92896L9.48528 6.34317L3.82843 12Z"},child:[]}]})(e)}function rr(e){return F({attr:{viewBox:"0 0 24 24",fill:"currentColor"},child:[{tag:"path",attr:{d:"M3 8L9.00319 2H19.9978C20.5513 2 21 2.45531 21 2.9918V21.0082C21 21.556 20.5551 22 20.0066 22H3.9934C3.44476 22 3 21.5501 3 20.9932V8ZM10 4V9H5V20H19V4H10Z"},child:[]}]})(e)}function em(e){return F({attr:{viewBox:"0 0 24 24",fill:"currentColor"},child:[{tag:"path",attr:{d:"M3 4H21V6H3V4ZM5 19H19V21H5V19ZM3 14H21V16H3V14ZM5 9H19V11H5V9Z"},child:[]}]})(e)}function tm(e){return F({attr:{viewBox:"0 0 24 24",fill:"currentColor"},child:[{tag:"path",attr:{d:"M3 4H21V6H3V4ZM3 19H21V21H3V19ZM3 14H21V16H3V14ZM3 9H21V11H3V9Z"},child:[]}]})(e)}function nm(e){return F({attr:{viewBox:"0 0 24 24",fill:"currentColor"},child:[{tag:"path",attr:{d:"M3 4H21V6H3V4ZM3 19H17V21H3V19ZM3 14H21V16H3V14ZM3 9H17V11H3V9Z"},child:[]}]})(e)}function om(e){return F({attr:{viewBox:"0 0 24 24",fill:"currentColor"},child:[{tag:"path",attr:{d:"M3 4H21V6H3V4ZM7 19H21V21H7V19ZM3 14H21V16H3V14ZM7 9H21V11H7V9Z"},child:[]}]})(e)}function rm(e){return F({attr:{viewBox:"0 0 24 24",fill:"currentColor"},child:[{tag:"path",attr:{d:"M8 11H12.5C13.8807 11 15 9.88071 15 8.5C15 7.11929 13.8807 6 12.5 6H8V11ZM18 15.5C18 17.9853 15.9853 20 13.5 20H6V4H12.5C14.9853 4 17 6.01472 17 8.5C17 9.70431 16.5269 10.7981 15.7564 11.6058C17.0979 12.3847 18 13.837 18 15.5ZM8 13V18H13.5C14.8807 18 16 16.8807 16 15.5C16 14.1193 14.8807 13 13.5 13H8Z"},child:[]}]})(e)}function sm(e){return F({attr:{viewBox:"0 0 24 24",fill:"currentColor"},child:[{tag:"path",attr:{d:"M3.41436 5.99995L5.70726 3.70706L4.29304 2.29285L0.585938 5.99995L4.29304 9.70706L5.70726 8.29285L3.41436 5.99995ZM9.58594 5.99995L7.29304 3.70706L8.70726 2.29285L12.4144 5.99995L8.70726 9.70706L7.29304 8.29285L9.58594 5.99995ZM14.0002 2.99995H21.0002C21.5524 2.99995 22.0002 3.44767 22.0002 3.99995V20C22.0002 20.5522 21.5524 21 21.0002 21H3.00015C2.44787 21 2.00015 20.5522 2.00015 20V12H4.00015V19H20.0002V4.99995H14.0002V2.99995Z"},child:[]}]})(e)}function Ss(e){return F({attr:{viewBox:"0 0 24 24",fill:"currentColor"},child:[{tag:"path",attr:{d:"M5.55397 22H3.3999L10.9999 3H12.9999L20.5999 22H18.4458L16.0458 16H7.95397L5.55397 22ZM8.75397 14H15.2458L11.9999 5.88517L8.75397 14Z"},child:[]}]})(e)}function hi(e){return F({attr:{viewBox:"0 0 24 24",fill:"currentColor"},child:[{tag:"path",attr:{d:"M13 20H11V13H4V20H2V4H4V11H11V4H13V20ZM21.0005 8V20H19.0005L19 10.204L17 10.74V8.67L19.5005 8H21.0005Z"},child:[]}]})(e)}function gi(e){return F({attr:{viewBox:"0 0 24 24",fill:"currentColor"},child:[{tag:"path",attr:{d:"M4 4V11H11V4H13V20H11V13H4V20H2V4H4ZM18.5 8C20.5711 8 22.25 9.67893 22.25 11.75C22.25 12.6074 21.9623 13.3976 21.4781 14.0292L21.3302 14.2102L18.0343 18H22V20H15L14.9993 18.444L19.8207 12.8981C20.0881 12.5908 20.25 12.1893 20.25 11.75C20.25 10.7835 19.4665 10 18.5 10C17.5818 10 16.8288 10.7071 16.7558 11.6065L16.75 11.75H14.75C14.75 9.67893 16.4289 8 18.5 8Z"},child:[]}]})(e)}function bi(e){return F({attr:{viewBox:"0 0 24 24",fill:"currentColor"},child:[{tag:"path",attr:{d:"M22 8L21.9984 10L19.4934 12.883C21.0823 13.3184 22.25 14.7728 22.25 16.5C22.25 18.5711 20.5711 20.25 18.5 20.25C16.674 20.25 15.1528 18.9449 14.8184 17.2166L16.7821 16.8352C16.9384 17.6413 17.6481 18.25 18.5 18.25C19.4665 18.25 20.25 17.4665 20.25 16.5C20.25 15.5335 19.4665 14.75 18.5 14.75C18.214 14.75 17.944 14.8186 17.7056 14.9403L16.3992 13.3932L19.3484 10H15V8H22ZM4 4V11H11V4H13V20H11V13H4V20H2V4H4Z"},child:[]}]})(e)}function am(e){return F({attr:{viewBox:"0 0 24 24",fill:"currentColor"},child:[{tag:"path",attr:{d:"M3 4H21V6H3V4ZM3 19H21V21H3V19ZM11 14H21V16H11V14ZM11 9H21V11H11V9ZM3 12.5L7 9V16L3 12.5Z"},child:[]}]})(e)}function im(e){return F({attr:{viewBox:"0 0 24 24",fill:"currentColor"},child:[{tag:"path",attr:{d:"M3 4H21V6H3V4ZM3 19H21V21H3V19ZM11 14H21V16H11V14ZM11 9H21V11H11V9ZM7 12.5L3 16V9L7 12.5Z"},child:[]}]})(e)}function js(e){return F({attr:{viewBox:"0 0 24 24",fill:"currentColor"},child:[{tag:"path",attr:{d:"M8 5H11V19H8V21H16V19H13V5H16V3H8V5ZM2 7C1.44772 7 1 7.44772 1 8V16C1 16.5523 1.44772 17 2 17H8V15H3V9H8V7H2ZM16 9H21V15H16V17H22C22.5523 17 23 16.5523 23 16V8C23 7.44772 22.5523 7 22 7H16V9Z"},child:[]}]})(e)}function lm(e){return F({attr:{viewBox:"0 0 24 24",fill:"currentColor"},child:[{tag:"path",attr:{d:"M15 20H7V18H9.92661L12.0425 6H9V4H17V6H14.0734L11.9575 18H15V20Z"},child:[]}]})(e)}function cm(e){return F({attr:{viewBox:"0 0 24 24",fill:"currentColor"},child:[{tag:"path",attr:{d:"M17 17H22V19H19V22H17V17ZM7 7H2V5H5V2H7V7ZM18.364 15.5355L16.9497 14.1213L18.364 12.7071C20.3166 10.7545 20.3166 7.58866 18.364 5.63604C16.4113 3.68342 13.2455 3.68342 11.2929 5.63604L9.87868 7.05025L8.46447 5.63604L9.87868 4.22183C12.6123 1.48816 17.0445 1.48816 19.7782 4.22183C22.5118 6.9555 22.5118 11.3877 19.7782 14.1213L18.364 15.5355ZM15.5355 18.364L14.1213 19.7782C11.3877 22.5118 6.9555 22.5118 4.22183 19.7782C1.48816 17.0445 1.48816 12.6123 4.22183 9.87868L5.63604 8.46447L7.05025 9.87868L5.63604 11.2929C3.68342 13.2455 3.68342 16.4113 5.63604 18.364C7.58866 20.3166 10.7545 20.3166 12.7071 18.364L14.1213 16.9497L15.5355 18.364ZM14.8284 7.75736L16.2426 9.17157L9.17157 16.2426L7.75736 14.8284L14.8284 7.75736Z"},child:[]}]})(e)}function vi(e){return F({attr:{viewBox:"0 0 24 24",fill:"currentColor"},child:[{tag:"path",attr:{d:"M18.3638 15.5355L16.9496 14.1213L18.3638 12.7071C20.3164 10.7545 20.3164 7.58866 18.3638 5.63604C16.4112 3.68341 13.2453 3.68341 11.2927 5.63604L9.87849 7.05025L8.46428 5.63604L9.87849 4.22182C12.6122 1.48815 17.0443 1.48815 19.778 4.22182C22.5117 6.95549 22.5117 11.3876 19.778 14.1213L18.3638 15.5355ZM15.5353 18.364L14.1211 19.7782C11.3875 22.5118 6.95531 22.5118 4.22164 19.7782C1.48797 17.0445 1.48797 12.6123 4.22164 9.87868L5.63585 8.46446L7.05007 9.87868L5.63585 11.2929C3.68323 13.2455 3.68323 16.4113 5.63585 18.364C7.58847 20.3166 10.7543 20.3166 12.7069 18.364L14.1211 16.9497L15.5353 18.364ZM14.8282 7.75736L16.2425 9.17157L9.17139 16.2426L7.75717 14.8284L14.8282 7.75736Z"},child:[]}]})(e)}function yi(e){return F({attr:{viewBox:"0 0 24 24",fill:"currentColor"},child:[{tag:"path",attr:{d:"M8.00008 6V9H5.00008V6H8.00008ZM3.00008 4V11H10.0001V4H3.00008ZM13.0001 4H21.0001V6H13.0001V4ZM13.0001 11H21.0001V13H13.0001V11ZM13.0001 18H21.0001V20H13.0001V18ZM10.7072 16.2071L9.29297 14.7929L6.00008 18.0858L4.20718 16.2929L2.79297 17.7071L6.00008 20.9142L10.7072 16.2071Z"},child:[]}]})(e)}function xi(e){return F({attr:{viewBox:"0 0 24 24",fill:"currentColor"},child:[{tag:"path",attr:{d:"M8 4H21V6H8V4ZM5 3V6H6V7H3V6H4V4H3V3H5ZM3 14V11.5H5V11H3V10H6V12.5H4V13H6V14H3ZM5 19.5H3V18.5H5V18H3V17H6V21H3V20H5V19.5ZM8 11H21V13H8V11ZM8 18H21V20H8V18Z"},child:[]}]})(e)}function Ci(e){return F({attr:{viewBox:"0 0 24 24",fill:"currentColor"},child:[{tag:"path",attr:{d:"M8 4H21V6H8V4ZM4.5 6.5C3.67157 6.5 3 5.82843 3 5C3 4.17157 3.67157 3.5 4.5 3.5C5.32843 3.5 6 4.17157 6 5C6 5.82843 5.32843 6.5 4.5 6.5ZM4.5 13.5C3.67157 13.5 3 12.8284 3 12C3 11.1716 3.67157 10.5 4.5 10.5C5.32843 10.5 6 11.1716 6 12C6 12.8284 5.32843 13.5 4.5 13.5ZM4.5 20.4C3.67157 20.4 3 19.7284 3 18.9C3 18.0716 3.67157 17.4 4.5 17.4C5.32843 17.4 6 18.0716 6 18.9C6 19.7284 5.32843 20.4 4.5 20.4ZM8 11H21V13H8V11ZM8 18H21V20H8V18Z"},child:[]}]})(e)}function dm(e){return F({attr:{viewBox:"0 0 24 24",fill:"currentColor"},child:[{tag:"path",attr:{d:"M20 3C20.5523 3 21 3.44772 21 4V20C21 20.5523 20.5523 21 20 21H4C3.44772 21 3 20.5523 3 20V4C3 3.44772 3.44772 3 4 3H20ZM11 5H5V10.999H7V9L10 12L7 15V13H5V19H11V17H13V19H19V13H17V15L14 12L17 9V10.999H19V5H13V7H11V5ZM13 13V15H11V13H13ZM13 9V11H11V9H13Z"},child:[]}]})(e)}function um(e){return F({attr:{viewBox:"0 0 24 24",fill:"currentColor"},child:[{tag:"path",attr:{d:"M21 20C21 20.5523 20.5523 21 20 21H4C3.44772 21 3 20.5523 3 20V4C3 3.44772 3.44772 3 4 3H20C20.5523 3 21 3.44772 21 4V20ZM19 11V5H13.001V7H15L12 10L9 7H11V5H5V11H7V13H5V19H11V17H9L12 14L15 17H13.001V19H19V13H17V11H19ZM11 13H9V11H11V13ZM15 13H13V11H15V13Z"},child:[]}]})(e)}function wi(e){return F({attr:{viewBox:"0 0 24 24",fill:"currentColor"},child:[{tag:"path",attr:{d:"M21 4H3V6H21V4ZM21 11H8V13H21V11ZM21 18H8V20H21V18ZM5 11H3V20H5V11Z"},child:[]}]})(e)}function fm(e){return F({attr:{viewBox:"0 0 24 24",fill:"currentColor"},child:[{tag:"path",attr:{d:"M17.1538 14C17.3846 14.5161 17.5 15.0893 17.5 15.7196C17.5 17.0625 16.9762 18.1116 15.9286 18.867C14.8809 19.6223 13.4335 20 11.5862 20C9.94674 20 8.32335 19.6185 6.71592 18.8555V16.6009C8.23538 17.4783 9.7908 17.917 11.3822 17.917C13.9333 17.917 15.2128 17.1846 15.2208 15.7196C15.2208 15.0939 15.0049 14.5598 14.5731 14.1173C14.5339 14.0772 14.4939 14.0381 14.4531 14H3V12H21V14H17.1538ZM13.076 11H7.62908C7.4566 10.8433 7.29616 10.6692 7.14776 10.4778C6.71592 9.92084 6.5 9.24559 6.5 8.45207C6.5 7.21602 6.96583 6.165 7.89749 5.299C8.82916 4.43299 10.2706 4 12.2219 4C13.6934 4 15.1009 4.32808 16.4444 4.98426V7.13591C15.2448 6.44921 13.9293 6.10587 12.4978 6.10587C10.0187 6.10587 8.77917 6.88793 8.77917 8.45207C8.77917 8.87172 8.99709 9.23796 9.43293 9.55079C9.86878 9.86362 10.4066 10.1135 11.0463 10.3004C11.6665 10.4816 12.3431 10.7148 13.076 11H13.076Z"},child:[]}]})(e)}function pm(e){return F({attr:{viewBox:"0 0 24 24",fill:"currentColor"},child:[{tag:"path",attr:{d:"M13 10V14H19V10H13ZM11 10H5V14H11V10ZM13 19H19V16H13V19ZM11 19V16H5V19H11ZM13 5V8H19V5H13ZM11 5H5V8H11V5ZM4 3H20C20.5523 3 21 3.44772 21 4V20C21 20.5523 20.5523 21 20 21H4C3.44772 21 3 20.5523 3 20V4C3 3.44772 3.44772 3 4 3Z"},child:[]}]})(e)}function sr(e){return F({attr:{viewBox:"0 0 24 24",fill:"currentColor"},child:[{tag:"path",attr:{d:"M13 6V21H11V6H5V4H19V6H13Z"},child:[]}]})(e)}function mm(e){return F({attr:{viewBox:"0 0 24 24",fill:"currentColor"},child:[{tag:"path",attr:{d:"M8 3V12C8 14.2091 9.79086 16 12 16C14.2091 16 16 14.2091 16 12V3H18V12C18 15.3137 15.3137 18 12 18C8.68629 18 6 15.3137 6 12V3H8ZM4 20H20V22H4V20Z"},child:[]}]})(e)}function hm(e){return F({attr:{viewBox:"0 0 24 24",fill:"currentColor"},child:[{tag:"path",attr:{d:"M2 3.9934C2 3.44476 2.45531 3 2.9918 3H21.0082C21.556 3 22 3.44495 22 3.9934V20.0066C22 20.5552 21.5447 21 21.0082 21H2.9918C2.44405 21 2 20.5551 2 20.0066V3.9934ZM8 5V19H16V5H8ZM4 5V7H6V5H4ZM18 5V7H20V5H18ZM4 9V11H6V9H4ZM18 9V11H20V9H18ZM4 13V15H6V13H4ZM18 13V15H20V13H18ZM4 17V19H6V17H4ZM18 17V19H20V17H18Z"},child:[]}]})(e)}function ki(e){return F({attr:{viewBox:"0 0 24 24",fill:"currentColor"},child:[{tag:"path",attr:{d:"M5 11.1005L7 9.1005L12.5 14.6005L16 11.1005L19 14.1005V5H5V11.1005ZM4 3H20C20.5523 3 21 3.44772 21 4V20C21 20.5523 20.5523 21 20 21H4C3.44772 21 3 20.5523 3 20V4C3 3.44772 3.44772 3 4 3ZM15.5 10C14.6716 10 14 9.32843 14 8.5C14 7.67157 14.6716 7 15.5 7C16.3284 7 17 7.67157 17 8.5C17 9.32843 16.3284 10 15.5 10Z"},child:[]}]})(e)}function gm(e){return F({attr:{viewBox:"0 0 24 24",fill:"currentColor"},child:[{tag:"path",attr:{d:"M21 15V18H24V20H21V23H19V20H16V18H19V15H21ZM21.0082 3C21.556 3 22 3.44495 22 3.9934L22.0007 13.3417C21.3749 13.1204 20.7015 13 20 13V5H4L4.001 19L13.2929 9.70715C13.6528 9.34604 14.22 9.31823 14.6123 9.62322L14.7065 9.70772L18.2521 13.2586C15.791 14.0069 14 16.2943 14 19C14 19.7015 14.1204 20.3749 14.3417 21.0007L2.9918 21C2.44405 21 2 20.5551 2 20.0066V3.9934C2 3.44476 2.45531 3 2.9918 3H21.0082ZM8 7C9.10457 7 10 7.89543 10 9C10 10.1046 9.10457 11 8 11C6.89543 11 6 10.1046 6 9C6 7.89543 6.89543 7 8 7Z"},child:[]}]})(e)}function bm(e){return F({attr:{viewBox:"0 0 24 24",fill:"currentColor"},child:[{tag:"path",attr:{d:"M20 3C20.5523 3 21 3.44772 21 4V5.757L19 7.757V5H5V13.1L9 9.1005L13.328 13.429L12.0012 14.7562L11.995 18.995L16.2414 19.0012L17.571 17.671L18.8995 19H19V16.242L21 14.242V20C21 20.5523 20.5523 21 20 21H4C3.44772 21 3 20.5523 3 20V4C3 3.44772 3.44772 3 4 3H20ZM21.7782 7.80761L23.1924 9.22183L15.4142 17L13.9979 16.9979L14 15.5858L21.7782 7.80761ZM15.5 7C16.3284 7 17 7.67157 17 8.5C17 9.32843 16.3284 10 15.5 10C14.6716 10 14 9.32843 14 8.5C14 7.67157 14.6716 7 15.5 7Z"},child:[]}]})(e)}function vm(e){return F({attr:{viewBox:"0 0 24 24",fill:"currentColor"},child:[{tag:"path",attr:{d:"M3 3.9934C3 3.44476 3.44495 3 3.9934 3H20.0066C20.5552 3 21 3.44495 21 3.9934V20.0066C21 20.5552 20.5551 21 20.0066 21H3.9934C3.44476 21 3 20.5551 3 20.0066V3.9934ZM10.6219 8.41459C10.5562 8.37078 10.479 8.34741 10.4 8.34741C10.1791 8.34741 10 8.52649 10 8.74741V15.2526C10 15.3316 10.0234 15.4088 10.0672 15.4745C10.1897 15.6583 10.4381 15.708 10.6219 15.5854L15.5008 12.3328C15.5447 12.3035 15.5824 12.2658 15.6117 12.2219C15.7343 12.0381 15.6846 11.7897 15.5008 11.6672L10.6219 8.41459Z"},child:[]}]})(e)}function Si(e){return F({attr:{viewBox:"0 0 24 24",fill:"currentColor"},child:[{tag:"path",attr:{d:"M2 16.0001H5.88889L11.1834 20.3319C11.2727 20.405 11.3846 20.4449 11.5 20.4449C11.7761 20.4449 12 20.2211 12 19.9449V4.05519C12 3.93977 11.9601 3.8279 11.887 3.73857C11.7121 3.52485 11.3971 3.49335 11.1834 3.66821L5.88889 8.00007H2C1.44772 8.00007 1 8.44778 1 9.00007V15.0001C1 15.5524 1.44772 16.0001 2 16.0001ZM23 12C23 15.292 21.5539 18.2463 19.2622 20.2622L17.8445 18.8444C19.7758 17.1937 21 14.7398 21 12C21 9.26016 19.7758 6.80629 17.8445 5.15557L19.2622 3.73779C21.5539 5.75368 23 8.70795 23 12ZM18 12C18 10.0883 17.106 8.38548 15.7133 7.28673L14.2842 8.71584C15.3213 9.43855 16 10.64 16 12C16 13.36 15.3213 14.5614 14.2842 15.2841L15.7133 16.7132C17.106 15.6145 18 13.9116 18 12Z"},child:[]}]})(e)}function ym(e){return F({attr:{viewBox:"0 0 24 24",fill:"currentColor"},child:[{tag:"path",attr:{d:"M11 11V5H13V11H19V13H13V19H11V13H5V11H11Z"},child:[]}]})(e)}function xm(e){return F({attr:{viewBox:"0 0 24 24",fill:"currentColor"},child:[{tag:"path",attr:{d:"M9.9997 15.1709L19.1921 5.97852L20.6063 7.39273L9.9997 17.9993L3.63574 11.6354L5.04996 10.2212L9.9997 15.1709Z"},child:[]}]})(e)}function Cm(e){return F({attr:{viewBox:"0 0 24 24",fill:"currentColor"},child:[{tag:"path",attr:{d:"M17 6H22V8H20V21C20 21.5523 19.5523 22 19 22H5C4.44772 22 4 21.5523 4 21V8H2V6H7V3C7 2.44772 7.44772 2 8 2H16C16.5523 2 17 2.44772 17 3V6ZM18 8H6V20H18V8ZM9 4V6H15V4H9Z"},child:[]}]})(e)}function wm(e){return F({attr:{viewBox:"0 0 24 24",fill:"currentColor"},child:[{tag:"path",attr:{d:"M17 6H22V8H20V21C20 21.5523 19.5523 22 19 22H5C4.44772 22 4 21.5523 4 21V8H2V6H7V3C7 2.44772 7.44772 2 8 2H16C16.5523 2 17 2.44772 17 3V6ZM9 11V17H11V11H9ZM13 11V17H15V11H13ZM9 4V6H15V4H9Z"},child:[]}]})(e)}function km(e){return F({attr:{viewBox:"0 0 24 24",fill:"currentColor"},child:[{tag:"path",attr:{d:"M4 19H20V12H22V20C22 20.5523 21.5523 21 21 21H3C2.44772 21 2 20.5523 2 20V12H4V19ZM14 9H19L12 16L5 9H10V3H14V9Z"},child:[]}]})(e)}function Sm(e){return F({attr:{viewBox:"0 0 24 24",fill:"currentColor"},child:[{tag:"path",attr:{d:"M10 6V8H5V19H16V14H18V20C18 20.5523 17.5523 21 17 21H4C3.44772 21 3 20.5523 3 20V7C3 6.44772 3.44772 6 4 6H10ZM21 3V12L17.206 8.207L11.2071 14.2071L9.79289 12.7929L15.792 6.793L12 3H21Z"},child:[]}]})(e)}function jm(e){return F({attr:{viewBox:"0 0 24 24",fill:"currentColor"},child:[{tag:"path",attr:{d:"M5 10C3.9 10 3 10.9 3 12C3 13.1 3.9 14 5 14C6.1 14 7 13.1 7 12C7 10.9 6.1 10 5 10ZM19 10C17.9 10 17 10.9 17 12C17 13.1 17.9 14 19 14C20.1 14 21 13.1 21 12C21 10.9 20.1 10 19 10ZM12 10C10.9 10 10 10.9 10 12C10 13.1 10.9 14 12 14C13.1 14 14 13.1 14 12C14 10.9 13.1 10 12 10Z"},child:[]}]})(e)}function Mm(e){return F({attr:{viewBox:"0 0 24 24",fill:"currentColor"},child:[{tag:"path",attr:{d:"M12 22C6.47715 22 2 17.5228 2 12C2 6.47715 6.47715 2 12 2C17.5228 2 22 6.47715 22 12C22 17.5228 17.5228 22 12 22ZM8 13C8 15.2091 9.79086 17 12 17C14.2091 17 16 15.2091 16 13H8ZM8 11C8.82843 11 9.5 10.3284 9.5 9.5C9.5 8.67157 8.82843 8 8 8C7.17157 8 6.5 8.67157 6.5 9.5C6.5 10.3284 7.17157 11 8 11ZM16 11C16.8284 11 17.5 10.3284 17.5 9.5C17.5 8.67157 16.8284 8 16 8C15.1716 8 14.5 8.67157 14.5 9.5C14.5 10.3284 15.1716 11 16 11Z"},child:[]}]})(e)}function Ms(e){return F({attr:{viewBox:"0 0 24 24",fill:"currentColor"},child:[{tag:"path",attr:{d:"M12 22C6.47715 22 2 17.5228 2 12C2 6.47715 6.47715 2 12 2C17.5228 2 22 6.47715 22 12C22 17.5228 17.5228 22 12 22ZM12 20C16.4183 20 20 16.4183 20 12C20 7.58172 16.4183 4 12 4C7.58172 4 4 7.58172 4 12C4 16.4183 7.58172 20 12 20ZM8 13H16C16 15.2091 14.2091 17 12 17C9.79086 17 8 15.2091 8 13ZM8 11C7.17157 11 6.5 10.3284 6.5 9.5C6.5 8.67157 7.17157 8 8 8C8.82843 8 9.5 8.67157 9.5 9.5C9.5 10.3284 8.82843 11 8 11ZM16 11C15.1716 11 14.5 10.3284 14.5 9.5C14.5 8.67157 15.1716 8 16 8C16.8284 8 17.5 8.67157 17.5 9.5C17.5 10.3284 16.8284 11 16 11Z"},child:[]}]})(e)}let po;async function Em(){return po||(po=(async()=>{const[e,t]=await Promise.all([Jr(()=>import("./module.BvCTiNll.js"),[]),Jr(()=>import("./native.48B9X9Wg.js"),[])]),n="default"in e?e.default:e,o="default"in t?t.default:t;return await n.init({data:o}),{emojiMart:n,emojiData:o}})(),po)}function Tm(e){const t=u.useRef(null),n=u.useRef(null);return n.current&&n.current.update(e),u.useEffect(()=>((async()=>{const{emojiMart:o}=await Em();n.current=new o.Picker({...e,ref:t})})(),()=>{n.current=null}),[]),K.createElement("div",{ref:t})}const Es=e=>{const[t,n]=u.useState(!1),o=A(),r=Ne();return c.jsxs(o.Generic.Popover.Root,{opened:t,children:[c.jsx(o.Generic.Popover.Trigger,{children:c.jsx("div",{onClick:s=>{s.preventDefault(),s.stopPropagation(),n(!t)},style:{display:"flex",justifyContent:"center",alignItems:"center"},children:e.children})}),c.jsx(o.Generic.Popover.Content,{variant:"panel-popover",children:c.jsx(Tm,{perLine:7,onClickOutside:()=>n(!1),onEmojiSelect:s=>{e.onEmojiSelect(s),n(!1)},theme:r==null?void 0:r.colorSchemePreference})})]})};function Rm(e,t){return ar(e,[t]).get(t)}function ar(e,t){const n=e.comments;if(!n)throw new Error("Comments plugin not found");const o=n.userStore,r=u.useCallback(()=>{const i=new Map;for(const l of t){const d=o.getUser(l);d&&i.set(l,d)}return i},[o,t]),s=u.useMemo(()=>({current:r()}),[r]),a=u.useCallback(i=>{const l=o.subscribe(d=>{s.current=r(),i()});return o.loadUsers(t),l},[o,r,t,s]);return u.useSyncExternalStore(a,()=>s.current)}const $m=e=>{const t=A(),n=Z(),o=O();if(!o.comments)throw new Error("ReactionBadge must be used inside a BlockNote editor with comments enabled");const r=e.comment.reactions.find(l=>l.emoji===e.emoji);if(!r)throw new Error("Trying to render reaction badge for non-existing reaction");const[s,a]=u.useState([]),i=ar(o,s);return c.jsx(t.Generic.Badge.Root,{className:ie("bn-badge","bn-comment-reaction"),text:r.userIds.length.toString(),icon:r.emoji,isSelected:o.comments.threadStore.auth.canDeleteReaction(e.comment,r.emoji),onClick:()=>e.onReactionSelect(r.emoji),onMouseEnter:()=>a(r.userIds),mainTooltip:n.comments.reactions.reacted_by,secondaryTooltip:`${Array.from(i.values()).map(l=>l.username).join(`
`)}`},r.emoji)},Im=({comment:e,thread:t,showResolveButton:n})=>{const o=Z(),r=In({initialContent:e.body,trailingBlock:!1,dictionary:{...o,placeholders:{emptyDocument:o.placeholders.edit_comment}},schema:or,sideMenuDetection:"editor"},[e.body]),s=A(),[a,i]=u.useState(!1),l=O();if(!l.comments)throw new Error("Comments plugin not found");const d=l.comments.threadStore,f=u.useCallback(()=>{i(!0)},[]),p=u.useCallback(()=>{r.replaceBlocks(r.document,e.body),i(!1)},[r,e.body]),m=u.useCallback(async M=>{await d.updateComment({commentId:e.id,comment:{body:r.document},threadId:t.id}),i(!1)},[e,t.id,r,d]),h=u.useCallback(async()=>{await d.deleteComment({commentId:e.id,threadId:t.id})},[e,t.id,d]),g=u.useCallback(async M=>{d.auth.canAddReaction(e,M)?await d.addReaction({threadId:t.id,commentId:e.id,emoji:M}):d.auth.canDeleteReaction(e,M)&&await d.deleteReaction({threadId:t.id,commentId:e.id,emoji:M})},[d,e,t.id]),b=u.useCallback(async()=>{await d.resolveThread({threadId:t.id})},[t.id,d]),v=u.useCallback(async()=>{await d.unresolveThread({threadId:t.id})},[t.id,d]),y=Rm(l,e.userId);if(!e.body)return null;let C;const x=d.auth.canAddReaction(e),w=d.auth.canDeleteComment(e),E=d.auth.canUpdateComment(e),k=n&&(t.resolved?d.auth.canUnresolveThread(t):d.auth.canResolveThread(t));a||(C=c.jsxs(s.Generic.Toolbar.Root,{className:ie("bn-action-toolbar","bn-comment-actions"),variant:"action-toolbar",children:[x&&c.jsx(Es,{onEmojiSelect:M=>g(M.native),children:c.jsx(s.Generic.Toolbar.Button,{mainTooltip:o.comments.actions.add_reaction,variant:"compact",children:c.jsx(Ms,{size:16})},"add-reaction")}),k&&(t.resolved?c.jsx(s.Generic.Toolbar.Button,{mainTooltip:"Re-open",variant:"compact",onClick:v,children:c.jsx(Xp,{size:16})},"reopen"):c.jsx(s.Generic.Toolbar.Button,{mainTooltip:o.comments.actions.resolve,variant:"compact",onClick:b,children:c.jsx(xm,{size:16})},"resolve")),(w||E)&&c.jsxs(s.Generic.Menu.Root,{position:"bottom-start",children:[c.jsx(s.Generic.Menu.Trigger,{children:c.jsx(s.Generic.Toolbar.Button,{mainTooltip:o.comments.actions.more_actions,variant:"compact",children:c.jsx(jm,{size:16})},"more-actions")}),c.jsxs(s.Generic.Menu.Dropdown,{className:"bn-menu-dropdown",children:[E&&c.jsx(s.Generic.Menu.Item,{icon:c.jsx(Qp,{}),onClick:f,children:o.comments.actions.edit_comment},"edit-comment"),w&&c.jsx(s.Generic.Menu.Item,{icon:c.jsx(wm,{}),onClick:h,children:o.comments.actions.delete_comment},"delete-comment")]})]})]}));const T=e.createdAt.toLocaleDateString(void 0,{month:"short",day:"numeric"});if(!e.body)throw new Error("soft deletes are not yet supported");return c.jsx(s.Comments.Comment,{authorInfo:y??"loading",timeString:T,edited:e.updatedAt.getTime()!==e.createdAt.getTime(),showActions:"hover",actions:C,className:"bn-thread-comment",children:c.jsx(nr,{autoFocus:a,editor:r,editable:a,actions:e.reactions.length>0||a?({isEmpty:M})=>c.jsxs(c.Fragment,{children:[e.reactions.length>0&&!a&&c.jsxs(s.Generic.Badge.Group,{className:ie("bn-badge-group","bn-comment-reactions"),children:[e.reactions.map(N=>c.jsx($m,{comment:e,emoji:N.emoji,onReactionSelect:g},N.emoji)),c.jsx(Es,{onEmojiSelect:N=>g(N.native),children:c.jsx(s.Generic.Badge.Root,{className:ie("bn-badge","bn-comment-add-reaction"),text:"+",icon:c.jsx(Ms,{size:16}),mainTooltip:o.comments.actions.add_reaction})})]}),a&&c.jsxs(s.Generic.Toolbar.Root,{variant:"action-toolbar",className:ie("bn-action-toolbar","bn-comment-actions"),children:[c.jsx(s.Generic.Toolbar.Button,{mainTooltip:"Save",variant:"compact",onClick:m,isDisabled:M,children:"Save"}),c.jsx(s.Generic.Toolbar.Button,{className:"bn-button",mainTooltip:"Cancel",variant:"compact",onClick:p,children:"Cancel"})]})]}):void 0})})},Pm=({thread:e,maxCommentsBeforeCollapse:t})=>{const n=A(),o=Z(),r=O(),s=ar(r,e.resolvedBy?[e.resolvedBy]:[]),a=e.comments.map((i,l)=>c.jsx(Im,{thread:e,comment:i,showResolveButton:l===0},i.id));if(e.resolved&&e.resolvedUpdatedAt&&e.resolvedBy){if(!s.get(e.resolvedBy))throw new Error(`User ${e.resolvedBy} resolved thread ${e.id}, but their data could not be found.`);const i=e.comments.findLastIndex(l=>e.resolvedUpdatedAt.getTime()>l.createdAt.getTime())+1;a.splice(i,0,c.jsx(n.Comments.Comment,{className:"bn-thread-comment",authorInfo:e.resolvedBy&&s.get(e.resolvedBy)||"loading",timeString:e.resolvedUpdatedAt.toLocaleDateString(void 0,{month:"short",day:"numeric"}),edited:!1,showActions:!1,children:c.jsx("div",{className:"bn-resolved-text",children:o.comments.sidebar.marked_as_resolved})},"resolved-comment"))}return t&&a.length>t&&a.splice(1,a.length-2,c.jsx(n.Comments.ExpandSectionsPrompt,{className:"bn-thread-expand-prompt",children:o.comments.sidebar.more_replies(e.comments.length-2)},"expand-prompt")),a},ji=({thread:e,selected:t,referenceText:n,maxCommentsBeforeCollapse:o,onFocus:r,onBlur:s,tabIndex:a})=>{const i=A(),l=Z(),d=O().comments;if(!d)throw new Error("Comments plugin not found");const f=In({trailingBlock:!1,dictionary:{...l,placeholders:{emptyDocument:l.placeholders.comment_reply}},schema:or,sideMenuDetection:"editor"}),p=u.useCallback(async()=>{await d.threadStore.addComment({comment:{body:f.document},threadId:e.id}),f.removeBlocks(f.document)},[d,f,e.id]);return c.jsxs(i.Comments.Card,{className:"bn-thread",headerText:n,onFocus:r,onBlur:s,selected:t,tabIndex:a,children:[c.jsx(i.Comments.CardSection,{className:"bn-thread-comments",children:c.jsx(Pm,{thread:e,maxCommentsBeforeCollapse:t?void 0:o||5})}),t&&c.jsx(i.Comments.CardSection,{className:"bn-thread-composer",children:c.jsx(nr,{autoFocus:!1,editable:!0,editor:f,actions:({isEmpty:m})=>m?null:c.jsx(i.Generic.Toolbar.Root,{variant:"action-toolbar",className:ie("bn-action-toolbar","bn-comment-actions"),children:c.jsx(i.Generic.Toolbar.Button,{mainTooltip:"Save",variant:"compact",isDisabled:m,onClick:p,children:"Save"})})})})]})};function Nm(e){const t=e.comments;if(!t)throw new Error("Comments plugin not found");const n=t.threadStore,o=u.useRef();o.current||(o.current=n.getThreads());const r=u.useCallback(s=>n.subscribe(a=>{o.current=a,s()}),[n]);return u.useSyncExternalStore(r,()=>o.current)}const _m=e=>{const t=O();if(!t.comments)throw new Error("FloatingComposerController can only be used when BlockNote editor has enabled comments");const n=Oe(t.comments.onUpdate.bind(t.comments)),{isMounted:o,ref:r,style:s,getFloatingProps:a,setReference:i}=Ge(!!(n!=null&&n.selectedThreadId),null,5e3,{placement:"bottom",middleware:[Pe(10),rt(),Re()],onOpenChange:p=>{var m;p||((m=t.comments)==null||m.selectThread(void 0),t.focus())},...e.floatingOptions}),l=u.useCallback(()=>{var p;if(!(n!=null&&n.selectedThreadId))return;const m=(p=t.domElement)==null?void 0:p.querySelector(`[data-bn-thread-id="${n==null?void 0:n.selectedThreadId}"]`);m&&i(m)},[i,t,n==null?void 0:n.selectedThreadId]);u.useEffect(()=>{if(n!=null&&n.selectedThreadId)return t.onChange(()=>{l()})},[t,l,n==null?void 0:n.selectedThreadId]),u.useLayoutEffect(l,[l]);const d=Nm(t);if(!o||!n||!n.selectedThreadId)return null;const f=e.floatingThread||ji;return c.jsx("div",{ref:r,style:s,...a(),children:c.jsx(f,{thread:d.get(n.selectedThreadId),selected:!0})})},Hm=e=>{const t=A(),n=Z(),{block:o}=e,r=O(),[s,a]=u.useState(""),i=u.useCallback(f=>{a(f.currentTarget.value)},[]),l=u.useCallback(f=>{f.key==="Enter"&&(f.preventDefault(),r.updateBlock(o,{props:{name:as(s),url:s}}))},[r,o,s]),d=u.useCallback(()=>{r.updateBlock(o,{props:{name:as(s),url:s}})},[r,o,s]);return c.jsxs(t.FilePanel.TabPanel,{className:"bn-tab-panel",children:[c.jsx(t.FilePanel.TextInput,{className:"bn-text-input",placeholder:n.file_panel.embed.url_placeholder,value:s,onChange:i,onKeyDown:l,"data-test":"embed-input"}),c.jsx(t.FilePanel.Button,{className:"bn-button",onClick:d,"data-test":"embed-input-button",children:n.file_panel.embed.embed_button[o.type]||n.file_panel.embed.embed_button.file})]})},Lm=e=>{var t;const n=A(),o=Z(),{block:r,setLoading:s}=e,a=O(),[i,l]=u.useState(!1);u.useEffect(()=>{i&&setTimeout(()=>{l(!1)},3e3)},[i]);const d=u.useCallback(m=>{if(m===null)return;async function h(g){if(s(!0),a.uploadFile!==void 0)try{let b=await a.uploadFile(g,r.id);typeof b=="string"&&(b={props:{name:g.name,url:b}}),a.updateBlock(r,b)}catch{l(!0)}finally{s(!1)}}h(m)},[r,a,s]),f=a.schema.blockSchema[r.type],p=f.isFileBlock&&(t=f.fileBlockAccept)!=null&&t.length?f.fileBlockAccept.join(","):"*/*";return c.jsxs(n.FilePanel.TabPanel,{className:"bn-tab-panel",children:[c.jsx(n.FilePanel.FileInput,{className:"bn-file-input","data-test":"upload-input",accept:p,placeholder:o.file_panel.upload.file_placeholder[r.type]||o.file_panel.upload.file_placeholder.file,value:null,onChange:d}),i&&c.jsx("div",{className:"bn-error-text",children:o.file_panel.upload.upload_error})]})},Mi=e=>{const t=A(),n=Z(),o=O(),[r,s]=u.useState(!1),a=e.tabs??[...o.uploadFile!==void 0?[{name:n.file_panel.upload.title,tabPanel:c.jsx(Lm,{block:e.block,setLoading:s})}]:[],{name:n.file_panel.embed.title,tabPanel:c.jsx(Hm,{block:e.block})}],[i,l]=u.useState(e.defaultOpenTab||a[0].name);return c.jsx(t.FilePanel.Root,{className:"bn-panel",defaultOpenTab:i,openTab:i,setOpenTab:l,tabs:a,loading:r})},Am=e=>{const t=O();if(!t.filePanel)throw new Error("FileToolbarController can only be used when BlockNote editor schema contains file block");const n=Oe(t.filePanel.onUpdate.bind(t.filePanel)),{isMounted:o,ref:r,style:s,getFloatingProps:a}=Ge((n==null?void 0:n.show)||!1,(n==null?void 0:n.referencePos)||null,5e3,{placement:"bottom",middleware:[Pe(10),Re()],onOpenChange:p=>{p||(t.filePanel.closeMenu(),t.focus())},...e.floatingOptions});if(!o||!n)return null;const{show:i,referencePos:l,...d}=n,f=e.filePanel||Mi;return c.jsx("div",{ref:r,style:s,...a(),children:c.jsx(f,{...d})})};function Ze(e,t){tr(e,t),er(e,t)}function ir(e){return t=>{e.forEach(n=>{typeof n=="function"?n(t):n!=null&&(n.current=t)})}}function pe(e){const t=Ne();if(e||(e=t==null?void 0:t.editor),!e)throw new Error("'editor' is required, either from BlockNoteContext or as a function argument");const n=e,[o,r]=u.useState(()=>{var s;return((s=n.getSelection())==null?void 0:s.blocks)||[n.getTextCursorPosition().block]});return Ze(()=>{var s;return r(((s=n.getSelection())==null?void 0:s.blocks)||[n.getTextCursorPosition().block])},n),o}const Vm={bold:rm,italic:lm,underline:mm,strike:fm,code:Jp};function Om(e,t){return e in t.schema.styleSchema&&t.schema.styleSchema[e].type===e&&t.schema.styleSchema[e].propSchema==="boolean"}const on=e=>{const t=Z(),n=A(),o=O(),r=Om(e.basicTextStyle,o),s=pe(o),[a,i]=u.useState(e.basicTextStyle in o.getActiveStyles());Ze(()=>{r&&i(e.basicTextStyle in o.getActiveStyles())},o);const l=f=>{if(o.focus(),!!r){if(o.schema.styleSchema[f].propSchema!=="boolean")throw new Error("can only toggle boolean styles");o.toggleStyles({[f]:!0})}};if(!u.useMemo(()=>r?!!s.find(f=>f.content!==void 0):!1,[r,s])||!o.isEditable)return null;const d=Vm[e.basicTextStyle];return c.jsx(n.FormattingToolbar.Button,{className:"bn-button","data-test":e.basicTextStyle,onClick:()=>l(e.basicTextStyle),isSelected:a,label:t.formatting_toolbar[e.basicTextStyle].tooltip,mainTooltip:t.formatting_toolbar[e.basicTextStyle].tooltip,secondaryTooltip:Rn(t.formatting_toolbar[e.basicTextStyle].secondary_tooltip,t.generic.ctrl_shortcut),icon:c.jsx(d,{})})},Oo=e=>{const t=e.textColor||"default",n=e.backgroundColor||"default",o=e.size||16,r=u.useMemo(()=>({pointerEvents:"none",fontSize:(o*.75).toString()+"px",height:o.toString()+"px",lineHeight:o.toString()+"px",textAlign:"center",width:o.toString()+"px"}),[o]);return c.jsx("div",{className:"bn-color-icon","data-background-color":n,"data-text-color":t,style:r,children:"A"})},Ts=["default","gray","brown","red","orange","yellow","green","blue","purple","pink"],Pn=e=>{const t=A(),n=Z();return c.jsxs(c.Fragment,{children:[c.jsx(()=>e.text?c.jsxs(c.Fragment,{children:[c.jsx(t.Generic.Menu.Label,{children:n.color_picker.text_title}),Ts.map(o=>c.jsx(t.Generic.Menu.Item,{onClick:()=>{e.onClick&&e.onClick(),e.text.setColor(o)},"data-test":"text-color-"+o,icon:c.jsx(Oo,{textColor:o,size:e.iconSize}),checked:e.text.color===o,children:n.color_picker.colors[o]},"text-color-"+o))]}):null,{}),c.jsx(()=>e.background?c.jsxs(c.Fragment,{children:[c.jsx(t.Generic.Menu.Label,{children:n.color_picker.background_title}),Ts.map(o=>c.jsx(t.Generic.Menu.Item,{onClick:()=>{e.onClick&&e.onClick(),e.background.setColor(o)},"data-test":"background-color-"+o,icon:c.jsx(Oo,{backgroundColor:o,size:e.iconSize}),checked:e.background.color===o,children:n.color_picker.colors[o]},"background-color-"+o))]}):null,{})]})};function Rs(e,t){return`${e}Color`in t.schema.styleSchema&&t.schema.styleSchema[`${e}Color`].type===`${e}Color`&&t.schema.styleSchema[`${e}Color`].propSchema==="string"}const Dm=()=>{const e=A(),t=Z(),n=O(),o=Rs("text",n),r=Rs("background",n),s=pe(n),[a,i]=u.useState(o&&n.getActiveStyles().textColor||"default"),[l,d]=u.useState(r&&n.getActiveStyles().backgroundColor||"default");Ze(()=>{o&&i(n.getActiveStyles().textColor||"default"),r&&d(n.getActiveStyles().backgroundColor||"default")},n);const f=u.useCallback(m=>{if(!o)throw Error("Tried to set text color, but style does not exist in editor schema.");m==="default"?n.removeStyles({textColor:m}):n.addStyles({textColor:m}),setTimeout(()=>{n.focus()})},[n,o]),p=u.useCallback(m=>{if(!r)throw Error("Tried to set background color, but style does not exist in editor schema.");m==="default"?n.removeStyles({backgroundColor:m}):n.addStyles({backgroundColor:m}),setTimeout(()=>{n.focus()})},[r,n]);return!u.useMemo(()=>{if(!o&&!r)return!1;for(const m of s)if(m.content!==void 0)return!0;return!1},[r,s,o])||!n.isEditable?null:c.jsxs(e.Generic.Menu.Root,{children:[c.jsx(e.Generic.Menu.Trigger,{children:c.jsx(e.FormattingToolbar.Button,{className:"bn-button","data-test":"colors",label:t.formatting_toolbar.colors.tooltip,mainTooltip:t.formatting_toolbar.colors.tooltip,icon:c.jsx(Oo,{textColor:a,backgroundColor:l,size:20})})}),c.jsx(e.Generic.Menu.Dropdown,{className:"bn-menu-dropdown bn-color-picker-dropdown",children:c.jsx(Pn,{text:o?{color:a,setColor:f}:void 0,background:r?{color:l,setColor:p}:void 0})})]})},$s=e=>{for(const t of Zd)if(e.startsWith(t))return e;return`${Ud}://${e}`},Ei=e=>{const t=A(),n=Z(),{url:o,text:r,editLink:s,showTextField:a}=e,[i,l]=u.useState(o),[d,f]=u.useState(r);u.useEffect(()=>{l(o),f(r)},[r,o]);const p=u.useCallback(b=>{b.key==="Enter"&&(b.preventDefault(),s($s(i),d))},[s,i,d]),m=u.useCallback(b=>l(b.currentTarget.value),[]),h=u.useCallback(b=>f(b.currentTarget.value),[]),g=u.useCallback(()=>s($s(i),d),[s,i,d]);return c.jsxs(t.Generic.Form.Root,{children:[c.jsx(t.Generic.Form.TextInput,{className:"bn-text-input",name:"url",icon:c.jsx(vi,{}),autoFocus:!0,placeholder:n.link_toolbar.form.url_placeholder,value:i,onKeyDown:p,onChange:m,onSubmit:g}),a!==!1&&c.jsx(t.Generic.Form.TextInput,{className:"bn-text-input",name:"title",icon:c.jsx(sr,{}),placeholder:n.link_toolbar.form.title_placeholder,value:d,onKeyDown:p,onChange:h,onSubmit:g})]})};function Bm(e){return"link"in e.schema.inlineContentSchema&&e.schema.inlineContentSchema.link==="link"}const Fm=()=>{var e;const t=O(),n=A(),o=Z(),r=Bm(t),s=pe(t),[a,i]=u.useState(!1),[l,d]=u.useState(t.getSelectedLinkUrl()||""),[f,p]=u.useState(t.getSelectedText());Ze(()=>{p(t.getSelectedText()||""),d(t.getSelectedLinkUrl()||"")},t),u.useEffect(()=>{var g;const b=v=>{(v.ctrlKey||v.metaKey)&&v.key==="k"&&(i(!0),v.preventDefault())};return(g=t.prosemirrorView)==null||g.dom.addEventListener("keydown",b),()=>{var v;(v=t.prosemirrorView)==null||v.dom.removeEventListener("keydown",b)}},[(e=t.prosemirrorView)==null?void 0:e.dom]);const m=u.useCallback(g=>{t.createLink(g),t.focus()},[t]),h=t.transact(g=>Gd(g.selection));return!u.useMemo(()=>{if(!r)return!1;for(const g of s)if(g.content===void 0)return!1;return!h},[r,s,h])||!("link"in t.schema.inlineContentSchema)||!t.isEditable?null:c.jsxs(n.Generic.Popover.Root,{opened:a,children:[c.jsx(n.Generic.Popover.Trigger,{children:c.jsx(n.FormattingToolbar.Button,{className:"bn-button","data-test":"createLink",label:o.formatting_toolbar.link.tooltip,mainTooltip:o.formatting_toolbar.link.tooltip,secondaryTooltip:Rn(o.formatting_toolbar.link.secondary_tooltip,o.generic.ctrl_shortcut),icon:c.jsx(vi,{}),onClick:()=>i(!0)})}),c.jsx(n.Generic.Popover.Content,{className:"bn-popover-content bn-form-popover",variant:"form-popover",children:c.jsx(Ei,{url:l,text:f,editLink:m,showTextField:!1})})]})},zm=()=>{const e=Z(),t=A(),n=O(),[o,r]=u.useState(),s=pe(n),a=u.useMemo(()=>{if(s.length!==1)return;const d=s[0];if(Vt(d,n))return r(d.props.caption),d},[n,s]),i=u.useCallback(d=>{a&&d.key==="Enter"&&(d.preventDefault(),n.updateBlock(a,{props:{caption:o}}))},[o,n,a]),l=u.useCallback(d=>r(d.currentTarget.value),[]);return!a||Ot(a,n)||!n.isEditable?null:c.jsxs(t.Generic.Popover.Root,{children:[c.jsx(t.Generic.Popover.Trigger,{children:c.jsx(t.FormattingToolbar.Button,{className:"bn-button",label:e.formatting_toolbar.file_caption.tooltip,mainTooltip:e.formatting_toolbar.file_caption.tooltip,icon:c.jsx(js,{}),isSelected:a.props.caption!==""})}),c.jsx(t.Generic.Popover.Content,{className:"bn-popover-content bn-form-popover",variant:"form-popover",children:c.jsx(t.Generic.Form.Root,{children:c.jsx(t.Generic.Form.TextInput,{name:"file-caption",icon:c.jsx(js,{}),value:o||"",autoFocus:!0,placeholder:e.formatting_toolbar.file_caption.input_placeholder,onKeyDown:i,onChange:l})})})]})},Gm=()=>{const e=Z(),t=A(),n=O(),o=pe(n),r=u.useMemo(()=>{if(o.length!==1)return;const a=o[0];if(Vt(a,n))return a},[n,o]),s=u.useCallback(()=>{n.focus(),n.removeBlocks([r])},[n,r]);return!r||Ot(r,n)||!n.isEditable?null:c.jsx(t.FormattingToolbar.Button,{className:"bn-button",label:e.formatting_toolbar.file_delete.tooltip[r.type]||e.formatting_toolbar.file_delete.tooltip.file,mainTooltip:e.formatting_toolbar.file_delete.tooltip[r.type]||e.formatting_toolbar.file_delete.tooltip.file,icon:c.jsx(Cm,{}),onClick:s})},Zm=()=>{const e=Z(),t=A(),n=O(),[o,r]=u.useState(),s=pe(n),a=u.useMemo(()=>{if(s.length!==1)return;const d=s[0];if(Vt(d,n))return r(d.props.name),d},[n,s]),i=u.useCallback(d=>{a&&d.key==="Enter"&&(d.preventDefault(),n.updateBlock(a,{props:{name:o}}))},[o,n,a]),l=u.useCallback(d=>r(d.currentTarget.value),[]);return!a||Ot(a,n)||!n.isEditable?null:c.jsxs(t.Generic.Popover.Root,{children:[c.jsx(t.Generic.Popover.Trigger,{children:c.jsx(t.FormattingToolbar.Button,{className:"bn-button",label:e.formatting_toolbar.file_rename.tooltip[a.type]||e.formatting_toolbar.file_rename.tooltip.file,mainTooltip:e.formatting_toolbar.file_rename.tooltip[a.type]||e.formatting_toolbar.file_rename.tooltip.file,icon:c.jsx(Ss,{})})}),c.jsx(t.Generic.Popover.Content,{className:"bn-popover-content bn-form-popover",variant:"form-popover",children:c.jsx(t.Generic.Form.Root,{children:c.jsx(t.Generic.Form.TextInput,{name:"file-name",icon:c.jsx(Ss,{}),value:o||"",autoFocus:!0,placeholder:e.formatting_toolbar.file_rename.input_placeholder[a.type]||e.formatting_toolbar.file_rename.input_placeholder.file,onKeyDown:i,onChange:l})})})]})},Um=()=>{const e=Z(),t=A(),n=O(),o=pe(n),[r,s]=u.useState(!1);u.useEffect(()=>{s(!1)},[o]);const a=o.length===1?o[0]:void 0;return a===void 0||!Vt(a,n)||!n.isEditable?null:c.jsxs(t.Generic.Popover.Root,{opened:r,position:"bottom",children:[c.jsx(t.Generic.Popover.Trigger,{children:c.jsx(t.FormattingToolbar.Button,{className:"bn-button",onClick:()=>s(!r),isSelected:r,mainTooltip:e.formatting_toolbar.file_replace.tooltip[a.type]||e.formatting_toolbar.file_replace.tooltip.file,label:e.formatting_toolbar.file_replace.tooltip[a.type]||e.formatting_toolbar.file_replace.tooltip.file,icon:c.jsx(bm,{})})}),c.jsx(t.Generic.Popover.Content,{className:"bn-popover-content bn-panel-popover",variant:"panel-popover",children:c.jsx(Mi,{block:a})})]})},Wm=()=>{const e=Z(),t=A(),n=O(),o=pe(n),[r,s]=u.useState(()=>n.canNestBlock());Ze(()=>{s(n.canNestBlock())},n);const a=u.useCallback(()=>{n.focus(),n.nestBlock()},[n]);return!u.useMemo(()=>!o.find(i=>n.schema.blockSchema[i.type].content!=="inline"),[n.schema.blockSchema,o])||!n.isEditable?null:c.jsx(t.FormattingToolbar.Button,{className:"bn-button","data-test":"nestBlock",onClick:a,isDisabled:!r,label:e.formatting_toolbar.nest.tooltip,mainTooltip:e.formatting_toolbar.nest.tooltip,secondaryTooltip:Rn(e.formatting_toolbar.nest.secondary_tooltip,e.generic.ctrl_shortcut),icon:c.jsx(im,{})})},Km=()=>{const e=Z(),t=A(),n=O(),o=pe(n),[r,s]=u.useState(()=>n.canUnnestBlock());Ze(()=>{s(n.canUnnestBlock())},n);const a=u.useCallback(()=>{n.focus(),n.unnestBlock()},[n]);return!u.useMemo(()=>!o.find(i=>n.schema.blockSchema[i.type].content!=="inline"),[n.schema.blockSchema,o])||!n.isEditable?null:c.jsx(t.FormattingToolbar.Button,{className:"bn-button","data-test":"unnestBlock",onClick:a,isDisabled:!r,label:e.formatting_toolbar.unnest.tooltip,mainTooltip:e.formatting_toolbar.unnest.tooltip,secondaryTooltip:Rn(e.formatting_toolbar.unnest.secondary_tooltip,e.generic.ctrl_shortcut),icon:c.jsx(am,{})})},qm=e=>[{name:e.slash_menu.paragraph.title,type:"paragraph",icon:sr,isSelected:t=>t.type==="paragraph"},{name:e.slash_menu.heading.title,type:"heading",props:{level:1},icon:hi,isSelected:t=>t.type==="heading"&&"level"in t.props&&t.props.level===1},{name:e.slash_menu.heading_2.title,type:"heading",props:{level:2},icon:gi,isSelected:t=>t.type==="heading"&&"level"in t.props&&t.props.level===2},{name:e.slash_menu.heading_3.title,type:"heading",props:{level:3},icon:bi,isSelected:t=>t.type==="heading"&&"level"in t.props&&t.props.level===3},{name:e.slash_menu.quote.title,type:"quote",icon:wi,isSelected:t=>t.type==="quote"},{name:e.slash_menu.bullet_list.title,type:"bulletListItem",icon:Ci,isSelected:t=>t.type==="bulletListItem"},{name:e.slash_menu.numbered_list.title,type:"numberedListItem",icon:xi,isSelected:t=>t.type==="numberedListItem"},{name:e.slash_menu.check_list.title,type:"checkListItem",icon:yi,isSelected:t=>t.type==="checkListItem"}],Ym=e=>{const t=A(),n=Z(),o=O(),r=pe(o),[s,a]=u.useState(o.getTextCursorPosition().block),i=u.useMemo(()=>(e.items||qm(n)).filter(f=>f.type in o.schema.blockSchema),[o,n,e.items]),l=u.useMemo(()=>i.find(f=>f.type===s.type)!==void 0,[s.type,i]),d=u.useMemo(()=>{const f=p=>{o.focus(),o.transact(()=>{for(const m of r)o.updateBlock(m,{type:p.type,props:p.props})})};return i.map(p=>{const m=p.icon;return{text:p.name,icon:c.jsx(m,{size:16}),onClick:()=>f(p),isSelected:p.isSelected(s)}})},[s,i,o,r]);return Ze(()=>{a(o.getTextCursorPosition().block)},o),!l||!o.isEditable?null:c.jsx(t.FormattingToolbar.Select,{className:"bn-select",items:d})},Xm=()=>{const e=Z(),t=A(),n=O(),o=u.useCallback(()=>{var r;(r=n.comments)==null||r.startPendingComment(),n.formattingToolbar.closeMenu()},[n]);return n.comments?c.jsx(t.FormattingToolbar.Button,{className:"bn-button",label:e.formatting_toolbar.comment.tooltip,mainTooltip:e.formatting_toolbar.comment.tooltip,icon:c.jsx(mi,{}),onClick:o}):null},Qm=()=>{const e=Z(),t=A(),n=O(),o=u.useCallback(()=>{n._tiptapEditor.chain().focus().addPendingComment().run()},[n]);return!n._tiptapEditor.commands.addPendingComment||!n.isEditable?null:c.jsx(t.FormattingToolbar.Button,{className:"bn-button",label:e.formatting_toolbar.comment.tooltip,mainTooltip:e.formatting_toolbar.comment.tooltip,icon:c.jsx(mi,{}),onClick:o})};function Do(e,t){try{const n=new URL(e,t);if(n.protocol!=="javascript:")return n.href}catch{}return"#"}const Jm=()=>{const e=Z(),t=A(),n=O(),o=pe(n),r=u.useMemo(()=>{if(o.length!==1)return;const a=o[0];if(Vt(a,n))return a},[n,o]),s=u.useCallback(()=>{r&&r.props.url&&(n.focus(),n.resolveFileUrl?n.resolveFileUrl(r.props.url).then(a=>window.open(Do(a,window.location.href))):window.open(Do(r.props.url,window.location.href)))},[n,r]);return!r||Ot(r,n)?null:c.jsx(t.FormattingToolbar.Button,{className:"bn-button",label:e.formatting_toolbar.file_download.tooltip[r.type]||e.formatting_toolbar.file_download.tooltip.file,mainTooltip:e.formatting_toolbar.file_download.tooltip[r.type]||e.formatting_toolbar.file_download.tooltip.file,icon:c.jsx(km,{}),onClick:s})},eh=()=>{const e=Z(),t=A(),n=O(),o=pe(n),r=u.useMemo(()=>{if(o.length!==1)return;const a=o[0];if(zd(a,n))return a},[n,o]),s=u.useCallback(()=>{r&&n.updateBlock(r,{props:{showPreview:!r.props.showPreview}})},[n,r]);return!r||Ot(r,n)||!n.isEditable?null:c.jsx(t.FormattingToolbar.Button,{className:"bn-button",label:"Toggle preview",mainTooltip:e.formatting_toolbar.file_preview_toggle.tooltip,icon:c.jsx(gm,{}),isSelected:r.props.showPreview,onClick:s})},th=()=>{const e=Z(),t=A(),n=O(),o=pe(n),r=u.useMemo(()=>{var a;if(o.length!==1)return;const i=o[0];if(i.type==="table")return(a=n.tableHandles)==null?void 0:a.getMergeDirection(i)},[n,o]),s=u.useCallback(()=>{var a;(a=n.tableHandles)==null||a.mergeCells()},[n]);return!n.isEditable||r===void 0||!n.settings.tables.splitCells?null:c.jsx(t.FormattingToolbar.Button,{className:"bn-button",label:e.formatting_toolbar.table_cell_merge.tooltip,mainTooltip:e.formatting_toolbar.table_cell_merge.tooltip,icon:r==="horizontal"?c.jsx(dm,{}):c.jsx(um,{}),onClick:s})},nh={left:nm,center:em,right:om,justify:tm},mo=e=>{const t=A(),n=Z(),o=O(),r=pe(o),s=u.useMemo(()=>{var l;const d=r[0];if(_o("textAlignment",d,o))return d.props.textAlignment;if(d.type==="table"){const f=(l=o.tableHandles)==null?void 0:l.getCellSelection();if(!f)return;const p=f.cells.map(({row:h,col:g})=>_t(d.content.rows[h].cells[g]).props.textAlignment),m=p[0];if(p.every(h=>h===m))return m}},[o,r]),a=u.useCallback(l=>{var d;o.focus();for(const f of r)if($t("textAlignment",f.type,o))o.updateBlock(f,{props:{textAlignment:l}});else if(f.type==="table"){const p=(d=o.tableHandles)==null?void 0:d.getCellSelection();if(!p)continue;const m=f.content.rows.map(h=>({...h,cells:h.cells.map(g=>_t(g))}));p.cells.forEach(({row:h,col:g})=>{m[h].cells[g].props.textAlignment=l}),o.updateBlock(f,{type:"table",content:{...f.content,type:"tableContent",rows:m}}),o.setTextCursorPosition(f)}},[o,r]);if(!u.useMemo(()=>!!r.find(l=>"textAlignment"in l.props||l.type==="table"&&l.children),[r])||!o.isEditable)return null;const i=nh[e.textAlignment];return c.jsx(t.FormattingToolbar.Button,{className:"bn-button","data-test":`alignText${e.textAlignment.slice(0,1).toUpperCase()+e.textAlignment.slice(1)}`,onClick:()=>a(e.textAlignment),isSelected:s===e.textAlignment,label:n.formatting_toolbar[`align_${e.textAlignment}`].tooltip,mainTooltip:n.formatting_toolbar[`align_${e.textAlignment}`].tooltip,icon:c.jsx(i,{})})},Ti=e=>[c.jsx(Ym,{items:e},"blockTypeSelect"),c.jsx(th,{},"tableCellMergeButton"),c.jsx(zm,{},"fileCaptionButton"),c.jsx(Um,{},"replaceFileButton"),c.jsx(Zm,{},"fileRenameButton"),c.jsx(Gm,{},"fileDeleteButton"),c.jsx(Jm,{},"fileDownloadButton"),c.jsx(eh,{},"filePreviewButton"),c.jsx(on,{basicTextStyle:"bold"},"boldStyleButton"),c.jsx(on,{basicTextStyle:"italic"},"italicStyleButton"),c.jsx(on,{basicTextStyle:"underline"},"underlineStyleButton"),c.jsx(on,{basicTextStyle:"strike"},"strikeStyleButton"),c.jsx(mo,{textAlignment:"left"},"textAlignLeftButton"),c.jsx(mo,{textAlignment:"center"},"textAlignCenterButton"),c.jsx(mo,{textAlignment:"right"},"textAlignRightButton"),c.jsx(Dm,{},"colorStyleButton"),c.jsx(Wm,{},"nestBlockButton"),c.jsx(Km,{},"unnestBlockButton"),c.jsx(Fm,{},"createLinkButton"),c.jsx(Xm,{},"addCommentButton"),c.jsx(Qm,{},"addTiptapCommentButton")],Ri=e=>{const t=A();return c.jsx(t.FormattingToolbar.Root,{className:"bn-toolbar bn-formatting-toolbar",children:e.children||Ti(e.blockTypeSelectItems)})},Is=e=>{switch(e){case"left":return"top-start";case"center":return"top";case"right":return"top-end";default:return"top-start"}},$i=e=>{const t=u.useRef(null),n=O(),[o,r]=u.useState(()=>{const m=n.getTextCursorPosition().block;return"textAlignment"in m.props?Is(m.props.textAlignment):"top-start"});Ze(()=>{const m=n.getTextCursorPosition().block;"textAlignment"in m.props?r(Is(m.props.textAlignment)):r("top-start")},n);const s=Oe(n.formattingToolbar.onUpdate.bind(n.formattingToolbar)),{isMounted:a,ref:i,style:l,getFloatingProps:d}=Ge((s==null?void 0:s.show)||!1,(s==null?void 0:s.referencePos)||null,3e3,{placement:o,middleware:[Pe(10),rt(),Re()],onOpenChange:(m,h)=>{m||(n.formattingToolbar.closeMenu(),n.focus())},...e.floatingOptions}),f=u.useMemo(()=>ir([t,i]),[t,i]);if(!a||!s)return null;if(!s.show&&t.current)return c.jsx("div",{ref:f,style:l,dangerouslySetInnerHTML:{__html:t.current.innerHTML}});const p=e.formattingToolbar||Ri;return c.jsx("div",{ref:f,style:l,...d(),children:c.jsx(p,{})})},oh=e=>{const t=A(),n=Z();return c.jsx(t.LinkToolbar.Button,{className:"bn-button",label:n.link_toolbar.delete.tooltip,mainTooltip:n.link_toolbar.delete.tooltip,isSelected:!1,onClick:e.deleteLink,icon:c.jsx(cm,{})})},rh=e=>{const t=A(),n=Z();return c.jsxs(t.Generic.Popover.Root,{children:[c.jsx(t.Generic.Popover.Trigger,{children:c.jsx(t.LinkToolbar.Button,{className:"bn-button",mainTooltip:n.link_toolbar.edit.tooltip,isSelected:!1,children:n.link_toolbar.edit.text})}),c.jsx(t.Generic.Popover.Content,{className:"bn-popover-content bn-form-popover",variant:"form-popover",children:c.jsx(Ei,{...e})})]})},sh=e=>{const t=A(),n=Z();return c.jsx(t.LinkToolbar.Button,{className:"bn-button",mainTooltip:n.link_toolbar.open.tooltip,label:n.link_toolbar.open.tooltip,isSelected:!1,onClick:()=>{window.open(Do(e.url,window.location.href),"_blank")},icon:c.jsx(Sm,{})})},ah=e=>{const t=A();return e.children?c.jsx(t.LinkToolbar.Root,{className:"bn-toolbar bn-link-toolbar",children:e.children}):c.jsxs(t.LinkToolbar.Root,{className:"bn-toolbar bn-link-toolbar",onMouseEnter:e.stopHideTimer,onMouseLeave:e.startHideTimer,children:[c.jsx(rh,{url:e.url,text:e.text,editLink:e.editLink}),c.jsx(sh,{url:e.url}),c.jsx(oh,{deleteLink:e.deleteLink})]})},ih=e=>{const t=O(),n={deleteLink:t.linkToolbar.deleteLink,editLink:t.linkToolbar.editLink,startHideTimer:t.linkToolbar.startHideTimer,stopHideTimer:t.linkToolbar.stopHideTimer},o=Oe(t.linkToolbar.onUpdate.bind(t.linkToolbar)),{isMounted:r,ref:s,style:a,getFloatingProps:i}=Ge((o==null?void 0:o.show)||!1,(o==null?void 0:o.referencePos)||null,4e3,{placement:"top-start",middleware:[Pe(10),Re()],onOpenChange:m=>{m||(t.linkToolbar.closeMenu(),t.focus())},...e.floatingOptions});if(!r||!o)return null;const{show:l,referencePos:d,...f}=o,p=e.linkToolbar||ah;return c.jsx("div",{ref:s,style:a,...i(),children:c.jsx(p,{...f,...n})})};function lh(e){return F({attr:{viewBox:"0 0 1024 1024"},child:[{tag:"path",attr:{d:"M482 152h60q8 0 8 8v704q0 8-8 8h-60q-8 0-8-8V160q0-8 8-8Z"},child:[]},{tag:"path",attr:{d:"M192 474h672q8 0 8 8v60q0 8-8 8H160q-8 0-8-8v-60q0-8 8-8Z"},child:[]}]})(e)}const ch=e=>{const t=A(),n=Z(),o=O(),r=u.useCallback(()=>{const s=e.block.content;if(s!==void 0&&Array.isArray(s)&&s.length===0)o.setTextCursorPosition(e.block),o.openSuggestionMenu("/");else{const a=o.insertBlocks([{type:"paragraph"}],e.block,"after")[0];o.setTextCursorPosition(a),o.openSuggestionMenu("/")}},[o,e.block]);return c.jsx(t.SideMenu.Button,{className:"bn-button",label:n.side_menu.add_block_label,icon:c.jsx(lh,{size:24,onClick:r,"data-test":"dragHandleAdd"})})};function Ii(e){return F({attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0V0z"},child:[]},{tag:"path",attr:{d:"M11 18c0 1.1-.9 2-2 2s-2-.9-2-2 .9-2 2-2 2 .9 2 2zm-2-8c-1.1 0-2 .9-2 2s.9 2 2 2 2-.9 2-2-.9-2-2-2zm0-6c-1.1 0-2 .9-2 2s.9 2 2 2 2-.9 2-2-.9-2-2-2zm6 4c1.1 0 2-.9 2-2s-.9-2-2-2-2 .9-2 2 .9 2 2 2zm0 2c-1.1 0-2 .9-2 2s.9 2 2 2 2-.9 2-2-.9-2-2-2zm0 6c-1.1 0-2 .9-2 2s.9 2 2 2 2-.9 2-2-.9-2-2-2z"},child:[]}]})(e)}function dh(e){return F({attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0z"},child:[]},{tag:"path",attr:{d:"m7 10 5 5 5-5z"},child:[]}]})(e)}const Pi=e=>{const t=A(),n=O();return!$t("textColor",e.block.type,n)&&!$t("backgroundColor",e.block.type,n)?null:c.jsxs(t.Generic.Menu.Root,{position:"right",sub:!0,children:[c.jsx(t.Generic.Menu.Trigger,{sub:!0,children:c.jsx(t.Generic.Menu.Item,{className:"bn-menu-item",subTrigger:!0,children:e.children})}),c.jsx(t.Generic.Menu.Dropdown,{sub:!0,className:"bn-menu-dropdown bn-color-picker-dropdown",children:c.jsx(Pn,{iconSize:18,text:$t("textColor",e.block.type,n)&&_o("textColor",e.block,n)?{color:e.block.props.textColor,setColor:o=>n.updateBlock(e.block,{type:e.block.type,props:{textColor:o}})}:void 0,background:$t("backgroundColor",e.block.type,n)&&_o("backgroundColor",e.block,n)?{color:e.block.props.backgroundColor,setColor:o=>n.updateBlock(e.block,{props:{backgroundColor:o}})}:void 0})})]})},Ni=e=>{const t=A(),n=O();return c.jsx(t.Generic.Menu.Item,{className:"bn-menu-item",onClick:()=>n.removeBlocks([e.block]),children:e.children})},uh=e=>{const t=A(),n=O();if(e.block.type!=="table"||!n.settings.tables.headers)return null;const o=!!e.block.content.headerRows;return c.jsx(t.Generic.Menu.Item,{className:"bn-menu-item",checked:o,onClick:()=>{const r=n.getBlock(e.block.id);r&&n.updateBlock(r,{...r,content:{...r.content,headerRows:o?void 0:1}})},children:e.children})},fh=e=>{const t=A(),n=O();if(e.block.type!=="table"||!n.settings.tables.headers)return null;const o=!!e.block.content.headerCols;return c.jsx(t.Generic.Menu.Item,{className:"bn-menu-item",checked:o,onClick:()=>{n.updateBlock(e.block,{type:"table",content:{...e.block.content,type:"tableContent",headerCols:o?void 0:1}})},children:e.children})},_i=e=>{const t=A(),n=Z();return c.jsx(t.Generic.Menu.Dropdown,{className:"bn-menu-dropdown bn-drag-handle-menu",children:e.children||c.jsxs(c.Fragment,{children:[c.jsx(Ni,{...e,children:n.drag_handle.delete_menuitem}),c.jsx(Pi,{...e,children:n.drag_handle.colors_menuitem}),c.jsx(uh,{...e,children:n.drag_handle.header_row_menuitem}),c.jsx(fh,{...e,children:n.drag_handle.header_column_menuitem})]})})},Hi=e=>{const t=A(),n=Z(),o=e.dragHandleMenu||_i;return c.jsxs(t.Generic.Menu.Root,{onOpenChange:r=>{r?e.freezeMenu():e.unfreezeMenu()},position:"left",children:[c.jsx(t.Generic.Menu.Trigger,{children:c.jsx(t.SideMenu.Button,{label:n.side_menu.drag_handle_label,draggable:!0,onDragStart:r=>e.blockDragStart(r,e.block),onDragEnd:e.blockDragEnd,className:"bn-button",icon:c.jsx(Ii,{size:24,"data-test":"dragHandle"})})}),c.jsx(o,{block:e.block,children:e.children})]})},Li=e=>{const t=A(),n=u.useMemo(()=>{const o={"data-block-type":e.block.type};return e.block.type==="heading"&&(o["data-level"]=e.block.props.level.toString()),e.editor.schema.blockSchema[e.block.type].isFileBlock&&(e.block.props.url?o["data-url"]="true":o["data-url"]="false"),o},[e.block,e.editor.schema.blockSchema]);return c.jsx(t.SideMenu.Root,{className:"bn-side-menu",...n,children:e.children||c.jsxs(c.Fragment,{children:[c.jsx(ch,{...e}),c.jsx(Hi,{...e})]})})},Ai=e=>{const t=O(),n={blockDragStart:t.sideMenu.blockDragStart,blockDragEnd:t.sideMenu.blockDragEnd,freezeMenu:t.sideMenu.freezeMenu,unfreezeMenu:t.sideMenu.unfreezeMenu},o=Oe(t.sideMenu.onUpdate.bind(t.sideMenu)),{isMounted:r,ref:s,style:a,getFloatingProps:i}=Ge((o==null?void 0:o.show)||!1,(o==null?void 0:o.referencePos)||null,1e3,{placement:"left-start",...e.floatingOptions});if(!r||!o)return null;const{show:l,referencePos:d,...f}=o,p=e.sideMenu||Li;return c.jsx("div",{ref:s,style:a,...i(),children:c.jsx(p,{...f,...n,editor:t})})};async function ph(e,t){return(await Wd(e,t)).map(({id:n,onItemClick:o})=>({id:n,onItemClick:o,icon:n}))}function mh(e){const t=A(),n=Z(),{items:o,loadingState:r,selectedIndex:s,onItemClick:a,columns:i}=e,l=r==="loading-initial"||r==="loading"?c.jsx(t.GridSuggestionMenu.Loader,{className:"bn-grid-suggestion-menu-loader",columns:i}):null,d=u.useMemo(()=>{const f=[];for(let p=0;p<o.length;p++){const m=o[p];f.push(c.jsx(t.GridSuggestionMenu.Item,{className:"bn-grid-suggestion-menu-item",item:m,id:`bn-grid-suggestion-menu-item-${p}`,isSelected:p===s,onClick:()=>a==null?void 0:a(m)},m.id))}return f},[t,o,a,s]);return c.jsxs(t.GridSuggestionMenu.Root,{id:"bn-grid-suggestion-menu",columns:i,className:"bn-grid-suggestion-menu",children:[l,d,d.length===0&&e.loadingState==="loaded"&&c.jsx(t.GridSuggestionMenu.EmptyItem,{className:"bn-grid-suggestion-menu-empty-item",columns:i,children:n.suggestion_menu.no_items_title})]})}function Vi(e,t,n,o=3){const r=u.useRef(0);u.useEffect(()=>{t!==void 0&&(e.length>0?r.current=t.length:t.length-r.current>o&&n())},[n,o,e.length,t])}function Oi(e,t){const[n,o]=u.useState([]),[r,s]=u.useState(!1),a=u.useRef(),i=u.useRef();return u.useEffect(()=>{const l=e;a.current=e,s(!0),t(e).then(d=>{a.current===l&&(o(d),s(!1),i.current=l)})},[e,t]),{items:n||[],usedQuery:i.current,loadingState:i.current===void 0?"loading-initial":r?"loading":"loaded"}}function hh(e,t,n,o,r){const[s,a]=u.useState(0),i=o!==void 0&&o>1;return u.useEffect(()=>{var l;const d=f=>(f.key==="ArrowLeft"&&(f.preventDefault(),n.length&&a((s-1+n.length)%n.length)),f.key==="ArrowRight"&&(f.preventDefault(),n.length&&a((s+1+n.length)%n.length)),f.key==="ArrowUp"?(f.preventDefault(),n.length&&a((s-o+n.length)%n.length),!0):f.key==="ArrowDown"?(f.preventDefault(),n.length&&a((s+o)%n.length),!0):f.key==="Enter"&&!f.isComposing?(f.stopPropagation(),f.preventDefault(),n.length&&(r==null||r(n[s])),!0):!1);return(l=e.domElement)==null||l.addEventListener("keydown",d,!0),()=>{var f;(f=e.domElement)==null||f.removeEventListener("keydown",d,!0)}},[e.domElement,n,s,r,o,i]),u.useEffect(()=>{a(0)},[t]),{selectedIndex:n.length===0?void 0:s}}function gh(e){const t=Ne().setContentEditableProps,n=O(),{getItems:o,gridSuggestionMenuComponent:r,query:s,clearQuery:a,closeMenu:i,onItemClick:l,columns:d}=e,f=u.useCallback(b=>{i(),a(),l==null||l(b)},[l,i,a]),{items:p,usedQuery:m,loadingState:h}=Oi(s,o);Vi(p,m,i);const{selectedIndex:g}=hh(n,s,p,d,f);return u.useEffect(()=>(t(b=>({...b,"aria-expanded":!0,"aria-controls":"bn-suggestion-menu"})),()=>{t(b=>({...b,"aria-expanded":!1,"aria-controls":void 0}))}),[t]),u.useEffect(()=>(t(b=>({...b,"aria-activedescendant":g?"bn-suggestion-menu-item-"+g:void 0})),()=>{t(b=>({...b,"aria-activedescendant":void 0}))}),[t,g]),c.jsx(r,{items:p,onItemClick:f,loadingState:h,selectedIndex:g,columns:d})}function bh(e){const t=O(),{triggerCharacter:n,gridSuggestionMenuComponent:o,columns:r,minQueryLength:s,onItemClick:a,getItems:i,floatingOptions:l}=e,d=u.useMemo(()=>a||(C=>{C.onItemClick(t)}),[t,a]),f=u.useMemo(()=>i||(async C=>await ph(t,C)),[t,i]),p={closeMenu:t.suggestionMenus.closeMenu,clearQuery:t.suggestionMenus.clearQuery},m=u.useCallback(C=>t.suggestionMenus.onUpdate(n,C),[t.suggestionMenus,n]),h=Oe(m),{isMounted:g,ref:b,style:v,getFloatingProps:y}=Ge((h==null?void 0:h.show)||!1,(h==null?void 0:h.referencePos)||null,2e3,{placement:"bottom-start",middleware:[Pe(10),Re(),Tn({apply({availableHeight:C,elements:x}){Object.assign(x.floating.style,{maxHeight:`${C-10}px`})}})],onOpenChange(C){C||t.suggestionMenus.closeMenu()},...l});return!g||!h||!(h!=null&&h.ignoreQueryLength)&&s&&(h.query.startsWith(" ")||h.query.length<s)?null:c.jsx("div",{ref:b,style:v,...y(),children:c.jsx(gh,{query:h.query,closeMenu:p.closeMenu,clearQuery:p.clearQuery,getItems:f,columns:r,gridSuggestionMenuComponent:o||mh,onItemClick:d})})}function vh(e){const t=A(),n=Z(),{items:o,loadingState:r,selectedIndex:s,onItemClick:a}=e,i=r==="loading-initial"||r==="loading"?c.jsx(t.SuggestionMenu.Loader,{className:"bn-suggestion-menu-loader"}):null,l=u.useMemo(()=>{let d;const f=[];for(let p=0;p<o.length;p++){const m=o[p];m.group!==d&&(d=m.group,f.push(c.jsx(t.SuggestionMenu.Label,{className:"bn-suggestion-menu-label",children:d},d))),f.push(c.jsx(t.SuggestionMenu.Item,{className:ie("bn-suggestion-menu-item",m.size==="small"?"bn-suggestion-menu-item-small":""),item:m,id:`bn-suggestion-menu-item-${p}`,isSelected:p===s,onClick:()=>a==null?void 0:a(m)},m.title))}return f},[t,o,a,s]);return c.jsxs(t.SuggestionMenu.Root,{id:"bn-suggestion-menu",className:"bn-suggestion-menu",children:[l,l.length===0&&(e.loadingState==="loading"||e.loadingState==="loaded")&&c.jsx(t.SuggestionMenu.EmptyItem,{className:"bn-suggestion-menu-item",children:n.suggestion_menu.no_items_title}),i]})}function yh(e,t){const[n,o]=u.useState(0);return{selectedIndex:n,setSelectedIndex:o,handler:r=>{if(r.key==="ArrowUp")return r.preventDefault(),e.length&&o((n-1+e.length)%e.length),!0;if(r.key==="ArrowDown")return r.preventDefault(),e.length&&o((n+1)%e.length),!0;const s=xh(r)?r.nativeEvent.isComposing:r.isComposing;return r.key==="Enter"&&!s?(r.preventDefault(),r.stopPropagation(),e.length&&(t==null||t(e[n])),!0):!1}}}function xh(e){return e.nativeEvent!==void 0}function Ch(e,t,n,o,r){const{selectedIndex:s,setSelectedIndex:a,handler:i}=yh(n,o);return u.useEffect(()=>{var l;return(l=e.domElement)==null||l.addEventListener("keydown",i,!0),()=>{var d;(d=e.domElement)==null||d.removeEventListener("keydown",i,!0)}},[e.domElement,n,s,o,r,i]),u.useEffect(()=>{a(0)},[t,a]),{selectedIndex:n.length===0?void 0:s}}function wh(e){const t=Ne().setContentEditableProps,n=O(),{getItems:o,suggestionMenuComponent:r,query:s,clearQuery:a,closeMenu:i,onItemClick:l}=e,d=u.useCallback(g=>{i(),a(),l==null||l(g)},[l,i,a]),{items:f,usedQuery:p,loadingState:m}=Oi(s,o);Vi(f,p,i);const{selectedIndex:h}=Ch(n,s,f,d);return u.useEffect(()=>(t(g=>({...g,"aria-expanded":!0,"aria-controls":"bn-suggestion-menu"})),()=>{t(g=>({...g,"aria-expanded":!1,"aria-controls":void 0}))}),[t]),u.useEffect(()=>(t(g=>({...g,"aria-activedescendant":h?"bn-suggestion-menu-item-"+h:void 0})),()=>{t(g=>({...g,"aria-activedescendant":void 0}))}),[t,h]),c.jsx(r,{items:f,onItemClick:d,loadingState:m,selectedIndex:h})}const kh={heading:hi,heading_2:gi,heading_3:bi,quote:wi,numbered_list:xi,bullet_list:Ci,check_list:yi,paragraph:sr,table:pm,image:ki,video:hm,audio:Si,file:rr,emoji:Mm,code_block:sm};function Di(e){return Od(e).map(t=>{const n=kh[t.key];return{...t,icon:c.jsx(n,{size:18})}})}function Bi(e){const t=O(),{triggerCharacter:n,suggestionMenuComponent:o,minQueryLength:r,onItemClick:s,getItems:a,floatingOptions:i}=e,l=u.useMemo(()=>s||(y=>{y.onItemClick(t)}),[t,s]),d=u.useMemo(()=>a||(async y=>La(Di(t),y)),[t,a]),f={closeMenu:t.suggestionMenus.closeMenu,clearQuery:t.suggestionMenus.clearQuery},p=u.useCallback(y=>t.suggestionMenus.onUpdate(n,y),[t.suggestionMenus,n]),m=Oe(p),{isMounted:h,ref:g,style:b,getFloatingProps:v}=Ge((m==null?void 0:m.show)||!1,(m==null?void 0:m.referencePos)||null,2e3,{placement:"bottom-start",middleware:[Pe(10),Re({mainAxis:!0,crossAxis:!1}),rt(),Tn({apply({availableHeight:y,elements:C}){Object.assign(C.floating.style,{maxHeight:`${y-10}px`})}})],onOpenChange(y){y||t.suggestionMenus.closeMenu()},...i});return!h||!m||!(m!=null&&m.ignoreQueryLength)&&r&&(m.query.startsWith(" ")||m.query.length<r)?null:c.jsx("div",{ref:g,style:b,...v(),children:c.jsx(wh,{query:m.query,closeMenu:f.closeMenu,clearQuery:f.clearQuery,getItems:d,suggestionMenuComponent:o||vh,onItemClick:l})})}const Sh=(e,t=.3)=>{const n=Math.floor(e)+t,o=Math.ceil(e)-t;return e>=n&&e<=o?Math.round(e):e<n?Math.floor(e):Math.ceil(e)},jh=e=>{const t=A(),n=u.useRef(!1),[o,r]=u.useState(),s=u.useCallback(i=>{e.onMouseDown(),r({originalContent:e.block.content,originalCroppedContent:{rows:e.editor.tableHandles.cropEmptyRowsOrColumns(e.block,e.orientation==="addOrRemoveColumns"?"columns":"rows")},startPos:e.orientation==="addOrRemoveColumns"?i.clientX:i.clientY}),n.current=!1,i.preventDefault()},[e]),a=u.useCallback(()=>{n.current||e.editor.updateBlock(e.block,{type:"table",content:{...e.block.content,rows:e.orientation==="addOrRemoveColumns"?e.editor.tableHandles.addRowsOrColumns(e.block,"columns",1):e.editor.tableHandles.addRowsOrColumns(e.block,"rows",1)}})},[e.block,e.orientation,e.editor]);return u.useEffect(()=>{const i=l=>{var d,f;if(!o)throw new Error("editingState is undefined");n.current=!0;const p=(e.orientation==="addOrRemoveColumns"?l.clientX:l.clientY)-o.startPos,m=e.orientation==="addOrRemoveColumns"?((d=o.originalCroppedContent.rows[0])==null?void 0:d.cells.length)??0:o.originalCroppedContent.rows.length,h=e.orientation==="addOrRemoveColumns"?((f=o.originalContent.rows[0])==null?void 0:f.cells.length)??0:o.originalContent.rows.length,g=e.orientation==="addOrRemoveColumns"?e.block.content.rows[0].cells.length:e.block.content.rows.length,b=h+Sh(p/(e.orientation==="addOrRemoveColumns"?Kd:qd),.3);b>=m&&b>0&&b!==g&&(e.editor.updateBlock(e.block,{type:"table",content:{...e.block.content,rows:e.orientation==="addOrRemoveColumns"?e.editor.tableHandles.addRowsOrColumns({type:"table",content:o.originalCroppedContent},"columns",b-m):e.editor.tableHandles.addRowsOrColumns({type:"table",content:o.originalCroppedContent},"rows",b-m)}}),e.block.content&&e.editor.setTextCursorPosition(e.block))};return o&&window.addEventListener("mousemove",i),()=>{window.removeEventListener("mousemove",i)}},[o,e.block,e.editor,e.orientation]),u.useEffect(()=>{const i=e.onMouseUp,l=()=>{r(void 0),i()};return o&&window.addEventListener("mouseup",l),()=>{window.removeEventListener("mouseup",l)}},[o,e.onMouseUp]),c.jsx(t.TableHandle.ExtendButton,{className:ie("bn-extend-button",e.orientation==="addOrRemoveColumns"?"bn-extend-button-add-remove-columns":"bn-extend-button-add-remove-rows",o!==null?"bn-extend-button-editing":""),onClick:a,onMouseDown:s,children:e.children||c.jsx(ym,{size:18,"data-test":"extendButton"})})},Ps=e=>{const t=A(),n=Z(),o=O().tableHandles;return o?c.jsx(t.Generic.Menu.Item,{onClick:()=>{o.addRowOrColumn(e.index,e.orientation==="row"?{orientation:"row",side:e.side}:{orientation:"column",side:e.side})},children:n.table_handle[`add_${e.side}_menuitem`]}):null},Mh=e=>{const t=A(),n=Z(),o=O().tableHandles;return o?c.jsx(t.Generic.Menu.Item,{onClick:()=>{o.removeRowOrColumn(e.index,e.orientation)},children:e.orientation==="row"?n.table_handle.delete_row_menuitem:n.table_handle.delete_column_menuitem}):null},Eh=e=>{const t=A(),n=Z(),o=O(),r=o.tableHandles,s=u.useMemo(()=>!r||!e.block?[]:e.orientation==="row"?r.getCellsAtRowHandle(e.block,e.index):r.getCellsAtColumnHandle(e.block,e.index),[e.block,e.index,e.orientation,r]),a=(l,d)=>{const f=e.block.content.rows.map(p=>({...p,cells:p.cells.map(m=>_t(m))}));s.forEach(({row:p,col:m})=>{d==="text"?f[p].cells[m].props.textColor=l:f[p].cells[m].props.backgroundColor=l}),o.updateBlock(e.block,{type:"table",content:{...e.block.content,rows:f}}),o.setTextCursorPosition(e.block)};if(!s||!s[0]||!r||o.settings.tables.cellTextColor===!1&&o.settings.tables.cellBackgroundColor===!1)return null;const i=_t(s[0].cell);return c.jsxs(t.Generic.Menu.Root,{position:"right",sub:!0,children:[c.jsx(t.Generic.Menu.Trigger,{sub:!0,children:c.jsx(t.Generic.Menu.Item,{className:"bn-menu-item",subTrigger:!0,children:e.children||n.drag_handle.colors_menuitem})}),c.jsx(t.Generic.Menu.Dropdown,{sub:!0,className:"bn-menu-dropdown bn-color-picker-dropdown",children:c.jsx(Pn,{iconSize:18,text:o.settings.tables.cellTextColor?{color:s.every(({cell:l})=>Ht(l)&&l.props.textColor===i.props.textColor)?i.props.textColor:"default",setColor:l=>{a(l,"text")}}:void 0,background:o.settings.tables.cellBackgroundColor?{color:s.every(({cell:l})=>Ht(l)&&l.props.backgroundColor===i.props.backgroundColor)?i.props.backgroundColor:"default",setColor:l=>a(l,"background")}:void 0})})]})},Th=e=>{const t=A(),n=Z(),o=O();if(!o.tableHandles||e.index!==0||e.orientation!=="row"||!o.settings.tables.headers)return null;const r=!!e.block.content.headerRows;return c.jsx(t.Generic.Menu.Item,{className:"bn-menu-item",checked:r,onClick:()=>{const s=o.getBlock(e.block.id);s&&o.updateBlock(s,{...s,content:{...s.content,headerRows:r?void 0:1}})},children:n.drag_handle.header_row_menuitem})},Rh=e=>{const t=A(),n=Z(),o=O();if(!o.tableHandles||e.index!==0||e.orientation!=="column"||!o.settings.tables.headers)return null;const r=!!e.block.content.headerCols;return c.jsx(t.Generic.Menu.Item,{className:"bn-menu-item",checked:r,onClick:()=>{const s=o.getBlock(e.block.id);s&&o.updateBlock(s,{...s,content:{...s.content,headerCols:r?void 0:1}})},children:n.drag_handle.header_column_menuitem})},$h=e=>{const t=A();return c.jsx(t.Generic.Menu.Dropdown,{className:"bn-table-handle-menu",children:e.children||c.jsxs(c.Fragment,{children:[c.jsx(Mh,{orientation:e.orientation,block:e.block,index:e.index}),c.jsx(Ps,{orientation:e.orientation,block:e.block,index:e.index,side:e.orientation==="row"?"above":"left"}),c.jsx(Ps,{orientation:e.orientation,block:e.block,index:e.index,side:e.orientation==="row"?"below":"right"}),c.jsx(Th,{orientation:e.orientation,block:e.block,index:e.index}),c.jsx(Rh,{orientation:e.orientation,block:e.block,index:e.index}),c.jsx(Eh,{orientation:e.orientation,block:e.block,index:e.index})]})})},Ih=e=>{const t=A(),[n,o]=u.useState(!1),r=e.tableHandleMenu||$h,s=u.useMemo(()=>{const a=e.editor.tableHandles;return!a||!e.block||e.block.type!=="table"?!1:e.orientation==="column"?a.getCellsAtColumnHandle(e.block,e.index).every(({cell:i})=>Va(i)===1):a.getCellsAtRowHandle(e.block,e.index).every(({cell:i})=>Oa(i)===1)},[e.block,e.editor.tableHandles,e.index,e.orientation]);return c.jsxs(t.Generic.Menu.Root,{onOpenChange:a=>{a?(e.freezeHandles(),e.hideOtherSide()):(e.unfreezeHandles(),e.showOtherSide(),e.editor.focus())},position:"right",children:[c.jsx(t.Generic.Menu.Trigger,{children:c.jsx(t.TableHandle.Root,{className:ie("bn-table-handle",n?"bn-table-handle-dragging":"",s?"":"bn-table-handle-not-draggable"),draggable:s,onDragStart:a=>{o(!0),e.dragStart(a)},onDragEnd:()=>{e.dragEnd(),o(!1)},style:e.orientation==="column"?{transform:"rotate(0.25turn)"}:void 0,children:e.children||c.jsx(Ii,{size:24,"data-test":"tableHandle"})})}),Te.createPortal(c.jsx(r,{orientation:e.orientation,block:e.block,index:e.index}),e.menuContainer)]})};function Ns(e,t,n){const{refs:o,update:r,context:s,floatingStyles:a}=Yo({open:t,placement:e==="addOrRemoveColumns"?"right":"bottom",middleware:[Tn({apply({rects:d,elements:f}){Object.assign(f.floating.style,e==="addOrRemoveColumns"?{height:`${d.reference.height}px`}:{width:`${d.reference.width}px`})}})]}),{isMounted:i,styles:l}=Xo(s);return u.useEffect(()=>{r()},[n,r]),u.useEffect(()=>{n!==null&&o.setReference({getBoundingClientRect:()=>n})},[e,n,o]),u.useMemo(()=>({isMounted:i,ref:o.setFloating,style:{display:"flex",...l,...a}}),[a,i,o.setFloating,l])}function Ph(e,t,n){const o=Ns("addOrRemoveRows",t,n),r=Ns("addOrRemoveColumns",e,n);return u.useMemo(()=>({addOrRemoveRowsButton:o,addOrRemoveColumnsButton:r}),[r,o])}function Nh(e,t,n){return n&&n.draggedCellOrientation==="row"?new DOMRect(t.x,n.mousePos,t.width,0):new DOMRect(t.x,e.y,t.width,e.height)}function _h(e,t,n){return n&&n.draggedCellOrientation==="col"?new DOMRect(n.mousePos,t.y,0,t.height):new DOMRect(e.x,t.y,e.width,t.height)}function Hh(e){return new DOMRect(e.x,e.y,e.width,0)}function ho(e,t,n,o,r){const{refs:s,update:a,context:i,floatingStyles:l}=Yo({open:t,placement:e==="row"?"left":e==="col"?"top":"bottom-end",middleware:[Pe(e==="row"?-10:e==="col"?-12:{mainAxis:1,crossAxis:-1})]}),{isMounted:d,styles:f}=Xo(i);return u.useEffect(()=>{a()},[n,o,a]),u.useEffect(()=>{n===null||o===null||r&&e==="cell"||s.setReference({getBoundingClientRect:()=>(e==="row"?Nh:e==="col"?_h:Hh)(n,o,r)})},[r,e,n,o,s]),u.useMemo(()=>({isMounted:d,ref:s.setFloating,style:{display:"flex",...f,...l}}),[l,d,s.setFloating,f])}function Lh(e,t,n,o){const r=ho("row",e,t,n,o),s=ho("col",e,t,n,o),a=ho("cell",e,t,n,o);return u.useMemo(()=>({rowHandle:r,colHandle:s,cellHandle:a}),[s,r,a])}const Ah=e=>{var t,n;const o=A(),r=Z(),s=O(),a=(l,d)=>{const f=e.block.content.rows.map(p=>({...p,cells:p.cells.map(m=>_t(m))}));d==="text"?f[e.rowIndex].cells[e.colIndex].props.textColor=l:f[e.rowIndex].cells[e.colIndex].props.backgroundColor=l,s.updateBlock(e.block,{type:"table",content:{...e.block.content,rows:f}}),s.setTextCursorPosition(e.block)},i=(n=(t=e.block.content.rows[e.rowIndex])==null?void 0:t.cells)==null?void 0:n[e.colIndex];return!i||s.settings.tables.cellTextColor===!1&&s.settings.tables.cellBackgroundColor===!1?null:c.jsxs(o.Generic.Menu.Root,{position:"right",sub:!0,children:[c.jsx(o.Generic.Menu.Trigger,{sub:!0,children:c.jsx(o.Generic.Menu.Item,{className:"bn-menu-item",subTrigger:!0,children:e.children||r.drag_handle.colors_menuitem})}),c.jsx(o.Generic.Menu.Dropdown,{sub:!0,className:"bn-menu-dropdown bn-color-picker-dropdown",children:c.jsx(Pn,{iconSize:18,text:s.settings.tables.cellTextColor?{color:Ht(i)?i.props.textColor:"default",setColor:l=>a(l,"text")}:void 0,background:s.settings.tables.cellBackgroundColor?{color:Ht(i)?i.props.backgroundColor:"default",setColor:l=>a(l,"background")}:void 0})})]})},Vh=e=>{var t,n;const o=A(),r=Z(),s=O(),a=(n=(t=e.block.content.rows[e.rowIndex])==null?void 0:t.cells)==null?void 0:n[e.colIndex];return!a||!Ht(a)||Oa(a)===1&&Va(a)===1||!s.settings.tables.splitCells?null:c.jsx(o.Generic.Menu.Item,{onClick:()=>{var i;(i=s.tableHandles)==null||i.splitCell({row:e.rowIndex,col:e.colIndex})},children:r.table_handle.split_cell_menuitem})},Oh=e=>{const t=A();return c.jsx(t.Generic.Menu.Dropdown,{className:"bn-menu-dropdown bn-drag-handle-menu",children:e.children||c.jsxs(c.Fragment,{children:[c.jsx(Vh,{block:e.block,rowIndex:e.rowIndex,colIndex:e.colIndex}),c.jsx(Ah,{block:e.block,rowIndex:e.rowIndex,colIndex:e.colIndex})]})})},Dh=e=>{const t=A(),n=e.tableCellMenu||Oh;return!e.editor.settings.tables.splitCells&&!e.editor.settings.tables.cellBackgroundColor&&!e.editor.settings.tables.cellTextColor?null:c.jsxs(t.Generic.Menu.Root,{onOpenChange:o=>{o?e.freezeHandles():(e.unfreezeHandles(),e.editor.focus())},position:"right",children:[c.jsx(t.Generic.Menu.Trigger,{children:c.jsx(t.Generic.Menu.Button,{className:"bn-table-cell-handle",children:e.children||c.jsx(dh,{size:12,"data-test":"tableCellHandle"})})}),Te.createPortal(c.jsx(n,{block:e.block,rowIndex:e.rowIndex,colIndex:e.colIndex}),e.menuContainer)]})},Bh=e=>{var t,n;const o=O(),[r,s]=u.useState(null);if(!o.tableHandles)throw new Error("TableHandlesController can only be used when BlockNote editor schema contains table block");const a={rowDragStart:o.tableHandles.rowDragStart,colDragStart:o.tableHandles.colDragStart,dragEnd:o.tableHandles.dragEnd,freezeHandles:o.tableHandles.freezeHandles,unfreezeHandles:o.tableHandles.unfreezeHandles},{freezeHandles:i,unfreezeHandles:l}=a,d=u.useCallback(()=>{i(),E(!0),x(!0)},[i]),f=u.useCallback(()=>{l(),E(!1),x(!1)},[l]),p=Oe(o.tableHandles.onUpdate.bind(o.tableHandles)),m=u.useMemo(()=>{var N,V;return p!=null&&p.draggingState?{draggedCellOrientation:(N=p==null?void 0:p.draggingState)==null?void 0:N.draggedCellOrientation,mousePos:(V=p==null?void 0:p.draggingState)==null?void 0:V.mousePos}:void 0},[p==null?void 0:p.draggingState,(t=p==null?void 0:p.draggingState)==null?void 0:t.draggedCellOrientation,(n=p==null?void 0:p.draggingState)==null?void 0:n.mousePos]),{rowHandle:h,colHandle:g,cellHandle:b}=Lh((p==null?void 0:p.show)||!1,(p==null?void 0:p.referencePosCell)||null,(p==null?void 0:p.referencePosTable)||null,m),{addOrRemoveColumnsButton:v,addOrRemoveRowsButton:y}=Ph((p==null?void 0:p.showAddOrRemoveColumnsButton)||!1,(p==null?void 0:p.showAddOrRemoveRowsButton)||!1,(p==null?void 0:p.referencePosTable)||null),[C,x]=u.useState(!1),[w,E]=u.useState(!1);if(!p)return null;const k=e.tableHandle||Ih,T=e.extendButton||jh,M=e.tableCellHandle||Dh;return c.jsxs(c.Fragment,{children:[c.jsx("div",{ref:s}),c.jsxs(Fu,{root:p.widgetContainer,children:[!C&&r&&h.isMounted&&p.rowIndex!==void 0&&c.jsx("div",{ref:h.ref,style:h.style,children:c.jsx(k,{editor:o,orientation:"row",showOtherSide:()=>E(!1),hideOtherSide:()=>E(!0),index:p.rowIndex,block:p.block,dragStart:a.rowDragStart,dragEnd:a.dragEnd,freezeHandles:a.freezeHandles,unfreezeHandles:a.unfreezeHandles,menuContainer:r})}),!w&&r&&g.isMounted&&p.colIndex!==void 0&&c.jsx("div",{ref:g.ref,style:g.style,children:c.jsx(k,{editor:o,orientation:"column",showOtherSide:()=>x(!1),hideOtherSide:()=>x(!0),index:p.colIndex,block:p.block,dragStart:a.colDragStart,dragEnd:a.dragEnd,freezeHandles:a.freezeHandles,unfreezeHandles:a.unfreezeHandles,menuContainer:r})}),r&&b.isMounted&&p.colIndex!==void 0&&p.rowIndex!==void 0&&c.jsx("div",{ref:b.ref,style:b.style,children:c.jsx(M,{editor:o,block:p.block,rowIndex:p.rowIndex,colIndex:p.colIndex,menuContainer:r,freezeHandles:a.freezeHandles,unfreezeHandles:a.unfreezeHandles})}),c.jsx("div",{ref:y.ref,style:y.style,children:c.jsx(T,{editor:o,orientation:"addOrRemoveRows",block:p.block,onMouseDown:d,onMouseUp:f})}),c.jsx("div",{ref:v.ref,style:v.style,children:c.jsx(T,{editor:o,orientation:"addOrRemoveColumns",block:p.block,onMouseDown:d,onMouseUp:f})})]})]})};function Fh(e){const t=O();if(!t)throw new Error("BlockNoteDefaultUI must be used within a BlockNoteContext.Provider");return c.jsxs(c.Fragment,{children:[e.formattingToolbar!==!1&&c.jsx($i,{}),e.linkToolbar!==!1&&c.jsx(ih,{}),e.slashMenu!==!1&&c.jsx(Bi,{triggerCharacter:"/"}),e.emojiPicker!==!1&&c.jsx(bh,{triggerCharacter:":",columns:10,minQueryLength:2}),e.sideMenu!==!1&&c.jsx(Ai,{}),t.filePanel&&e.filePanel!==!1&&c.jsx(Am,{}),t.tableHandles&&e.tableHandles!==!1&&c.jsx(Bh,{}),t.comments&&e.comments!==!1&&c.jsxs(c.Fragment,{children:[c.jsx(zp,{}),c.jsx(_m,{})]})]})}const Fi=()=>{const e=u.useMemo(()=>{var a;return(a=window.matchMedia)==null?void 0:a.call(window,"(prefers-color-scheme: dark)")},[]),t=u.useMemo(()=>{var a;return(a=window.matchMedia)==null?void 0:a.call(window,"(prefers-color-scheme: light)")},[]),n=e==null?void 0:e.matches,o=t==null?void 0:t.matches,[r,s]=u.useState(n?"dark":o?"light":"no-preference");return u.useEffect(()=>{s(n?"dark":o?"light":"no-preference")},[n,o]),u.useEffect(()=>{if(typeof(e==null?void 0:e.addEventListener)=="function"){const a=({matches:l})=>l&&s("dark"),i=({matches:l})=>l&&s("light");return e==null||e.addEventListener("change",a),t==null||t.addEventListener("change",i),()=>{e==null||e.removeEventListener("change",a),t==null||t.removeEventListener("change",i)}}else{const a=()=>s(e.matches?"dark":t.matches?"light":"no-preference");return e==null||e.addEventListener("change",a),t==null||t.addEventListener("change",a),()=>{e==null||e.removeEventListener("change",a),t==null||t.removeEventListener("change",a)}}},[e,t]),r},zi=u.createContext(void 0);function zh(){return u.useContext(zi)}function Gh(){const e=new Set;let t={};return{subscribe(n){return e.add(n),()=>{e.delete(n)}},getSnapshot(){return t},getServerSnapshot(){return t},setRenderer(n,o){t={...t,[n]:Te.createPortal(o.reactElement,o.element,n)},e.forEach(r=>r())},removeRenderer(n){const o={...t};delete o[n],t=o,e.forEach(r=>r())}}}const Zh=({contentComponent:e})=>{const t=u.useSyncExternalStore(e.subscribe,e.getSnapshot,e.getServerSnapshot);return c.jsx(c.Fragment,{children:Object.values(t)})},Uh=u.forwardRef((e,t)=>{const[n,o]=u.useState();return u.useImperativeHandle(t,()=>(r,s)=>{Te.flushSync(()=>{o({node:r,container:s})}),o(void 0)},[]),c.jsx(c.Fragment,{children:n&&Te.createPortal(n.node,n.container)})}),_s=()=>{};function Wh(e,t){const{editor:n,className:o,theme:r,children:s,editable:a,onSelectionChange:i,onChange:l,formattingToolbar:d,linkToolbar:f,slashMenu:p,emojiPicker:m,sideMenu:h,filePanel:g,tableHandles:b,comments:v,autoFocus:y,renderEditor:C=!n.headless,...x}=e,[w,E]=u.useState(),k=Ne(),T=Fi(),M=(k==null?void 0:k.colorSchemePreference)||T,N=r||(M==="dark"?"dark":"light");tr(l||_s,n),er(i||_s,n),u.useEffect(()=>{n.isEditable=a!==!1},[a,n]);const V=u.useCallback($=>{n.elementRenderer=$},[n]),H=u.useMemo(()=>({...k,editor:n,setContentEditableProps:E}),[k,n]),z={formattingToolbar:d,linkToolbar:f,slashMenu:p,emojiPicker:m,sideMenu:h,filePanel:g,tableHandles:b,comments:v},W={autoFocus:y,contentEditableProps:w};return c.jsx(di.Provider,{value:H,children:c.jsxs(zi.Provider,{value:{editorProps:W,defaultUIProps:z},children:[c.jsx(Uh,{ref:V}),c.jsx(Kh,{className:o,renderEditor:C,editorColorScheme:N,ref:t,...x,children:s})]})})}const Kh=K.forwardRef(({className:e,renderEditor:t,editorColorScheme:n,children:o,...r},s)=>c.jsx("div",{className:ie("bn-container",n,e),"data-color-scheme":n,...r,ref:s,children:t?c.jsx(Yh,{children:o}):o})),qh=K.forwardRef(Wh),Yh=e=>{const t=zh(),n=O(),o=u.useMemo(()=>Gh(),[]),r=u.useCallback(s=>{n.mount(s,o)},[n,o]);return c.jsxs(c.Fragment,{children:[c.jsx(Zh,{contentComponent:o}),c.jsx(Xh,{...t.editorProps,...e,mount:r}),c.jsx(Fh,{...t.defaultUIProps}),e.children]})},Xh=e=>{const{autoFocus:t,mount:n,contentEditableProps:o}=e;return c.jsx("div",{"aria-autocomplete":"list","aria-haspopup":"listbox","data-bn-autofocus":t,ref:n,...o})};function Hs(e,t){let n;const o=document.createElement("div");let r;if(t!=null&&t.elementRenderer)t.elementRenderer(e(l=>n=l||void 0),o);else{if(!(t!=null&&t.headless))throw new Error("elementRenderer not available, expected headless editor");r=Wc.createRoot(o),Te.flushSync(()=>{r.render(e(l=>n=l||void 0))})}if(!o.childElementCount)return console.warn("ReactInlineContentSpec: renderHTML() failed"),{dom:document.createElement("span")};n==null||n.setAttribute("data-tmp-find","true");const s=o.cloneNode(!0),a=s.firstElementChild,i=s.querySelector("[data-tmp-find]");return i==null||i.removeAttribute("data-tmp-find"),r==null||r.unmount(),{dom:a,contentDOM:i||void 0}}function go(e){var t;return c.jsx(Pp,{onDragOver:n=>n.preventDefault(),...Object.fromEntries(Object.entries(e.domAttributes||{}).filter(([n])=>n!=="class")),className:ie("bn-block-content",((t=e.domAttributes)==null?void 0:t.class)||""),"data-content-type":e.blockType,...Object.fromEntries(Object.entries(e.blockProps).filter(([n,o])=>{const r=e.propSchema[n];return!Bd.includes(n)&&o!==r.default}).map(([n,o])=>[Fd(n),o])),"data-file-block":e.isFileBlock===!0||void 0,children:e.children})}function Dt(e,t){const n=Aa({name:e.type,content:e.content==="inline"?"inline*":"",group:"blockContent",selectable:e.isSelectable??!0,isolating:!0,addAttributes(){return Ad(e.propSchema)},parseHTML(){return Ld(e,t.parse)},renderHTML({HTMLAttributes:o}){const r=document.createElement("div");return Hd({dom:r,contentDOM:e.content==="inline"?r:void 0},e.type,{},e.propSchema,e.isFileBlock,o)},addNodeView(){return o=>{const r=Ap(s=>{var a;const i=this.options.editor,l=Dd(s.getPos,i,this.editor,e.type),d=((a=this.options.domAttributes)==null?void 0:a.blockContent)||{},f=ci().nodeViewContentRef;if(!f)throw new Error("nodeViewContentRef is not set");const p=t.render;return c.jsx(go,{blockType:l.type,blockProps:l.props,propSchema:e.propSchema,isFileBlock:e.isFileBlock,domAttributes:d,children:c.jsx(p,{block:l,editor:i,contentRef:m=>{f(m),m&&(m.className=ie("bn-inline-content",m.className))}})})},{className:"bn-react-node-view-renderer"})(o);return e.isSelectable===!1&&_d(r,this.editor),r}}});return Vd(e,{node:n,toInternalHTML:(o,r)=>{var s;const a=((s=n.options.domAttributes)==null?void 0:s.blockContent)||{},i=t.render;return Hs(l=>c.jsx(go,{blockType:o.type,blockProps:o.props,propSchema:e.propSchema,domAttributes:a,children:c.jsx(i,{block:o,editor:r,contentRef:d=>{l(d),d&&(d.className=ie("bn-inline-content",d.className))}})}),r)},toExternalHTML:(o,r)=>{var s;const a=((s=n.options.domAttributes)==null?void 0:s.blockContent)||{},i=t.toExternalHTML||t.render;return Hs(l=>c.jsx(go,{blockType:o.type,blockProps:o.props,propSchema:e.propSchema,domAttributes:a,children:c.jsx(i,{block:o,editor:r,contentRef:d=>{l(d),d&&(d.className=ie("bn-inline-content",d.className))}})}),r)}})}function lr(e){const t=O(),[n,o]=u.useState("loading"),[r,s]=u.useState();if(u.useEffect(()=>{let a=!0;return(async()=>{let i="";o("loading");try{i=t.resolveFileUrl?await t.resolveFileUrl(e):e}catch{o("error");return}a&&(o("loaded"),s(i))})(),()=>{a=!1}},[t,e]),n!=="loaded")return{loadingState:n};if(!r)throw new Error("Finished fetching file but did not get download URL.");return{loadingState:n,downloadUrl:r}}const cr=e=>c.jsxs("figure",{children:[e.children,c.jsx("figcaption",{children:e.caption})]});function Qh(e){const t=O();u.useEffect(()=>t.onUploadEnd(e),[e,t])}function Jh(e){const t=O();u.useEffect(()=>t.onUploadStart(e),[e,t])}function Gi(e){const[t,n]=u.useState(!1);return Jh(o=>{o===e&&n(!0)}),Qh(o=>{o===e&&n(!1)}),t}const e1=e=>{const t=Z(),n=u.useCallback(r=>{r.preventDefault()},[]),o=u.useCallback(()=>{e.editor.transact(r=>r.setMeta(e.editor.filePanel.plugins[0],{block:e.block}))},[e.block,e.editor]);return c.jsxs("div",{className:"bn-add-file-button",onMouseDown:n,onClick:o,children:[c.jsx("div",{className:"bn-add-file-button-icon",children:e.buttonIcon||c.jsx(rr,{size:24})}),c.jsx("div",{className:"bn-add-file-button-text",children:e.buttonText||t.file_blocks.file.add_button_text})]})},t1=e=>c.jsxs("div",{className:"bn-file-name-with-icon",contentEditable:!1,draggable:!1,children:[c.jsx("div",{className:"bn-file-icon",children:c.jsx(rr,{size:24})}),c.jsx("p",{className:"bn-file-name",children:e.block.props.name})]}),dr=e=>{const t=Gi(e.block.id);return c.jsx("div",{className:"bn-file-block-content-wrapper",onMouseEnter:e.onMouseEnter,onMouseLeave:e.onMouseLeave,style:e.style,children:t?c.jsx("div",{className:"bn-file-loading-preview",children:"Loading..."}):e.block.props.url===""?c.jsx(e1,{...e}):c.jsxs(c.Fragment,{children:[e.block.props.showPreview===!1||!e.children?c.jsx(t1,{...e}):e.children,e.block.props.caption&&c.jsx("p",{className:"bn-file-caption",children:e.block.props.caption})]})})},Nn=e=>c.jsxs("div",{children:[e.children,c.jsx("p",{children:e.caption})]}),n1=e=>{const t=lr(e.block.props.url);return c.jsx("audio",{className:"bn-audio",src:t.loadingState==="loading"?e.block.props.url:t.downloadUrl,controls:!0,contentEditable:!1,draggable:!1})},o1=e=>{if(!e.block.props.url)return c.jsx("p",{children:"Add audio"});const t=e.block.props.showPreview?c.jsx("audio",{src:e.block.props.url}):c.jsx("a",{href:e.block.props.url,children:e.block.props.name||e.block.props.url});return e.block.props.caption?e.block.props.showPreview?c.jsx(cr,{caption:e.block.props.caption,children:t}):c.jsx(Nn,{caption:e.block.props.caption,children:t}):t},r1=e=>c.jsx(dr,{...e,buttonText:e.editor.dictionary.file_blocks.audio.add_button_text,buttonIcon:c.jsx(Si,{size:24}),children:c.jsx(n1,{...e})});Dt(Jd,{render:r1,parse:Qd,toExternalHTML:o1});const s1=e=>{if(!e.block.props.url)return c.jsx("p",{children:"Add file"});const t=c.jsx("a",{href:e.block.props.url,children:e.block.props.name||e.block.props.url});return e.block.props.caption?c.jsx(Nn,{caption:e.block.props.caption,children:t}):t},a1=e=>c.jsx(dr,{...e});Dt(tu,{render:a1,parse:eu,toExternalHTML:s1});const Zi=e=>{const[t,n]=u.useState(void 0),[o,r]=u.useState(e.block.props.previewWidth),[s,a]=u.useState(!1),i=u.useRef(null);u.useEffect(()=>{const h=b=>{var v,y;let C;e.block.props.textAlignment==="center"?t.handleUsed==="left"?C=t.initialWidth+(t.initialClientX-b.clientX)*2:C=t.initialWidth+(b.clientX-t.initialClientX)*2:t.handleUsed==="left"?C=t.initialWidth+t.initialClientX-b.clientX:C=t.initialWidth+b.clientX-t.initialClientX,r(Math.min(Math.max(C,64),((y=(v=e.editor.domElement)==null?void 0:v.firstElementChild)==null?void 0:y.clientWidth)||Number.MAX_VALUE))},g=()=>{n(void 0),e.editor.updateBlock(e.block,{props:{previewWidth:o}})};return t&&(window.addEventListener("mousemove",h),window.addEventListener("mouseup",g)),()=>{window.removeEventListener("mousemove",h),window.removeEventListener("mouseup",g)}},[e,t,o]);const l=u.useCallback(()=>{e.editor.isEditable&&a(!0)},[e.editor.isEditable]),d=u.useCallback(()=>{a(!1)},[]),f=u.useCallback(h=>{h.preventDefault(),n({handleUsed:"left",initialWidth:i.current.clientWidth,initialClientX:h.clientX})},[]),p=u.useCallback(h=>{h.preventDefault(),n({handleUsed:"right",initialWidth:i.current.clientWidth,initialClientX:h.clientX})},[]),m=Gi(e.block.id);return c.jsx(dr,{...e,onMouseEnter:l,onMouseLeave:d,style:e.block.props.url&&!m&&e.block.props.showPreview?{width:o?`${o}px`:"fit-content"}:void 0,children:c.jsxs("div",{className:"bn-visual-media-wrapper",ref:i,children:[e.children,(s||t)&&c.jsxs(c.Fragment,{children:[c.jsx("div",{className:"bn-resize-handle",style:{left:"4px"},onMouseDown:f}),c.jsx("div",{className:"bn-resize-handle",style:{right:"4px"},onMouseDown:p})]})]})})},i1=e=>{const t=lr(e.block.props.url);return c.jsx("img",{className:"bn-visual-media",src:t.loadingState==="loading"?e.block.props.url:t.downloadUrl,alt:e.block.props.caption||"BlockNote image",contentEditable:!1,draggable:!1})},l1=e=>{if(!e.block.props.url)return c.jsx("p",{children:"Add image"});const t=e.block.props.showPreview?c.jsx("img",{src:e.block.props.url,alt:e.block.props.name||e.block.props.caption||"BlockNote image",width:e.block.props.previewWidth}):c.jsx("a",{href:e.block.props.url,children:e.block.props.name||e.block.props.url});return e.block.props.caption?e.block.props.showPreview?c.jsx(cr,{caption:e.block.props.caption,children:t}):c.jsx(Nn,{caption:e.block.props.caption,children:t}):t},c1=e=>c.jsx(Zi,{...e,buttonText:e.editor.dictionary.file_blocks.image.add_button_text,buttonIcon:c.jsx(ki,{size:24}),children:c.jsx(i1,{...e})});Dt(ou,{render:c1,parse:nu,toExternalHTML:l1});const d1=e=>{const t=lr(e.block.props.url);return c.jsx("video",{className:"bn-visual-media",src:t.loadingState==="loading"?e.block.props.url:t.downloadUrl,controls:!0,contentEditable:!1,draggable:!1})},u1=e=>{if(!e.block.props.url)return c.jsx("p",{children:"Add video"});const t=e.block.props.showPreview?c.jsx("video",{src:e.block.props.url}):c.jsx("a",{href:e.block.props.url,children:e.block.props.name||e.block.props.url});return e.block.props.caption?e.block.props.showPreview?c.jsx(cr,{caption:e.block.props.caption,children:t}):c.jsx(Nn,{caption:e.block.props.caption,children:t}):t},f1=e=>c.jsx(Zi,{...e,buttonText:e.editor.dictionary.file_blocks.video.add_button_text,buttonIcon:c.jsx(vm,{size:24}),children:c.jsx(d1,{...e})});Dt(su,{render:f1,parse:ru,toExternalHTML:u1});K.memo(({thread:e,selectedThreadId:t,editor:n,maxCommentsBeforeCollapse:o,referenceText:r})=>{const s=u.useCallback(i=>{var l;i.target.closest(".bn-action-toolbar")||(l=n.comments)==null||l.selectThread(e.id)},[n.comments,e.id]),a=u.useCallback(i=>{var l;if(!i.relatedTarget||i.relatedTarget.closest(".bn-action-toolbar"))return;const d=i.target instanceof Node?i.target:null,f=i.relatedTarget instanceof Node?i.relatedTarget.closest(".bn-thread"):null;(!d||!f||!f.contains(d))&&((l=n.comments)==null||l.selectThread(void 0))},[n.comments]);return c.jsx(ji,{thread:e,selected:e.id===t,referenceText:r,maxCommentsBeforeCollapse:o,onFocus:s,onBlur:a,tabIndex:0})});function Ui(e,t){const n=e.getBoundingClientRect(),o=t.getBoundingClientRect(),r=n.top<o.top,s=n.bottom>o.bottom;return r&&s?"both":r?"top":s?"bottom":"none"}const p1=Ae.input`
  display: none;
`,m1=Ae.div`
  align-items: center;
  display: flex;
  gap: ${({theme:e})=>e.spacing(2)};
`,h1=Ae.a`
  align-items: center;
  color: ${({theme:e})=>e.font.color.primary};
  display: flex;
  text-decoration: none;
  :hover {
    color: ${({theme:e})=>e.font.color.secondary};
  }
`,g1=Ae.div`
  align-items: center;
  display: flex;
  gap: ${({theme:e})=>e.spacing(2)};
`,b1=Dt({type:"file",propSchema:{url:{default:""},name:{default:""},fileType:{default:"Other"}},content:"none"},{render:({block:e,editor:t})=>{const n=u.useRef(null),o=async a=>{var l;if(Yc(a))return"";const i=await((l=t.uploadFile)==null?void 0:l.call(t,a));if(!tt.isNonEmptyString(i))return"";t.updateBlock(e.id,{props:{...e.props,url:i,fileType:Xc(a.name),name:a.name}})},r=()=>{var a,i;(i=(a=n==null?void 0:n.current)==null?void 0:a.click)==null||i.call(a)},s=a=>{xe(a.target.files)&&(o==null||o(a.target.files[0]))};return tt.isNonEmptyString(e.props.url)?Be(m1,{children:[Q(Kc,{fileType:e.props.fileType}),Q(h1,{href:e.props.url,target:"__blank",children:e.props.name})]}):Be(g1,{children:[Q(p1,{ref:n,onChange:s,type:"file"}),Q(qc,{onClick:r,title:"Upload File"})]})}}),v1=Da.create({blockSpecs:{...Ba,file:b1}}),y1=e=>({replaceBlockEditorContent:Pt(({snapshot:n})=>o=>{if(xe(e)){const r=n.getLoadable(Nt(o)).getValue(),s=tt.isNonEmptyString(r==null?void 0:r.bodyV2.blocknote)?JSON.parse(r==null?void 0:r.bodyV2.blocknote):[{type:"paragraph",content:""}];Qc(e.document,s)||e.replaceBlocks(e.document,s)}},[e])}),x1=({activityId:e,editor:t})=>{const{replaceBlockEditorContent:n}=y1(t),[o,r]=u.useState(e);return u.useEffect(()=>{o!==e&&(n(e),r(e))},[e,o,n]),Q(Ia,{})},Ls=e=>{var s;if(!e.includes("/files/"))return e==null?void 0:e.split("?")[0];const t=e==null?void 0:e.split("/files/")[0],n=(s=e==null?void 0:e.split("/files/")[1])==null?void 0:s.split("?")[0];if(!n)throw new Error(`Invalid attachment path: ${e}`);if(!n.startsWith("attachment/"))return e==null?void 0:e.split("?")[0];const o=n.split("/");if(o.length<2)throw new Error(`Invalid attachment path structure: ${n}. Path must have at least two segments.`);const r=o.pop();return o.pop(),`${t}/files/${o.join("/")}/${r}`},_n=(e,t)=>{const n=new URL(e),o=new URL(t);return n.hostname!==o.hostname?!1:Ls(e)===Ls(t)},C1=(e,t)=>t.filter(n=>e.some(o=>_n(n.fullPath,o))).map(n=>n.id),yn=e=>JSON.parse(e??"{}").reduce((n,o)=>(["image","file","video","audio"].includes(o.type)&&tt.isNonEmptyString(o.props.url)&&n.push({path:o.props.url,name:o.props.name}),n),[]),w1=(e,t=[])=>{const n=yn(e);return n.length===0?[]:n.reduce((o,r)=>{const s=t.find(a=>_n(a.fullPath,r.path));return xe(s)&&s.name!==r.name&&o.push({id:s.id,name:r.name}),o},[])},k1=(e,t=[],n)=>{if(t.length===0)return[];const o=yn(e),s=yn(n).filter(a=>!o.some(i=>i.path===a.path)).map(a=>a.path);return t.filter(a=>s.some(i=>_n(a.fullPath,i))).map(a=>a.id)},S1=(e,t)=>yn(e).filter(r=>!t.some(s=>_n(r.path,s.fullPath))).map(r=>r.path);function Me(e){return Object.keys(e)}function bo(e){return e&&typeof e=="object"&&!Array.isArray(e)}function ur(e,t){const n={...e},o=t;return bo(e)&&bo(t)&&Object.keys(t).forEach(r=>{bo(o[r])&&r in e?n[r]=ur(n[r],o[r]):n[r]=o[r]}),n}function j1(e){return e.replace(/[A-Z]/g,t=>`-${t.toLowerCase()}`)}function M1(e){var t;return typeof e!="string"||!e.includes("var(--mantine-scale)")?e:(t=e.match(/^calc\((.*?)\)$/))==null?void 0:t[1].split("*")[0].trim()}function E1(e){const t=M1(e);return typeof t=="number"?t:typeof t=="string"?t.includes("calc")||t.includes("var")?t:t.includes("px")?Number(t.replace("px","")):t.includes("rem")?Number(t.replace("rem",""))*16:t.includes("em")?Number(t.replace("em",""))*16:Number(t):NaN}function vo(e){return e==="0rem"?"0rem":`calc(${e} * var(--mantine-scale))`}function Wi(e,{shouldScale:t=!1}={}){function n(o){if(o===0||o==="0")return`0${e}`;if(typeof o=="number"){const r=`${o/16}${e}`;return t?vo(r):r}if(typeof o=="string"){if(o===""||o.startsWith("calc(")||o.startsWith("clamp(")||o.includes("rgba("))return o;if(o.includes(","))return o.split(",").map(s=>n(s)).join(",");if(o.includes(" "))return o.split(" ").map(s=>n(s)).join(" ");if(o.includes(e))return t?vo(o):o;const r=o.replace("px","");if(!Number.isNaN(Number(r))){const s=`${Number(r)/16}${e}`;return t?vo(s):s}}return o}return n}const j=Wi("rem",{shouldScale:!0}),As=Wi("em");function Hn(e){return Object.keys(e).reduce((t,n)=>(e[n]!==void 0&&(t[n]=e[n]),t),{})}function Ki(e){return typeof e=="number"?!0:typeof e=="string"?e.startsWith("calc(")||e.startsWith("var(")||e.includes(" ")&&e.trim()!==""?!0:/[0-9]/.test(e.trim().replace("-","")[0]):!1}function Bt(e){return Array.isArray(e)||e===null?!1:typeof e=="object"?e.type!==u.Fragment:!1}function Ln(e){const t=u.createContext(null);return[({children:r,value:s})=>c.jsx(t.Provider,{value:s,children:r}),()=>{const r=u.useContext(t);if(r===null)throw new Error(e);return r}]}function qi(e=null){const t=u.createContext(e);return[({children:r,value:s})=>c.jsx(t.Provider,{value:s,children:r}),()=>u.useContext(t)]}function Vs(e,t){return n=>{if(typeof n!="string"||n.trim().length===0)throw new Error(t);return`${e}-${n}`}}function xn(e,t){let n=e;for(;(n=n.parentElement)&&!n.matches(t););return n}function T1(e,t,n){for(let o=e-1;o>=0;o-=1)if(!t[o].disabled)return o;if(n){for(let o=t.length-1;o>-1;o-=1)if(!t[o].disabled)return o}return e}function R1(e,t,n){for(let o=e+1;o<t.length;o+=1)if(!t[o].disabled)return o;if(n){for(let o=0;o<t.length;o+=1)if(!t[o].disabled)return o}return e}function $1(e,t,n){return xn(e,n)===xn(t,n)}function Yi({parentSelector:e,siblingSelector:t,onKeyDown:n,loop:o=!0,activateOnFocus:r=!1,dir:s="rtl",orientation:a}){return i=>{var g;n==null||n(i);const l=Array.from(((g=xn(i.currentTarget,e))==null?void 0:g.querySelectorAll(t))||[]).filter(b=>$1(i.currentTarget,b,e)),d=l.findIndex(b=>i.currentTarget===b),f=R1(d,l,o),p=T1(d,l,o),m=s==="rtl"?p:f,h=s==="rtl"?f:p;switch(i.key){case"ArrowRight":{a==="horizontal"&&(i.stopPropagation(),i.preventDefault(),l[m].focus(),r&&l[m].click());break}case"ArrowLeft":{a==="horizontal"&&(i.stopPropagation(),i.preventDefault(),l[h].focus(),r&&l[h].click());break}case"ArrowUp":{a==="vertical"&&(i.stopPropagation(),i.preventDefault(),l[p].focus(),r&&l[p].click());break}case"ArrowDown":{a==="vertical"&&(i.stopPropagation(),i.preventDefault(),l[f].focus(),r&&l[f].click());break}case"Home":{i.stopPropagation(),i.preventDefault(),!l[0].disabled&&l[0].focus();break}case"End":{i.stopPropagation(),i.preventDefault();const b=l.length-1;!l[b].disabled&&l[b].focus();break}}}}const I1={app:100,modal:200,popover:300,overlay:400,max:9999};function Ft(e){return I1[e]}const P1=()=>{};function N1(e,t={active:!0}){return typeof e!="function"||!t.active?t.onKeyDown||P1:n=>{var o;n.key==="Escape"&&(e(n),(o=t.onTrigger)==null||o.call(t))}}function re(e,t="size",n=!0){if(e!==void 0)return Ki(e)?n?j(e):e:`var(--${t}-${e})`}function zt(e){return re(e,"mantine-spacing")}function me(e){return e===void 0?"var(--mantine-radius-default)":re(e,"mantine-radius")}function ye(e){return re(e,"mantine-font-size")}function _1(e){return re(e,"mantine-line-height",!1)}function Xi(e){if(e)return re(e,"mantine-shadow",!1)}function He(e,t){return n=>{e==null||e(n),t==null||t(n)}}function H1(e,t,n){var o;return n?Array.from(((o=xn(n,t))==null?void 0:o.querySelectorAll(e))||[]).findIndex(r=>r===n):null}function L1(){const[e,t]=u.useState(-1);return[e,{setHovered:t,resetHovered:()=>t(-1)}]}function Qi(){return`mantine-${Math.random().toString(36).slice(2,11)}`}const Os=["mousedown","touchstart"];function A1(e,t,n){const o=u.useRef();return u.useEffect(()=>{const r=s=>{const{target:a}=s??{};if(Array.isArray(n)){const i=(a==null?void 0:a.hasAttribute("data-ignore-outside-clicks"))||!document.body.contains(a)&&a.tagName!=="HTML";n.every(d=>!!d&&!s.composedPath().includes(d))&&!i&&e()}else o.current&&!o.current.contains(a)&&e()};return(t||Os).forEach(s=>document.addEventListener(s,r)),()=>{(t||Os).forEach(s=>document.removeEventListener(s,r))}},[o,e,n]),o}function V1(e,t){try{return e.addEventListener("change",t),()=>e.removeEventListener("change",t)}catch{return e.addListener(t),()=>e.removeListener(t)}}function O1(e,t){return typeof window<"u"&&"matchMedia"in window?window.matchMedia(e).matches:!1}function D1(e,t,{getInitialValueInEffect:n}={getInitialValueInEffect:!0}){const[o,r]=u.useState(n?t:O1(e)),s=u.useRef();return u.useEffect(()=>{if("matchMedia"in window)return s.current=window.matchMedia(e),r(s.current.matches),V1(s.current,a=>r(a.matches))},[e]),o}const An=typeof document<"u"?u.useLayoutEffect:u.useEffect;function Fe(e,t){const n=u.useRef(!1);u.useEffect(()=>()=>{n.current=!1},[]),u.useEffect(()=>{if(n.current)return e();n.current=!0},t)}function B1({opened:e,shouldReturnFocus:t=!0}){const n=u.useRef(),o=()=>{var r;n.current&&"focus"in n.current&&typeof n.current.focus=="function"&&((r=n.current)==null||r.focus({preventScroll:!0}))};return Fe(()=>{let r=-1;const s=a=>{a.key==="Tab"&&window.clearTimeout(r)};return document.addEventListener("keydown",s),e?n.current=document.activeElement:t&&(r=window.setTimeout(o,10)),()=>{window.clearTimeout(r),document.removeEventListener("keydown",s)}},[e,t]),o}function F1(e,t="body > :not(script)"){const n=Qi(),o=Array.from(document.querySelectorAll(t)).map(r=>{var l;if((l=r==null?void 0:r.shadowRoot)!=null&&l.contains(e)||r.contains(e))return;const s=r.getAttribute("aria-hidden"),a=r.getAttribute("data-hidden"),i=r.getAttribute("data-focus-id");return r.setAttribute("data-focus-id",n),s===null||s==="false"?r.setAttribute("aria-hidden","true"):!a&&!i&&r.setAttribute("data-hidden",s),{node:r,ariaHidden:a||null}});return()=>{o.forEach(r=>{!r||n!==r.node.getAttribute("data-focus-id")||(r.ariaHidden===null?r.node.removeAttribute("aria-hidden"):r.node.setAttribute("aria-hidden",r.ariaHidden),r.node.removeAttribute("data-focus-id"),r.node.removeAttribute("data-hidden"))})}}const z1=/input|select|textarea|button|object/,Ji="a, input, select, textarea, button, object, [tabindex]";function G1(e){return e.style.display==="none"}function Z1(e){if(e.getAttribute("aria-hidden")||e.getAttribute("hidden")||e.getAttribute("type")==="hidden")return!1;let n=e;for(;n&&!(n===document.body||n.nodeType===11);){if(G1(n))return!1;n=n.parentNode}return!0}function el(e){let t=e.getAttribute("tabindex");return t===null&&(t=void 0),parseInt(t,10)}function Bo(e){const t=e.nodeName.toLowerCase(),n=!Number.isNaN(el(e));return(z1.test(t)&&!e.disabled||e instanceof HTMLAnchorElement&&e.href||n)&&Z1(e)}function tl(e){const t=el(e);return(Number.isNaN(t)||t>=0)&&Bo(e)}function U1(e){return Array.from(e.querySelectorAll(Ji)).filter(tl)}function W1(e,t){const n=U1(e);if(!n.length){t.preventDefault();return}const o=n[t.shiftKey?0:n.length-1],r=e.getRootNode();let s=o===r.activeElement||e===r.activeElement;const a=r.activeElement;if(a.tagName==="INPUT"&&a.getAttribute("type")==="radio"&&(s=n.filter(f=>f.getAttribute("type")==="radio"&&f.getAttribute("name")===a.getAttribute("name")).includes(o)),!s)return;t.preventDefault();const l=n[t.shiftKey?n.length-1:0];l&&l.focus()}function nl(e=!0){const t=u.useRef(),n=u.useRef(null),o=s=>{let a=s.querySelector("[data-autofocus]");if(!a){const i=Array.from(s.querySelectorAll(Ji));a=i.find(tl)||i.find(Bo)||null,!a&&Bo(s)&&(a=s)}a&&a.focus({preventScroll:!0})},r=u.useCallback(s=>{if(e){if(s===null){n.current&&(n.current(),n.current=null);return}n.current=F1(s),t.current!==s&&(s?(setTimeout(()=>{s.getRootNode()&&o(s)}),t.current=s):t.current=null)}},[e]);return u.useEffect(()=>{if(!e)return;t.current&&setTimeout(()=>o(t.current));const s=a=>{a.key==="Tab"&&t.current&&W1(t.current,a)};return document.addEventListener("keydown",s),()=>{document.removeEventListener("keydown",s),n.current&&n.current()}},[e]),r}const K1=K.useId||(()=>{});function q1(){const e=K1();return e?`mantine-${e.replace(/:/g,"")}`:""}function Gt(e){const t=q1(),[n,o]=u.useState(t);return An(()=>{o(Qi())},[]),typeof e=="string"?e:typeof window>"u"?t:n}function fr(e,t){typeof e=="function"?e(t):typeof e=="object"&&e!==null&&"current"in e&&(e.current=t)}function Zt(...e){return t=>{e.forEach(n=>fr(n,t))}}function Ue(...e){return u.useCallback(Zt(...e),e)}function bt({value:e,defaultValue:t,finalValue:n,onChange:o=()=>{}}){const[r,s]=u.useState(t!==void 0?t:n),a=(i,...l)=>{s(i),o==null||o(i,...l)};return e!==void 0?[e,o,!0]:[r,a,!1]}function Y1(e,t){return D1("(prefers-reduced-motion: reduce)",e,t)}function X1(){const[e,t]=u.useState(!1),n=u.useRef(null),o=u.useCallback(()=>t(!0),[]),r=u.useCallback(()=>t(!1),[]);return u.useEffect(()=>{if(n.current)return n.current.addEventListener("mouseenter",o),n.current.addEventListener("mouseleave",r),()=>{var s,a;(s=n.current)==null||s.removeEventListener("mouseenter",o),(a=n.current)==null||a.removeEventListener("mouseleave",r)}},[]),{ref:n,hovered:e}}function Q1(e){return e.currentTarget instanceof HTMLElement&&e.relatedTarget instanceof HTMLElement?e.currentTarget.contains(e.relatedTarget):!1}function ol({onBlur:e,onFocus:t}={}){const n=u.useRef(),[o,r]=u.useState(!1),s=u.useRef(!1),a=d=>{r(d),s.current=d},i=d=>{s.current||(a(!0),t==null||t(d))},l=d=>{s.current&&!Q1(d)&&(a(!1),e==null||e(d))};return u.useEffect(()=>{if(n.current)return n.current.addEventListener("focusin",i),n.current.addEventListener("focusout",l),()=>{var d,f;(d=n.current)==null||d.removeEventListener("focusin",i),(f=n.current)==null||f.removeEventListener("focusout",l)}},[i,l]),{ref:n,focused:o}}const J1={};function eg(e){const t={};return e.forEach(n=>{Object.entries(n).forEach(([o,r])=>{t[o]?t[o]=Ve(t[o],r):t[o]=r})}),t}function Vn({theme:e,classNames:t,props:n,stylesCtx:o}){const s=(Array.isArray(t)?t:[t]).map(a=>typeof a=="function"?a(e,n,o):a||J1);return eg(s)}function Cn({theme:e,styles:t,props:n,stylesCtx:o}){return(Array.isArray(t)?t:[t]).reduce((s,a)=>typeof a=="function"?{...s,...a(e,n,o)}:{...s,...a},{})}const rl=u.createContext(null);function st(){const e=u.useContext(rl);if(!e)throw new Error("[@mantine/core] MantineProvider was not found in tree");return e}function tg(){return st().cssVariablesResolver}function ng(){return st().classNamesPrefix}function pr(){return st().getStyleNonce}function og(){return st().withStaticClasses}function rg(){return st().headless}function sg(){var e;return(e=st().stylesTransform)==null?void 0:e.sx}function ag(){var e;return(e=st().stylesTransform)==null?void 0:e.styles}function ig(e){return/^#?([0-9A-F]{3}){1,2}([0-9A-F]{2})?$/i.test(e)}function lg(e){let t=e.replace("#","");if(t.length===3){const a=t.split("");t=[a[0],a[0],a[1],a[1],a[2],a[2]].join("")}if(t.length===8){const a=parseInt(t.slice(6,8),16)/255;return{r:parseInt(t.slice(0,2),16),g:parseInt(t.slice(2,4),16),b:parseInt(t.slice(4,6),16),a}}const n=parseInt(t,16),o=n>>16&255,r=n>>8&255,s=n&255;return{r:o,g:r,b:s,a:1}}function cg(e){const[t,n,o,r]=e.replace(/[^0-9,./]/g,"").split(/[/,]/).map(Number);return{r:t,g:n,b:o,a:r||1}}function dg(e){const t=/^hsla?\(\s*(\d+)\s*,\s*(\d+%)\s*,\s*(\d+%)\s*(,\s*(0?\.\d+|\d+(\.\d+)?))?\s*\)$/i,n=e.match(t);if(!n)return{r:0,g:0,b:0,a:1};const o=parseInt(n[1],10),r=parseInt(n[2],10)/100,s=parseInt(n[3],10)/100,a=n[5]?parseFloat(n[5]):void 0,i=(1-Math.abs(2*s-1))*r,l=o/60,d=i*(1-Math.abs(l%2-1)),f=s-i/2;let p,m,h;return l>=0&&l<1?(p=i,m=d,h=0):l>=1&&l<2?(p=d,m=i,h=0):l>=2&&l<3?(p=0,m=i,h=d):l>=3&&l<4?(p=0,m=d,h=i):l>=4&&l<5?(p=d,m=0,h=i):(p=i,m=0,h=d),{r:Math.round((p+f)*255),g:Math.round((m+f)*255),b:Math.round((h+f)*255),a:a||1}}function mr(e){return ig(e)?lg(e):e.startsWith("rgb")?cg(e):e.startsWith("hsl")?dg(e):{r:0,g:0,b:0,a:1}}function rn(e,t){if(e.startsWith("var("))return`color-mix(in srgb, ${e}, black ${t*100}%)`;const{r:n,g:o,b:r,a:s}=mr(e),a=1-t,i=l=>Math.round(l*a);return`rgba(${i(n)}, ${i(o)}, ${i(r)}, ${s})`}function Lt(e,t){return typeof e.primaryShade=="number"?e.primaryShade:t==="dark"?e.primaryShade.dark:e.primaryShade.light}function yo(e){return e<=.03928?e/12.92:((e+.055)/1.055)**2.4}function ug(e){const t=e.match(/oklch\((.*?)%\s/);return t?parseFloat(t[1]):null}function fg(e){if(e.startsWith("oklch("))return(ug(e)||0)/100;const{r:t,g:n,b:o}=mr(e),r=t/255,s=n/255,a=o/255,i=yo(r),l=yo(s),d=yo(a);return .2126*i+.7152*l+.0722*d}function Et(e,t=.179){return e.startsWith("var(")?!1:fg(e)>t}function vt({color:e,theme:t,colorScheme:n}){if(typeof e!="string")throw new Error(`[@mantine/core] Failed to parse color. Expected color to be a string, instead got ${typeof e}`);if(e==="bright")return{color:e,value:n==="dark"?t.white:t.black,shade:void 0,isThemeColor:!1,isLight:Et(n==="dark"?t.white:t.black,t.luminanceThreshold),variable:"--mantine-color-bright"};if(e==="dimmed")return{color:e,value:n==="dark"?t.colors.dark[2]:t.colors.gray[7],shade:void 0,isThemeColor:!1,isLight:Et(n==="dark"?t.colors.dark[2]:t.colors.gray[6],t.luminanceThreshold),variable:"--mantine-color-dimmed"};if(e==="white"||e==="black")return{color:e,value:e==="white"?t.white:t.black,shade:void 0,isThemeColor:!1,isLight:Et(e==="white"?t.white:t.black,t.luminanceThreshold),variable:`--mantine-color-${e}`};const[o,r]=e.split("."),s=r?Number(r):void 0,a=o in t.colors;if(a){const i=s!==void 0?t.colors[o][s]:t.colors[o][Lt(t,n||"light")];return{color:o,value:i,shade:s,isThemeColor:a,isLight:Et(i,t.luminanceThreshold),variable:r?`--mantine-color-${o}-${s}`:`--mantine-color-${o}-filled`}}return{color:e,value:e,isThemeColor:a,isLight:Et(e,t.luminanceThreshold),shade:s,variable:void 0}}function $e(e,t){const n=vt({color:e||t.primaryColor,theme:t});return n.variable?`var(${n.variable})`:e}function Fo(e,t){const n={from:(e==null?void 0:e.from)||t.defaultGradient.from,to:(e==null?void 0:e.to)||t.defaultGradient.to,deg:(e==null?void 0:e.deg)||t.defaultGradient.deg||0},o=$e(n.from,t),r=$e(n.to,t);return`linear-gradient(${n.deg}deg, ${o} 0%, ${r} 100%)`}function ke(e,t){if(typeof e!="string"||t>1||t<0)return"rgba(0, 0, 0, 1)";if(e.startsWith("var(")){const s=(1-t)*100;return`color-mix(in srgb, ${e}, transparent ${s}%)`}if(e.startsWith("oklch"))return e.includes("/")?e.replace(/\/\s*[\d.]+\s*\)/,`/ ${t})`):e.replace(")",` / ${t})`);const{r:n,g:o,b:r}=mr(e);return`rgba(${n}, ${o}, ${r}, ${t})`}const dt=ke,pg=({color:e,theme:t,variant:n,gradient:o,autoContrast:r})=>{const s=vt({color:e,theme:t}),a=typeof r=="boolean"?r:t.autoContrast;if(n==="filled"){const i=a&&s.isLight?"var(--mantine-color-black)":"var(--mantine-color-white)";return s.isThemeColor?s.shade===void 0?{background:`var(--mantine-color-${e}-filled)`,hover:`var(--mantine-color-${e}-filled-hover)`,color:i,border:`${j(1)} solid transparent`}:{background:`var(--mantine-color-${s.color}-${s.shade})`,hover:`var(--mantine-color-${s.color}-${s.shade===9?8:s.shade+1})`,color:i,border:`${j(1)} solid transparent`}:{background:e,hover:rn(e,.1),color:i,border:`${j(1)} solid transparent`}}if(n==="light"){if(s.isThemeColor){if(s.shade===void 0)return{background:`var(--mantine-color-${e}-light)`,hover:`var(--mantine-color-${e}-light-hover)`,color:`var(--mantine-color-${e}-light-color)`,border:`${j(1)} solid transparent`};const i=t.colors[s.color][s.shade];return{background:ke(i,.1),hover:ke(i,.12),color:`var(--mantine-color-${s.color}-${Math.min(s.shade,6)})`,border:`${j(1)} solid transparent`}}return{background:ke(e,.1),hover:ke(e,.12),color:e,border:`${j(1)} solid transparent`}}if(n==="outline")return s.isThemeColor?s.shade===void 0?{background:"transparent",hover:`var(--mantine-color-${e}-outline-hover)`,color:`var(--mantine-color-${e}-outline)`,border:`${j(1)} solid var(--mantine-color-${e}-outline)`}:{background:"transparent",hover:ke(t.colors[s.color][s.shade],.05),color:`var(--mantine-color-${s.color}-${s.shade})`,border:`${j(1)} solid var(--mantine-color-${s.color}-${s.shade})`}:{background:"transparent",hover:ke(e,.05),color:e,border:`${j(1)} solid ${e}`};if(n==="subtle"){if(s.isThemeColor){if(s.shade===void 0)return{background:"transparent",hover:`var(--mantine-color-${e}-light-hover)`,color:`var(--mantine-color-${e}-light-color)`,border:`${j(1)} solid transparent`};const i=t.colors[s.color][s.shade];return{background:"transparent",hover:ke(i,.12),color:`var(--mantine-color-${s.color}-${Math.min(s.shade,6)})`,border:`${j(1)} solid transparent`}}return{background:"transparent",hover:ke(e,.12),color:e,border:`${j(1)} solid transparent`}}return n==="transparent"?s.isThemeColor?s.shade===void 0?{background:"transparent",hover:"transparent",color:`var(--mantine-color-${e}-light-color)`,border:`${j(1)} solid transparent`}:{background:"transparent",hover:"transparent",color:`var(--mantine-color-${s.color}-${Math.min(s.shade,6)})`,border:`${j(1)} solid transparent`}:{background:"transparent",hover:"transparent",color:e,border:`${j(1)} solid transparent`}:n==="white"?s.isThemeColor?s.shade===void 0?{background:"var(--mantine-color-white)",hover:rn(t.white,.01),color:`var(--mantine-color-${e}-filled)`,border:`${j(1)} solid transparent`}:{background:"var(--mantine-color-white)",hover:rn(t.white,.01),color:`var(--mantine-color-${s.color}-${s.shade})`,border:`${j(1)} solid transparent`}:{background:"var(--mantine-color-white)",hover:rn(t.white,.01),color:e,border:`${j(1)} solid transparent`}:n==="gradient"?{background:Fo(o,t),hover:Fo(o,t),color:"var(--mantine-color-white)",border:"none"}:n==="default"?{background:"var(--mantine-color-default)",hover:"var(--mantine-color-default-hover)",color:"var(--mantine-color-default-color)",border:`${j(1)} solid var(--mantine-color-default-border)`}:{}},mg={dark:["#C9C9C9","#b8b8b8","#828282","#696969","#424242","#3b3b3b","#2e2e2e","#242424","#1f1f1f","#141414"],gray:["#f8f9fa","#f1f3f5","#e9ecef","#dee2e6","#ced4da","#adb5bd","#868e96","#495057","#343a40","#212529"],red:["#fff5f5","#ffe3e3","#ffc9c9","#ffa8a8","#ff8787","#ff6b6b","#fa5252","#f03e3e","#e03131","#c92a2a"],pink:["#fff0f6","#ffdeeb","#fcc2d7","#faa2c1","#f783ac","#f06595","#e64980","#d6336c","#c2255c","#a61e4d"],grape:["#f8f0fc","#f3d9fa","#eebefa","#e599f7","#da77f2","#cc5de8","#be4bdb","#ae3ec9","#9c36b5","#862e9c"],violet:["#f3f0ff","#e5dbff","#d0bfff","#b197fc","#9775fa","#845ef7","#7950f2","#7048e8","#6741d9","#5f3dc4"],indigo:["#edf2ff","#dbe4ff","#bac8ff","#91a7ff","#748ffc","#5c7cfa","#4c6ef5","#4263eb","#3b5bdb","#364fc7"],blue:["#e7f5ff","#d0ebff","#a5d8ff","#74c0fc","#4dabf7","#339af0","#228be6","#1c7ed6","#1971c2","#1864ab"],cyan:["#e3fafc","#c5f6fa","#99e9f2","#66d9e8","#3bc9db","#22b8cf","#15aabf","#1098ad","#0c8599","#0b7285"],teal:["#e6fcf5","#c3fae8","#96f2d7","#63e6be","#38d9a9","#20c997","#12b886","#0ca678","#099268","#087f5b"],green:["#ebfbee","#d3f9d8","#b2f2bb","#8ce99a","#69db7c","#51cf66","#40c057","#37b24d","#2f9e44","#2b8a3e"],lime:["#f4fce3","#e9fac8","#d8f5a2","#c0eb75","#a9e34b","#94d82d","#82c91e","#74b816","#66a80f","#5c940d"],yellow:["#fff9db","#fff3bf","#ffec99","#ffe066","#ffd43b","#fcc419","#fab005","#f59f00","#f08c00","#e67700"],orange:["#fff4e6","#ffe8cc","#ffd8a8","#ffc078","#ffa94d","#ff922b","#fd7e14","#f76707","#e8590c","#d9480f"]},Ds="-apple-system, BlinkMacSystemFont, Segoe UI, Roboto, Helvetica, Arial, sans-serif, Apple Color Emoji, Segoe UI Emoji",hr={scale:1,fontSmoothing:!0,focusRing:"auto",white:"#fff",black:"#000",colors:mg,primaryShade:{light:6,dark:8},primaryColor:"blue",variantColorResolver:pg,autoContrast:!1,luminanceThreshold:.3,fontFamily:Ds,fontFamilyMonospace:"ui-monospace, SFMono-Regular, Menlo, Monaco, Consolas, Liberation Mono, Courier New, monospace",respectReducedMotion:!1,cursorType:"default",defaultGradient:{from:"blue",to:"cyan",deg:45},defaultRadius:"sm",activeClassName:"mantine-active",focusClassName:"",headings:{fontFamily:Ds,fontWeight:"700",textWrap:"wrap",sizes:{h1:{fontSize:j(34),lineHeight:"1.3"},h2:{fontSize:j(26),lineHeight:"1.35"},h3:{fontSize:j(22),lineHeight:"1.4"},h4:{fontSize:j(18),lineHeight:"1.45"},h5:{fontSize:j(16),lineHeight:"1.5"},h6:{fontSize:j(14),lineHeight:"1.5"}}},fontSizes:{xs:j(12),sm:j(14),md:j(16),lg:j(18),xl:j(20)},lineHeights:{xs:"1.4",sm:"1.45",md:"1.55",lg:"1.6",xl:"1.65"},radius:{xs:j(2),sm:j(4),md:j(8),lg:j(16),xl:j(32)},spacing:{xs:j(10),sm:j(12),md:j(16),lg:j(20),xl:j(32)},breakpoints:{xs:"36em",sm:"48em",md:"62em",lg:"75em",xl:"88em"},shadows:{xs:`0 ${j(1)} ${j(3)} rgba(0, 0, 0, 0.05), 0 ${j(1)} ${j(2)} rgba(0, 0, 0, 0.1)`,sm:`0 ${j(1)} ${j(3)} rgba(0, 0, 0, 0.05), rgba(0, 0, 0, 0.05) 0 ${j(10)} ${j(15)} ${j(-5)}, rgba(0, 0, 0, 0.04) 0 ${j(7)} ${j(7)} ${j(-5)}`,md:`0 ${j(1)} ${j(3)} rgba(0, 0, 0, 0.05), rgba(0, 0, 0, 0.05) 0 ${j(20)} ${j(25)} ${j(-5)}, rgba(0, 0, 0, 0.04) 0 ${j(10)} ${j(10)} ${j(-5)}`,lg:`0 ${j(1)} ${j(3)} rgba(0, 0, 0, 0.05), rgba(0, 0, 0, 0.05) 0 ${j(28)} ${j(23)} ${j(-7)}, rgba(0, 0, 0, 0.04) 0 ${j(12)} ${j(12)} ${j(-7)}`,xl:`0 ${j(1)} ${j(3)} rgba(0, 0, 0, 0.05), rgba(0, 0, 0, 0.05) 0 ${j(36)} ${j(28)} ${j(-7)}, rgba(0, 0, 0, 0.04) 0 ${j(17)} ${j(17)} ${j(-7)}`},other:{},components:{}};function Bs(e){return e==="auto"||e==="dark"||e==="light"}function hg({key:e="mantine-color-scheme-value"}={}){let t;return{get:n=>{if(typeof window>"u")return n;try{const o=window.localStorage.getItem(e);return Bs(o)?o:n}catch{return n}},set:n=>{try{window.localStorage.setItem(e,n)}catch(o){console.warn("[@mantine/core] Local storage color scheme manager was unable to save color scheme.",o)}},subscribe:n=>{t=o=>{o.storageArea===window.localStorage&&o.key===e&&Bs(o.newValue)&&n(o.newValue)},window.addEventListener("storage",t)},unsubscribe:()=>{window.removeEventListener("storage",t)},clear:()=>{window.localStorage.removeItem(e)}}}const gg="[@mantine/core] MantineProvider: Invalid theme.primaryColor, it accepts only key of theme.colors, learn more  https://mantine.dev/theming/colors/#primary-color",Fs="[@mantine/core] MantineProvider: Invalid theme.primaryShade, it accepts only 0-9 integers or an object { light: 0-9, dark: 0-9 }";function xo(e){return e<0||e>9?!1:parseInt(e.toString(),10)===e}function zs(e){if(!(e.primaryColor in e.colors))throw new Error(gg);if(typeof e.primaryShade=="object"&&(!xo(e.primaryShade.dark)||!xo(e.primaryShade.light)))throw new Error(Fs);if(typeof e.primaryShade=="number"&&!xo(e.primaryShade))throw new Error(Fs)}function bg(e,t){var o;if(!t)return zs(e),e;const n=ur(e,t);return t.fontFamily&&!((o=t.headings)!=null&&o.fontFamily)&&(n.headings.fontFamily=t.fontFamily),zs(n),n}const gr=u.createContext(null),vg=()=>u.useContext(gr)||hr;function he(){const e=u.useContext(gr);if(!e)throw new Error("@mantine/core: MantineProvider was not found in component tree, make sure you have it in your app");return e}function sl({theme:e,children:t,inherit:n=!0}){const o=vg(),r=u.useMemo(()=>bg(n?o:hr,e),[e,o,n]);return c.jsx(gr.Provider,{value:r,children:t})}sl.displayName="@mantine/core/MantineThemeProvider";function yg(){const e=he(),t=pr(),n=Me(e.breakpoints).reduce((o,r)=>{const s=e.breakpoints[r].includes("px"),a=E1(e.breakpoints[r]),i=s?`${a-.1}px`:As(a-.1),l=s?`${a}px`:As(a);return`${o}@media (max-width: ${i}) {.mantine-visible-from-${r} {display: none !important;}}@media (min-width: ${l}) {.mantine-hidden-from-${r} {display: none !important;}}`},"");return c.jsx("style",{"data-mantine-styles":"classes",nonce:t==null?void 0:t(),dangerouslySetInnerHTML:{__html:n}})}function Co(e){return Object.entries(e).map(([t,n])=>`${t}: ${n};`).join("")}function Tt(e,t){return(Array.isArray(e)?e:[e]).reduce((o,r)=>`${r}{${o}}`,t)}function xg(e,t){const n=Co(e.variables),o=n?Tt(t,n):"",r=Co(e.dark),s=Co(e.light),a=r?Tt(t===":host"?`${t}([data-mantine-color-scheme="dark"])`:`${t}[data-mantine-color-scheme="dark"]`,r):"",i=s?Tt(t===":host"?`${t}([data-mantine-color-scheme="light"])`:`${t}[data-mantine-color-scheme="light"]`,s):"";return`${o}${a}${i}`}function al({color:e,theme:t,autoContrast:n}){return(typeof n=="boolean"?n:t.autoContrast)&&vt({color:e||t.primaryColor,theme:t}).isLight?"var(--mantine-color-black)":"var(--mantine-color-white)"}function Gs(e,t){return al({color:e.colors[e.primaryColor][Lt(e,t)],theme:e,autoContrast:null})}function sn({theme:e,color:t,colorScheme:n,name:o=t,withColorValues:r=!0}){if(!e.colors[t])return{};if(n==="light"){const i=Lt(e,"light"),l={[`--mantine-color-${o}-text`]:`var(--mantine-color-${o}-filled)`,[`--mantine-color-${o}-filled`]:`var(--mantine-color-${o}-${i})`,[`--mantine-color-${o}-filled-hover`]:`var(--mantine-color-${o}-${i===9?8:i+1})`,[`--mantine-color-${o}-light`]:dt(e.colors[t][i],.1),[`--mantine-color-${o}-light-hover`]:dt(e.colors[t][i],.12),[`--mantine-color-${o}-light-color`]:`var(--mantine-color-${o}-${i})`,[`--mantine-color-${o}-outline`]:`var(--mantine-color-${o}-${i})`,[`--mantine-color-${o}-outline-hover`]:dt(e.colors[t][i],.05)};return r?{[`--mantine-color-${o}-0`]:e.colors[t][0],[`--mantine-color-${o}-1`]:e.colors[t][1],[`--mantine-color-${o}-2`]:e.colors[t][2],[`--mantine-color-${o}-3`]:e.colors[t][3],[`--mantine-color-${o}-4`]:e.colors[t][4],[`--mantine-color-${o}-5`]:e.colors[t][5],[`--mantine-color-${o}-6`]:e.colors[t][6],[`--mantine-color-${o}-7`]:e.colors[t][7],[`--mantine-color-${o}-8`]:e.colors[t][8],[`--mantine-color-${o}-9`]:e.colors[t][9],...l}:l}const s=Lt(e,"dark"),a={[`--mantine-color-${o}-text`]:`var(--mantine-color-${o}-4)`,[`--mantine-color-${o}-filled`]:`var(--mantine-color-${o}-${s})`,[`--mantine-color-${o}-filled-hover`]:`var(--mantine-color-${o}-${s===9?8:s+1})`,[`--mantine-color-${o}-light`]:dt(e.colors[t][Math.max(0,s-2)],.15),[`--mantine-color-${o}-light-hover`]:dt(e.colors[t][Math.max(0,s-2)],.2),[`--mantine-color-${o}-light-color`]:`var(--mantine-color-${o}-${Math.max(s-5,0)})`,[`--mantine-color-${o}-outline`]:`var(--mantine-color-${o}-${Math.max(s-4,0)})`,[`--mantine-color-${o}-outline-hover`]:dt(e.colors[t][Math.max(s-4,0)],.05)};return r?{[`--mantine-color-${o}-0`]:e.colors[t][0],[`--mantine-color-${o}-1`]:e.colors[t][1],[`--mantine-color-${o}-2`]:e.colors[t][2],[`--mantine-color-${o}-3`]:e.colors[t][3],[`--mantine-color-${o}-4`]:e.colors[t][4],[`--mantine-color-${o}-5`]:e.colors[t][5],[`--mantine-color-${o}-6`]:e.colors[t][6],[`--mantine-color-${o}-7`]:e.colors[t][7],[`--mantine-color-${o}-8`]:e.colors[t][8],[`--mantine-color-${o}-9`]:e.colors[t][9],...a}:a}function Cg(e){return!!e&&typeof e=="object"&&"mantine-virtual-color"in e}function ut(e,t,n){Me(t).forEach(o=>Object.assign(e,{[`--mantine-${n}-${o}`]:t[o]}))}const il=e=>{const t=Lt(e,"light"),n=e.defaultRadius in e.radius?e.radius[e.defaultRadius]:j(e.defaultRadius),o={variables:{"--mantine-scale":e.scale.toString(),"--mantine-cursor-type":e.cursorType,"--mantine-color-scheme":"light dark","--mantine-webkit-font-smoothing":e.fontSmoothing?"antialiased":"unset","--mantine-moz-font-smoothing":e.fontSmoothing?"grayscale":"unset","--mantine-color-white":e.white,"--mantine-color-black":e.black,"--mantine-line-height":e.lineHeights.md,"--mantine-font-family":e.fontFamily,"--mantine-font-family-monospace":e.fontFamilyMonospace,"--mantine-font-family-headings":e.headings.fontFamily,"--mantine-heading-font-weight":e.headings.fontWeight,"--mantine-heading-text-wrap":e.headings.textWrap,"--mantine-radius-default":n,"--mantine-primary-color-filled":`var(--mantine-color-${e.primaryColor}-filled)`,"--mantine-primary-color-filled-hover":`var(--mantine-color-${e.primaryColor}-filled-hover)`,"--mantine-primary-color-light":`var(--mantine-color-${e.primaryColor}-light)`,"--mantine-primary-color-light-hover":`var(--mantine-color-${e.primaryColor}-light-hover)`,"--mantine-primary-color-light-color":`var(--mantine-color-${e.primaryColor}-light-color)`},light:{"--mantine-primary-color-contrast":Gs(e,"light"),"--mantine-color-bright":"var(--mantine-color-black)","--mantine-color-text":e.black,"--mantine-color-body":e.white,"--mantine-color-error":"var(--mantine-color-red-6)","--mantine-color-placeholder":"var(--mantine-color-gray-5)","--mantine-color-anchor":`var(--mantine-color-${e.primaryColor}-${t})`,"--mantine-color-default":"var(--mantine-color-white)","--mantine-color-default-hover":"var(--mantine-color-gray-0)","--mantine-color-default-color":"var(--mantine-color-black)","--mantine-color-default-border":"var(--mantine-color-gray-4)","--mantine-color-dimmed":"var(--mantine-color-gray-6)"},dark:{"--mantine-primary-color-contrast":Gs(e,"dark"),"--mantine-color-bright":"var(--mantine-color-white)","--mantine-color-text":"var(--mantine-color-dark-0)","--mantine-color-body":"var(--mantine-color-dark-7)","--mantine-color-error":"var(--mantine-color-red-8)","--mantine-color-placeholder":"var(--mantine-color-dark-3)","--mantine-color-anchor":`var(--mantine-color-${e.primaryColor}-4)`,"--mantine-color-default":"var(--mantine-color-dark-6)","--mantine-color-default-hover":"var(--mantine-color-dark-5)","--mantine-color-default-color":"var(--mantine-color-white)","--mantine-color-default-border":"var(--mantine-color-dark-4)","--mantine-color-dimmed":"var(--mantine-color-dark-2)"}};ut(o.variables,e.breakpoints,"breakpoint"),ut(o.variables,e.spacing,"spacing"),ut(o.variables,e.fontSizes,"font-size"),ut(o.variables,e.lineHeights,"line-height"),ut(o.variables,e.shadows,"shadow"),ut(o.variables,e.radius,"radius"),e.colors[e.primaryColor].forEach((s,a)=>{o.variables[`--mantine-primary-color-${a}`]=`var(--mantine-color-${e.primaryColor}-${a})`}),Me(e.colors).forEach(s=>{const a=e.colors[s];if(Cg(a)){Object.assign(o.light,sn({theme:e,name:a.name,color:a.light,colorScheme:"light",withColorValues:!0})),Object.assign(o.dark,sn({theme:e,name:a.name,color:a.dark,colorScheme:"dark",withColorValues:!0}));return}a.forEach((i,l)=>{o.variables[`--mantine-color-${s}-${l}`]=i}),Object.assign(o.light,sn({theme:e,color:s,colorScheme:"light",withColorValues:!1})),Object.assign(o.dark,sn({theme:e,color:s,colorScheme:"dark",withColorValues:!1}))});const r=e.headings.sizes;return Me(r).forEach(s=>{o.variables[`--mantine-${s}-font-size`]=r[s].fontSize,o.variables[`--mantine-${s}-line-height`]=r[s].lineHeight,o.variables[`--mantine-${s}-font-weight`]=r[s].fontWeight||e.headings.fontWeight}),o};function wg({theme:e,generator:t}){const n=il(e),o=t==null?void 0:t(e);return o?ur(n,o):n}const wo=il(hr);function kg(e){const t={variables:{},light:{},dark:{}};return Me(e.variables).forEach(n=>{wo.variables[n]!==e.variables[n]&&(t.variables[n]=e.variables[n])}),Me(e.light).forEach(n=>{wo.light[n]!==e.light[n]&&(t.light[n]=e.light[n])}),Me(e.dark).forEach(n=>{wo.dark[n]!==e.dark[n]&&(t.dark[n]=e.dark[n])}),t}function Sg(e){return`
  ${e}[data-mantine-color-scheme="dark"] { --mantine-color-scheme: dark; }
  ${e}[data-mantine-color-scheme="light"] { --mantine-color-scheme: light; }
`}function ll({cssVariablesSelector:e,deduplicateCssVariables:t}){const n=he(),o=pr(),r=tg(),s=wg({theme:n,generator:r}),a=e===":root"&&t,i=a?kg(s):s,l=xg(i,e);return l?c.jsx("style",{"data-mantine-styles":!0,nonce:o==null?void 0:o(),dangerouslySetInnerHTML:{__html:`${l}${a?"":Sg(e)}`}}):null}ll.displayName="@mantine/CssVariables";function jg(){const e=console.error;console.error=(...t)=>{t.length>1&&typeof t[0]=="string"&&t[0].toLowerCase().includes("extra attributes from the server")&&typeof t[1]=="string"&&t[1].toLowerCase().includes("data-mantine-color-scheme")||e(...t)}}function ft(e,t){var o;const n=e!=="auto"?e:window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light";(o=t())==null||o.setAttribute("data-mantine-color-scheme",n)}function Mg({manager:e,defaultColorScheme:t,getRootElement:n,forceColorScheme:o}){const r=u.useRef(),[s,a]=u.useState(()=>e.get(t)),i=o||s,l=u.useCallback(f=>{o||(ft(f,n),a(f),e.set(f))},[e.set,i,o]),d=u.useCallback(()=>{a(t),ft(t,n),e.clear()},[e.clear,t]);return u.useEffect(()=>(e.subscribe(l),e.unsubscribe),[e.subscribe,e.unsubscribe]),An(()=>{ft(e.get(t),n)},[]),u.useEffect(()=>{var p;if(o)return ft(o,n),()=>{};o===void 0&&ft(s,n),r.current=window.matchMedia("(prefers-color-scheme: dark)");const f=m=>{s==="auto"&&ft(m.matches?"dark":"light",n)};return(p=r.current)==null||p.addEventListener("change",f),()=>{var m;return(m=r.current)==null?void 0:m.removeEventListener("change",f)}},[s,o]),{colorScheme:i,setColorScheme:l,clearColorScheme:d}}function Eg({respectReducedMotion:e,getRootElement:t}){An(()=>{var n;e&&((n=t())==null||n.setAttribute("data-respect-reduced-motion","true"))},[e])}jg();function cl({theme:e,children:t,getStyleNonce:n,withStaticClasses:o=!0,withGlobalClasses:r=!0,deduplicateCssVariables:s=!0,withCssVariables:a=!0,cssVariablesSelector:i=":root",classNamesPrefix:l="mantine",colorSchemeManager:d=hg(),defaultColorScheme:f="light",getRootElement:p=()=>document.documentElement,cssVariablesResolver:m,forceColorScheme:h,stylesTransform:g}){const{colorScheme:b,setColorScheme:v,clearColorScheme:y}=Mg({defaultColorScheme:f,forceColorScheme:h,manager:d,getRootElement:p});return Eg({respectReducedMotion:(e==null?void 0:e.respectReducedMotion)||!1,getRootElement:p}),c.jsx(rl.Provider,{value:{colorScheme:b,setColorScheme:v,clearColorScheme:y,getRootElement:p,classNamesPrefix:l,getStyleNonce:n,cssVariablesResolver:m,cssVariablesSelector:i,withStaticClasses:o,stylesTransform:g},children:c.jsxs(sl,{theme:e,children:[a&&c.jsx(ll,{cssVariablesSelector:i,deduplicateCssVariables:s}),r&&c.jsx(yg,{}),t]})})}cl.displayName="@mantine/core/MantineProvider";function Tg({classNames:e,styles:t,props:n,stylesCtx:o}){const r=he();return{resolvedClassNames:Vn({theme:r,classNames:e,props:n,stylesCtx:o||void 0}),resolvedStyles:Cn({theme:r,styles:t,props:n,stylesCtx:o||void 0})}}const Rg={always:"mantine-focus-always",auto:"mantine-focus-auto",never:"mantine-focus-never"};function $g({theme:e,options:t,unstyled:n}){return Ve((t==null?void 0:t.focusable)&&!n&&(e.focusClassName||Rg[e.focusRing]),(t==null?void 0:t.active)&&!n&&e.activeClassName)}function Ig({selector:e,stylesCtx:t,options:n,props:o,theme:r}){return Vn({theme:r,classNames:n==null?void 0:n.classNames,props:(n==null?void 0:n.props)||o,stylesCtx:t})[e]}function Zs({selector:e,stylesCtx:t,theme:n,classNames:o,props:r}){return Vn({theme:n,classNames:o,props:r,stylesCtx:t})[e]}function Pg({rootSelector:e,selector:t,className:n}){return e===t?n:void 0}function Ng({selector:e,classes:t,unstyled:n}){return n?void 0:t[e]}function _g({themeName:e,classNamesPrefix:t,selector:n,withStaticClass:o}){return o===!1?[]:e.map(r=>`${t}-${r}-${n}`)}function Hg({themeName:e,theme:t,selector:n,props:o,stylesCtx:r}){return e.map(s=>{var a,i;return(i=Vn({theme:t,classNames:(a=t.components[s])==null?void 0:a.classNames,props:o,stylesCtx:r}))==null?void 0:i[n]})}function Lg({options:e,classes:t,selector:n,unstyled:o}){return e!=null&&e.variant&&!o?t[`${n}--${e.variant}`]:void 0}function Ag({theme:e,options:t,themeName:n,selector:o,classNamesPrefix:r,classNames:s,classes:a,unstyled:i,className:l,rootSelector:d,props:f,stylesCtx:p,withStaticClasses:m,headless:h,transformedStyles:g}){return Ve($g({theme:e,options:t,unstyled:i||h}),Hg({theme:e,themeName:n,selector:o,props:f,stylesCtx:p}),Lg({options:t,classes:a,selector:o,unstyled:i}),Zs({selector:o,stylesCtx:p,theme:e,classNames:s,props:f}),Zs({selector:o,stylesCtx:p,theme:e,classNames:g,props:f}),Ig({selector:o,stylesCtx:p,options:t,props:f,theme:e}),Pg({rootSelector:d,selector:o,className:l}),Ng({selector:o,classes:a,unstyled:i||h}),m&&!h&&_g({themeName:n,classNamesPrefix:r,selector:o,withStaticClass:t==null?void 0:t.withStaticClass}),t==null?void 0:t.className)}function Vg({theme:e,themeName:t,props:n,stylesCtx:o,selector:r}){return t.map(s=>{var a;return Cn({theme:e,styles:(a=e.components[s])==null?void 0:a.styles,props:n,stylesCtx:o})[r]}).reduce((s,a)=>({...s,...a}),{})}function zo({style:e,theme:t}){return Array.isArray(e)?[...e].reduce((n,o)=>({...n,...zo({style:o,theme:t})}),{}):typeof e=="function"?e(t):e??{}}function Og(e){return e.reduce((t,n)=>(n&&Object.keys(n).forEach(o=>{t[o]={...t[o],...Hn(n[o])}}),t),{})}function Dg({vars:e,varsResolver:t,theme:n,props:o,stylesCtx:r,selector:s,themeName:a,headless:i}){var l;return(l=Og([i?{}:t==null?void 0:t(n,o,r),...a.map(d=>{var f,p,m;return(m=(p=(f=n.components)==null?void 0:f[d])==null?void 0:p.vars)==null?void 0:m.call(p,n,o,r)}),e==null?void 0:e(n,o,r)]))==null?void 0:l[s]}function Bg({theme:e,themeName:t,selector:n,options:o,props:r,stylesCtx:s,rootSelector:a,styles:i,style:l,vars:d,varsResolver:f,headless:p,withStylesTransform:m}){return{...!m&&Vg({theme:e,themeName:t,props:r,stylesCtx:s,selector:n}),...!m&&Cn({theme:e,styles:i,props:r,stylesCtx:s})[n],...!m&&Cn({theme:e,styles:o==null?void 0:o.styles,props:(o==null?void 0:o.props)||r,stylesCtx:s})[n],...Dg({theme:e,props:r,stylesCtx:s,vars:d,varsResolver:f,selector:n,themeName:t,headless:p}),...a===n?zo({style:l,theme:e}):null,...zo({style:o==null?void 0:o.style,theme:e})}}function Fg({props:e,stylesCtx:t,themeName:n}){var a;const o=he(),r=(a=ag())==null?void 0:a();return{getTransformedStyles:i=>r?[...i.map(d=>r(d,{props:e,theme:o,ctx:t})),...n.map(d=>{var f;return r((f=o.components[d])==null?void 0:f.styles,{props:e,theme:o,ctx:t})})].filter(Boolean):[],withStylesTransform:!!r}}function Y({name:e,classes:t,props:n,stylesCtx:o,className:r,style:s,rootSelector:a="root",unstyled:i,classNames:l,styles:d,vars:f,varsResolver:p}){const m=he(),h=ng(),g=og(),b=rg(),v=(Array.isArray(e)?e:[e]).filter(x=>x),{withStylesTransform:y,getTransformedStyles:C}=Fg({props:n,stylesCtx:o,themeName:v});return(x,w)=>({className:Ag({theme:m,options:w,themeName:v,selector:x,classNamesPrefix:h,classNames:l,classes:t,unstyled:i,className:r,rootSelector:a,props:n,stylesCtx:o,withStaticClasses:g,headless:b,transformedStyles:C([w==null?void 0:w.styles,d])}),style:Bg({theme:m,themeName:v,selector:x,options:w,props:n,stylesCtx:o,rootSelector:a,styles:d,style:s,vars:f,varsResolver:p,headless:b,withStylesTransform:y})})}function zg(e,t){return typeof e=="boolean"?e:t.autoContrast}function L(e,t,n){var a;const o=he(),r=(a=o.components[e])==null?void 0:a.defaultProps,s=typeof r=="function"?r(o):r;return{...t,...s,...Hn(n)}}function ko(e){return Me(e).reduce((t,n)=>e[n]!==void 0?`${t}${j1(n)}:${e[n]};`:t,"").trim()}function Gg({selector:e,styles:t,media:n,container:o}){const r=t?ko(t):"",s=Array.isArray(n)?n.map(i=>`@media${i.query}{${e}{${ko(i.styles)}}}`):[],a=Array.isArray(o)?o.map(i=>`@container ${i.query}{${e}{${ko(i.styles)}}}`):[];return`${r?`${e}{${r}}`:""}${s.join("")}${a.join("")}`.trim()}function dl(e){const t=pr();return c.jsx("style",{"data-mantine-styles":"inline",nonce:t==null?void 0:t(),dangerouslySetInnerHTML:{__html:Gg(e)}})}function On(e){const{m:t,mx:n,my:o,mt:r,mb:s,ml:a,mr:i,me:l,ms:d,p:f,px:p,py:m,pt:h,pb:g,pl:b,pr:v,pe:y,ps:C,bd:x,bg:w,c:E,opacity:k,ff:T,fz:M,fw:N,lts:V,ta:H,lh:z,fs:W,tt:$,td:_,w:I,miw:S,maw:R,h:D,mih:P,mah:B,bgsz:X,bgp:ne,bgr:oe,bga:q,pos:ee,top:se,left:we,bottom:le,right:qe,inset:St,display:it,flex:lt,hiddenFrom:de,visibleFrom:eo,lightHidden:to,darkHidden:Xt,sx:Qt,...Jt}=e;return{styleProps:Hn({m:t,mx:n,my:o,mt:r,mb:s,ml:a,mr:i,me:l,ms:d,p:f,px:p,py:m,pt:h,pb:g,pl:b,pr:v,pe:y,ps:C,bd:x,bg:w,c:E,opacity:k,ff:T,fz:M,fw:N,lts:V,ta:H,lh:z,fs:W,tt:$,td:_,w:I,miw:S,maw:R,h:D,mih:P,mah:B,bgsz:X,bgp:ne,bgr:oe,bga:q,pos:ee,top:se,left:we,bottom:le,right:qe,inset:St,display:it,flex:lt,hiddenFrom:de,visibleFrom:eo,lightHidden:to,darkHidden:Xt,sx:Qt}),rest:Jt}}const Zg={m:{type:"spacing",property:"margin"},mt:{type:"spacing",property:"marginTop"},mb:{type:"spacing",property:"marginBottom"},ml:{type:"spacing",property:"marginLeft"},mr:{type:"spacing",property:"marginRight"},ms:{type:"spacing",property:"marginInlineStart"},me:{type:"spacing",property:"marginInlineEnd"},mx:{type:"spacing",property:"marginInline"},my:{type:"spacing",property:"marginBlock"},p:{type:"spacing",property:"padding"},pt:{type:"spacing",property:"paddingTop"},pb:{type:"spacing",property:"paddingBottom"},pl:{type:"spacing",property:"paddingLeft"},pr:{type:"spacing",property:"paddingRight"},ps:{type:"spacing",property:"paddingInlineStart"},pe:{type:"spacing",property:"paddingInlineEnd"},px:{type:"spacing",property:"paddingInline"},py:{type:"spacing",property:"paddingBlock"},bd:{type:"border",property:"border"},bg:{type:"color",property:"background"},c:{type:"textColor",property:"color"},opacity:{type:"identity",property:"opacity"},ff:{type:"fontFamily",property:"fontFamily"},fz:{type:"fontSize",property:"fontSize"},fw:{type:"identity",property:"fontWeight"},lts:{type:"size",property:"letterSpacing"},ta:{type:"identity",property:"textAlign"},lh:{type:"lineHeight",property:"lineHeight"},fs:{type:"identity",property:"fontStyle"},tt:{type:"identity",property:"textTransform"},td:{type:"identity",property:"textDecoration"},w:{type:"spacing",property:"width"},miw:{type:"spacing",property:"minWidth"},maw:{type:"spacing",property:"maxWidth"},h:{type:"spacing",property:"height"},mih:{type:"spacing",property:"minHeight"},mah:{type:"spacing",property:"maxHeight"},bgsz:{type:"size",property:"backgroundSize"},bgp:{type:"identity",property:"backgroundPosition"},bgr:{type:"identity",property:"backgroundRepeat"},bga:{type:"identity",property:"backgroundAttachment"},pos:{type:"identity",property:"position"},top:{type:"identity",property:"top"},left:{type:"size",property:"left"},bottom:{type:"size",property:"bottom"},right:{type:"size",property:"right"},inset:{type:"size",property:"inset"},display:{type:"identity",property:"display"},flex:{type:"identity",property:"flex"}};function br(e,t){const n=vt({color:e,theme:t});return n.color==="dimmed"?"var(--mantine-color-dimmed)":n.color==="bright"?"var(--mantine-color-bright)":n.variable?`var(${n.variable})`:n.color}function Ug(e,t){const n=vt({color:e,theme:t});return n.isThemeColor&&n.shade===void 0?`var(--mantine-color-${n.color}-text)`:br(e,t)}function Wg(e,t){if(typeof e=="number")return j(e);if(typeof e=="string"){const[n,o,...r]=e.split(" ").filter(a=>a.trim()!=="");let s=`${j(n)}`;return o&&(s+=` ${o}`),r.length>0&&(s+=` ${br(r.join(" "),t)}`),s.trim()}return e}const Us={text:"var(--mantine-font-family)",mono:"var(--mantine-font-family-monospace)",monospace:"var(--mantine-font-family-monospace)",heading:"var(--mantine-font-family-headings)",headings:"var(--mantine-font-family-headings)"};function Kg(e){return typeof e=="string"&&e in Us?Us[e]:e}const qg=["h1","h2","h3","h4","h5","h6"];function Yg(e,t){return typeof e=="string"&&e in t.fontSizes?`var(--mantine-font-size-${e})`:typeof e=="string"&&qg.includes(e)?`var(--mantine-${e}-font-size)`:typeof e=="number"||typeof e=="string"?j(e):e}function Xg(e){return e}const Qg=["h1","h2","h3","h4","h5","h6"];function Jg(e,t){return typeof e=="string"&&e in t.lineHeights?`var(--mantine-line-height-${e})`:typeof e=="string"&&Qg.includes(e)?`var(--mantine-${e}-line-height)`:e}function eb(e){return typeof e=="number"?j(e):e}function tb(e,t){if(typeof e=="number")return j(e);if(typeof e=="string"){const n=e.replace("-","");if(!(n in t.spacing))return j(e);const o=`--mantine-spacing-${n}`;return e.startsWith("-")?`calc(var(${o}) * -1)`:`var(${o})`}return e}const So={color:br,textColor:Ug,fontSize:Yg,spacing:tb,identity:Xg,size:eb,lineHeight:Jg,fontFamily:Kg,border:Wg};function Ws(e){return e.replace("(min-width: ","").replace("em)","")}function nb({media:e,...t}){const o=Object.keys(e).sort((r,s)=>Number(Ws(r))-Number(Ws(s))).map(r=>({query:r,styles:e[r]}));return{...t,media:o}}function ob(e){if(typeof e!="object"||e===null)return!1;const t=Object.keys(e);return!(t.length===1&&t[0]==="base")}function rb(e){return typeof e=="object"&&e!==null?"base"in e?e.base:void 0:e}function sb(e){return typeof e=="object"&&e!==null?Me(e).filter(t=>t!=="base"):[]}function ab(e,t){return typeof e=="object"&&e!==null&&t in e?e[t]:e}function ul({styleProps:e,data:t,theme:n}){return nb(Me(e).reduce((o,r)=>{if(r==="hiddenFrom"||r==="visibleFrom"||r==="sx")return o;const s=t[r],a=Array.isArray(s.property)?s.property:[s.property],i=rb(e[r]);if(!ob(e[r]))return a.forEach(d=>{o.inlineStyles[d]=So[s.type](i,n)}),o;o.hasResponsiveStyles=!0;const l=sb(e[r]);return a.forEach(d=>{i&&(o.styles[d]=So[s.type](i,n)),l.forEach(f=>{const p=`(min-width: ${n.breakpoints[f]})`;o.media[p]={...o.media[p],[d]:So[s.type](ab(e[r],f),n)}})}),o},{hasResponsiveStyles:!1,styles:{},inlineStyles:{},media:{}}))}function fl(){return`__m__-${u.useId().replace(/:/g,"")}`}function pl(e,t){return Array.isArray(e)?[...e].reduce((n,o)=>({...n,...pl(o,t)}),{}):typeof e=="function"?e(t):e??{}}function ml(e){return e.startsWith("data-")?e:`data-${e}`}function ib(e){return Object.keys(e).reduce((t,n)=>{const o=e[n];return o===void 0||o===""||o===!1||o===null||(t[ml(n)]=e[n]),t},{})}function hl(e){return e?typeof e=="string"?{[ml(e)]:!0}:Array.isArray(e)?[...e].reduce((t,n)=>({...t,...hl(n)}),{}):ib(e):null}function Go(e,t){return Array.isArray(e)?[...e].reduce((n,o)=>({...n,...Go(o,t)}),{}):typeof e=="function"?e(t):e??{}}function lb({theme:e,style:t,vars:n,styleProps:o}){const r=Go(t,e),s=Go(n,e);return{...r,...s,...o}}const gl=u.forwardRef(({component:e,style:t,__vars:n,className:o,variant:r,mod:s,size:a,hiddenFrom:i,visibleFrom:l,lightHidden:d,darkHidden:f,renderRoot:p,__size:m,...h},g)=>{var M;const b=he(),v=e||"div",{styleProps:y,rest:C}=On(h),x=sg(),w=(M=x==null?void 0:x())==null?void 0:M(y.sx),E=fl(),k=ul({styleProps:y,theme:b,data:Zg}),T={ref:g,style:lb({theme:b,style:t,vars:n,styleProps:k.inlineStyles}),className:Ve(o,w,{[E]:k.hasResponsiveStyles,"mantine-light-hidden":d,"mantine-dark-hidden":f,[`mantine-hidden-from-${i}`]:i,[`mantine-visible-from-${l}`]:l}),"data-variant":r,"data-size":Ki(a)?void 0:a||void 0,size:m,...hl(s),...C};return c.jsxs(c.Fragment,{children:[k.hasResponsiveStyles&&c.jsx(dl,{selector:`.${E}`,styles:k.styles,media:k.media}),typeof p=="function"?p(T):c.jsx(v,{...T})]})});gl.displayName="@mantine/core/Box";const G=gl;function bl(e){return e}function J(e){const t=u.forwardRef(e);return t.extend=bl,t.withProps=n=>{const o=u.forwardRef((r,s)=>c.jsx(t,{...n,...r,ref:s}));return o.extend=t.extend,o.displayName=`WithProps(${t.displayName})`,o},t}function fe(e){const t=u.forwardRef(e);return t.withProps=n=>{const o=u.forwardRef((r,s)=>c.jsx(t,{...n,...r,ref:s}));return o.extend=t.extend,o.displayName=`WithProps(${t.displayName})`,o},t.extend=bl,t}const cb=u.createContext({dir:"ltr",toggleDirection:()=>{},setDirection:()=>{}});function Ut(){return u.useContext(cb)}var vl={root:"m_87cf2631"};const db={__staticSelector:"UnstyledButton"},at=fe((e,t)=>{const n=L("UnstyledButton",db,e),{className:o,component:r="button",__staticSelector:s,unstyled:a,classNames:i,styles:l,style:d,...f}=n,p=Y({name:s,props:n,classes:vl,className:o,style:d,classNames:i,styles:l,unstyled:a});return c.jsx(G,{...p("root",{focusable:!0}),component:r,ref:t,type:r==="button"?"button":void 0,...f})});at.classes=vl;at.displayName="@mantine/core/UnstyledButton";var yl={root:"m_515a97f8"};const ub={},vr=J((e,t)=>{const n=L("VisuallyHidden",ub,e),{classNames:o,className:r,style:s,styles:a,unstyled:i,vars:l,...d}=n,f=Y({name:"VisuallyHidden",classes:yl,props:n,className:r,style:s,classNames:o,styles:a,unstyled:i});return c.jsx(G,{component:"span",ref:t,...f("root"),...d})});vr.classes=yl;vr.displayName="@mantine/core/VisuallyHidden";var xl={root:"m_1b7284a3"};const fb={},pb=(e,{radius:t,shadow:n})=>({root:{"--paper-radius":t===void 0?void 0:me(t),"--paper-shadow":Xi(n)}}),yr=fe((e,t)=>{const n=L("Paper",fb,e),{classNames:o,className:r,style:s,styles:a,unstyled:i,withBorder:l,vars:d,radius:f,shadow:p,variant:m,mod:h,...g}=n,b=Y({name:"Paper",props:n,classes:xl,className:r,style:s,classNames:o,styles:a,unstyled:i,vars:d,varsResolver:pb});return c.jsx(G,{ref:t,mod:[{"data-with-border":l},h],...b("root"),variant:m,...g})});yr.classes=xl;yr.displayName="@mantine/core/Paper";function Ks(e){let t=e.activeElement;for(;((n=t)==null||(n=n.shadowRoot)==null?void 0:n.activeElement)!=null;){var n;t=t.shadowRoot.activeElement}return t}function At(e,t){if(!e||!t)return!1;const n=t.getRootNode==null?void 0:t.getRootNode();if(e.contains(t))return!0;if(n&&wa(n)){let o=t;for(;o;){if(e===o)return!0;o=o.parentNode||o.host}}return!1}function Cl(){const e=navigator.userAgentData;return e!=null&&e.platform?e.platform:navigator.platform}function wl(){const e=navigator.userAgentData;return e&&Array.isArray(e.brands)?e.brands.map(t=>{let{brand:n,version:o}=t;return n+"/"+o}).join(" "):navigator.userAgent}function mb(e){return bb()?!1:!qs()&&e.width===0&&e.height===0||qs()&&e.width===1&&e.height===1&&e.pressure===0&&e.detail===0&&e.pointerType==="mouse"||e.width<1&&e.height<1&&e.pressure===0&&e.detail===0&&e.pointerType==="touch"}function hb(){return/apple/i.test(navigator.vendor)}function qs(){const e=/android/i;return e.test(Cl())||e.test(wl())}function gb(){return Cl().toLowerCase().startsWith("mac")&&!navigator.maxTouchPoints}function bb(){return wl().includes("jsdom/")}function Zo(e,t){const n=["mouse","pen"];return n.push("",void 0),n.includes(e)}function vb(e){return"nativeEvent"in e}function yb(e){return e.matches("html,body")}function Je(e){return(e==null?void 0:e.ownerDocument)||document}function jo(e,t){if(t==null)return!1;if("composedPath"in e)return e.composedPath().includes(t);const n=e;return n.target!=null&&t.contains(n.target)}function mt(e){return"composedPath"in e?e.composedPath()[0]:e.target}const xb="input:not([type='hidden']):not([disabled]),[contenteditable]:not([contenteditable='false']),textarea:not([disabled])";function Cb(e){return En(e)&&e.matches(xb)}const kl={...Sa},wb=kl.useInsertionEffect,kb=wb||(e=>e());function De(e){const t=u.useRef(()=>{});return kb(()=>{t.current=e}),u.useCallback(function(){for(var n=arguments.length,o=new Array(n),r=0;r<n;r++)o[r]=arguments[r];return t.current==null?void 0:t.current(...o)},[])}var Ee=typeof document<"u"?u.useLayoutEffect:u.useEffect;let Ys=!1,Sb=0;const Xs=()=>"floating-ui-"+Math.random().toString(36).slice(2,6)+Sb++;function jb(){const[e,t]=u.useState(()=>Ys?Xs():void 0);return Ee(()=>{e==null&&t(Xs())},[]),u.useEffect(()=>{Ys=!0},[]),e}const Mb=kl.useId,Sl=Mb||jb;function Eb(){const e=new Map;return{emit(t,n){var o;(o=e.get(t))==null||o.forEach(r=>r(n))},on(t,n){e.set(t,[...e.get(t)||[],n])},off(t,n){var o;e.set(t,((o=e.get(t))==null?void 0:o.filter(r=>r!==n))||[])}}}const Tb=u.createContext(null),Rb=u.createContext(null),xr=()=>{var e;return((e=u.useContext(Tb))==null?void 0:e.id)||null},Cr=()=>u.useContext(Rb);function wr(e){return"data-floating-ui-"+e}function Mo(e){const t=u.useRef(e);return Ee(()=>{t.current=e}),t}const Qs=wr("safe-polygon");function dn(e,t,n){return n&&!Zo(n)?0:typeof e=="number"?e:e==null?void 0:e[t]}function $b(e,t){t===void 0&&(t={});const{open:n,onOpenChange:o,dataRef:r,events:s,elements:a}=e,{enabled:i=!0,delay:l=0,handleClose:d=null,mouseOnly:f=!1,restMs:p=0,move:m=!0}=t,h=Cr(),g=xr(),b=Mo(d),v=Mo(l),y=Mo(n),C=u.useRef(),x=u.useRef(-1),w=u.useRef(),E=u.useRef(-1),k=u.useRef(!0),T=u.useRef(!1),M=u.useRef(()=>{}),N=u.useCallback(()=>{var _;const I=(_=r.current.openEvent)==null?void 0:_.type;return(I==null?void 0:I.includes("mouse"))&&I!=="mousedown"},[r]);u.useEffect(()=>{if(!i)return;function _(I){let{open:S}=I;S||(clearTimeout(x.current),clearTimeout(E.current),k.current=!0)}return s.on("openchange",_),()=>{s.off("openchange",_)}},[i,s]),u.useEffect(()=>{if(!i||!b.current||!n)return;function _(S){N()&&o(!1,S,"hover")}const I=Je(a.floating).documentElement;return I.addEventListener("mouseleave",_),()=>{I.removeEventListener("mouseleave",_)}},[a.floating,n,o,i,b,N]);const V=u.useCallback(function(_,I,S){I===void 0&&(I=!0),S===void 0&&(S="hover");const R=dn(v.current,"close",C.current);R&&!w.current?(clearTimeout(x.current),x.current=window.setTimeout(()=>o(!1,_,S),R)):I&&(clearTimeout(x.current),o(!1,_,S))},[v,o]),H=De(()=>{M.current(),w.current=void 0}),z=De(()=>{if(T.current){const _=Je(a.floating).body;_.style.pointerEvents="",_.removeAttribute(Qs),T.current=!1}});u.useEffect(()=>{if(!i)return;function _(){return r.current.openEvent?["click","mousedown"].includes(r.current.openEvent.type):!1}function I(P){if(clearTimeout(x.current),k.current=!1,f&&!Zo(C.current)||p>0&&!dn(v.current,"open"))return;const B=dn(v.current,"open",C.current);B?x.current=window.setTimeout(()=>{y.current||o(!0,P,"hover")},B):o(!0,P,"hover")}function S(P){if(_())return;M.current();const B=Je(a.floating);if(clearTimeout(E.current),b.current&&r.current.floatingContext){n||clearTimeout(x.current),w.current=b.current({...r.current.floatingContext,tree:h,x:P.clientX,y:P.clientY,onClose(){z(),H(),V(P,!0,"safe-polygon")}});const ne=w.current;B.addEventListener("mousemove",ne),M.current=()=>{B.removeEventListener("mousemove",ne)};return}(C.current==="touch"?!At(a.floating,P.relatedTarget):!0)&&V(P)}function R(P){_()||r.current.floatingContext&&(b.current==null||b.current({...r.current.floatingContext,tree:h,x:P.clientX,y:P.clientY,onClose(){z(),H(),V(P)}})(P))}if(te(a.domReference)){var D;const P=a.domReference;return n&&P.addEventListener("mouseleave",R),(D=a.floating)==null||D.addEventListener("mouseleave",R),m&&P.addEventListener("mousemove",I,{once:!0}),P.addEventListener("mouseenter",I),P.addEventListener("mouseleave",S),()=>{var B;n&&P.removeEventListener("mouseleave",R),(B=a.floating)==null||B.removeEventListener("mouseleave",R),m&&P.removeEventListener("mousemove",I),P.removeEventListener("mouseenter",I),P.removeEventListener("mouseleave",S)}}},[a,i,e,f,p,m,V,H,z,o,n,y,h,v,b,r]),Ee(()=>{var _;if(i&&n&&(_=b.current)!=null&&_.__options.blockPointerEvents&&N()){const S=Je(a.floating).body;S.setAttribute(Qs,""),S.style.pointerEvents="none",T.current=!0;const R=a.floating;if(te(a.domReference)&&R){var I;const D=a.domReference,P=h==null||(I=h.nodesRef.current.find(B=>B.id===g))==null||(I=I.context)==null?void 0:I.elements.floating;return P&&(P.style.pointerEvents=""),D.style.pointerEvents="auto",R.style.pointerEvents="auto",()=>{D.style.pointerEvents="",R.style.pointerEvents=""}}}},[i,n,g,a,h,b,N]),Ee(()=>{n||(C.current=void 0,H(),z())},[n,H,z]),u.useEffect(()=>()=>{H(),clearTimeout(x.current),clearTimeout(E.current),z()},[i,a.domReference,H,z]);const W=u.useMemo(()=>{function _(I){C.current=I.pointerType}return{onPointerDown:_,onPointerEnter:_,onMouseMove(I){const{nativeEvent:S}=I;function R(){!k.current&&!y.current&&o(!0,S,"hover")}f&&!Zo(C.current)||n||p===0||(clearTimeout(E.current),C.current==="touch"?R():E.current=window.setTimeout(R,p))}}},[f,o,n,y,p]),$=u.useMemo(()=>({onMouseEnter(){clearTimeout(x.current)},onMouseLeave(_){V(_.nativeEvent,!1)}}),[V]);return u.useMemo(()=>i?{reference:W,floating:$}:{},[i,W,$])}const Uo=()=>{},jl=u.createContext({delay:0,initialDelay:0,timeoutMs:0,currentId:null,setCurrentId:Uo,setState:Uo,isInstantPhase:!1}),Ml=()=>u.useContext(jl);function Ib(e){const{children:t,delay:n,timeoutMs:o=0}=e,[r,s]=u.useReducer((l,d)=>({...l,...d}),{delay:n,timeoutMs:o,initialDelay:n,currentId:null,isInstantPhase:!1}),a=u.useRef(null),i=u.useCallback(l=>{s({currentId:l})},[]);return Ee(()=>{r.currentId?a.current===null?a.current=r.currentId:r.isInstantPhase||s({isInstantPhase:!0}):(r.isInstantPhase&&s({isInstantPhase:!1}),a.current=null)},[r.currentId,r.isInstantPhase]),u.createElement(jl.Provider,{value:u.useMemo(()=>({...r,setState:s,setCurrentId:i}),[r,i])},t)}function Pb(e,t){t===void 0&&(t={});const{open:n,onOpenChange:o,floatingId:r}=e,{id:s}=t,a=s??r,i=Ml(),{currentId:l,setCurrentId:d,initialDelay:f,setState:p,timeoutMs:m}=i;return Ee(()=>{l&&(p({delay:{open:1,close:dn(f,"close")}}),l!==a&&o(!1))},[a,o,p,l,f]),Ee(()=>{function h(){o(!1),p({delay:f,currentId:null})}if(l&&!n&&l===a){if(m){const g=window.setTimeout(h,m);return()=>{clearTimeout(g)}}h()}},[n,p,l,a,o,f,m]),Ee(()=>{d===Uo||!n||d(a)},[n,d,a]),i}function Eo(e,t){let n=e.filter(r=>{var s;return r.parentId===t&&((s=r.context)==null?void 0:s.open)}),o=n;for(;o.length;)o=e.filter(r=>{var s;return(s=o)==null?void 0:s.some(a=>{var i;return r.parentId===a.id&&((i=r.context)==null?void 0:i.open)})}),n=n.concat(o);return n}const Nb={pointerdown:"onPointerDown",mousedown:"onMouseDown",click:"onClick"},_b={pointerdown:"onPointerDownCapture",mousedown:"onMouseDownCapture",click:"onClickCapture"},Js=e=>{var t,n;return{escapeKey:typeof e=="boolean"?e:(t=e==null?void 0:e.escapeKey)!=null?t:!1,outsidePress:typeof e=="boolean"?e:(n=e==null?void 0:e.outsidePress)!=null?n:!0}};function Hb(e,t){t===void 0&&(t={});const{open:n,onOpenChange:o,elements:r,dataRef:s}=e,{enabled:a=!0,escapeKey:i=!0,outsidePress:l=!0,outsidePressEvent:d="pointerdown",referencePress:f=!1,referencePressEvent:p="pointerdown",ancestorScroll:m=!1,bubbles:h,capture:g}=t,b=Cr(),v=De(typeof l=="function"?l:()=>!1),y=typeof l=="function"?v:l,C=u.useRef(!1),x=u.useRef(!1),{escapeKey:w,outsidePress:E}=Js(h),{escapeKey:k,outsidePress:T}=Js(g),M=De($=>{var _;if(!n||!a||!i||$.key!=="Escape")return;const I=(_=s.current.floatingContext)==null?void 0:_.nodeId,S=b?Eo(b.nodesRef.current,I):[];if(!w&&($.stopPropagation(),S.length>0)){let R=!0;if(S.forEach(D=>{var P;if((P=D.context)!=null&&P.open&&!D.context.dataRef.current.__escapeKeyBubbles){R=!1;return}}),!R)return}o(!1,vb($)?$.nativeEvent:$,"escape-key")}),N=De($=>{var _;const I=()=>{var S;M($),(S=mt($))==null||S.removeEventListener("keydown",I)};(_=mt($))==null||_.addEventListener("keydown",I)}),V=De($=>{var _;const I=C.current;C.current=!1;const S=x.current;if(x.current=!1,d==="click"&&S||I||typeof y=="function"&&!y($))return;const R=mt($),D="["+wr("inert")+"]",P=Je(r.floating).querySelectorAll(D);let B=te(R)?R:null;for(;B&&!pn(B);){const q=ja(B);if(pn(q)||!te(q))break;B=q}if(P.length&&te(R)&&!yb(R)&&!At(R,r.floating)&&Array.from(P).every(q=>!At(B,q)))return;if(En(R)&&W){const q=R.clientWidth>0&&R.scrollWidth>R.clientWidth,ee=R.clientHeight>0&&R.scrollHeight>R.clientHeight;let se=ee&&$.offsetX>R.clientWidth;if(ee&&Ma(R).direction==="rtl"&&(se=$.offsetX<=R.offsetWidth-R.clientWidth),se||q&&$.offsetY>R.clientHeight)return}const X=(_=s.current.floatingContext)==null?void 0:_.nodeId,ne=b&&Eo(b.nodesRef.current,X).some(q=>{var ee;return jo($,(ee=q.context)==null?void 0:ee.elements.floating)});if(jo($,r.floating)||jo($,r.domReference)||ne)return;const oe=b?Eo(b.nodesRef.current,X):[];if(oe.length>0){let q=!0;if(oe.forEach(ee=>{var se;if((se=ee.context)!=null&&se.open&&!ee.context.dataRef.current.__outsidePressBubbles){q=!1;return}}),!q)return}o(!1,$,"outside-press")}),H=De($=>{var _;const I=()=>{var S;V($),(S=mt($))==null||S.removeEventListener(d,I)};(_=mt($))==null||_.addEventListener(d,I)});u.useEffect(()=>{if(!n||!a)return;s.current.__escapeKeyBubbles=w,s.current.__outsidePressBubbles=E;function $(S){o(!1,S,"ancestor-scroll")}const _=Je(r.floating);i&&_.addEventListener("keydown",k?N:M,k),y&&_.addEventListener(d,T?H:V,T);let I=[];return m&&(te(r.domReference)&&(I=et(r.domReference)),te(r.floating)&&(I=I.concat(et(r.floating))),!te(r.reference)&&r.reference&&r.reference.contextElement&&(I=I.concat(et(r.reference.contextElement)))),I=I.filter(S=>{var R;return S!==((R=_.defaultView)==null?void 0:R.visualViewport)}),I.forEach(S=>{S.addEventListener("scroll",$,{passive:!0})}),()=>{i&&_.removeEventListener("keydown",k?N:M,k),y&&_.removeEventListener(d,T?H:V,T),I.forEach(S=>{S.removeEventListener("scroll",$)})}},[s,r,i,y,d,n,o,m,a,w,E,M,k,N,V,T,H]),u.useEffect(()=>{C.current=!1},[y,d]);const z=u.useMemo(()=>({onKeyDown:M,[Nb[p]]:$=>{f&&o(!1,$.nativeEvent,"reference-press")}}),[M,o,f,p]),W=u.useMemo(()=>({onKeyDown:M,onMouseDown(){x.current=!0},onMouseUp(){x.current=!0},[_b[d]]:()=>{C.current=!0}}),[M,d]);return u.useMemo(()=>a?{reference:z,floating:W}:{},[a,z,W])}function Lb(e){const{open:t=!1,onOpenChange:n,elements:o}=e,r=Sl(),s=u.useRef({}),[a]=u.useState(()=>Eb()),i=xr()!=null,[l,d]=u.useState(o.reference),f=De((h,g,b)=>{s.current.openEvent=h?g:void 0,a.emit("openchange",{open:h,event:g,reason:b,nested:i}),n==null||n(h,g,b)}),p=u.useMemo(()=>({setPositionReference:d}),[]),m=u.useMemo(()=>({reference:l||o.reference||null,floating:o.floating||null,domReference:o.reference}),[l,o.reference,o.floating]);return u.useMemo(()=>({dataRef:s,open:t,onOpenChange:f,elements:m,events:a,floatingId:r,refs:p}),[t,f,m,a,r,p])}function kr(e){e===void 0&&(e={});const{nodeId:t}=e,n=Lb({...e,elements:{reference:null,floating:null,...e.elements}}),o=e.rootContext||n,r=o.elements,[s,a]=u.useState(null),[i,l]=u.useState(null),f=(r==null?void 0:r.reference)||s,p=u.useRef(null),m=Cr();Ee(()=>{f&&(p.current=f)},[f]);const h=ka({...e,elements:{...r,...i&&{reference:i}}}),g=u.useCallback(x=>{const w=te(x)?{getBoundingClientRect:()=>x.getBoundingClientRect(),contextElement:x}:x;l(w),h.refs.setReference(w)},[h.refs]),b=u.useCallback(x=>{(te(x)||x===null)&&(p.current=x,a(x)),(te(h.refs.reference.current)||h.refs.reference.current===null||x!==null&&!te(x))&&h.refs.setReference(x)},[h.refs]),v=u.useMemo(()=>({...h.refs,setReference:b,setPositionReference:g,domReference:p}),[h.refs,b,g]),y=u.useMemo(()=>({...h.elements,domReference:f}),[h.elements,f]),C=u.useMemo(()=>({...h,...o,refs:v,elements:y,nodeId:t}),[h,v,y,t,o]);return Ee(()=>{o.dataRef.current.floatingContext=C;const x=m==null?void 0:m.nodesRef.current.find(w=>w.id===t);x&&(x.context=C)}),u.useMemo(()=>({...h,context:C,refs:v,elements:y}),[h,v,y,C])}function Ab(e,t){t===void 0&&(t={});const{open:n,onOpenChange:o,events:r,dataRef:s,elements:a}=e,{enabled:i=!0,visibleOnly:l=!0}=t,d=u.useRef(!1),f=u.useRef(),p=u.useRef(!0);u.useEffect(()=>{if(!i)return;const h=Jc(a.domReference);function g(){!n&&En(a.domReference)&&a.domReference===Ks(Je(a.domReference))&&(d.current=!0)}function b(){p.current=!0}return h.addEventListener("blur",g),h.addEventListener("keydown",b,!0),()=>{h.removeEventListener("blur",g),h.removeEventListener("keydown",b,!0)}},[a.domReference,n,i]),u.useEffect(()=>{if(!i)return;function h(g){let{reason:b}=g;(b==="reference-press"||b==="escape-key")&&(d.current=!0)}return r.on("openchange",h),()=>{r.off("openchange",h)}},[r,i]),u.useEffect(()=>()=>{clearTimeout(f.current)},[]);const m=u.useMemo(()=>({onPointerDown(h){mb(h.nativeEvent)||(p.current=!1)},onMouseLeave(){d.current=!1},onFocus(h){if(d.current)return;const g=mt(h.nativeEvent);if(l&&te(g))try{if(hb()&&gb())throw Error();if(!g.matches(":focus-visible"))return}catch{if(!p.current&&!Cb(g))return}o(!0,h.nativeEvent,"focus")},onBlur(h){d.current=!1;const g=h.relatedTarget,b=h.nativeEvent,v=te(g)&&g.hasAttribute(wr("focus-guard"))&&g.getAttribute("data-type")==="outside";f.current=window.setTimeout(()=>{var y;const C=Ks(a.domReference?a.domReference.ownerDocument:document);!g&&C===a.domReference||At((y=s.current.floatingContext)==null?void 0:y.refs.floating.current,C)||At(a.domReference,C)||v||o(!1,b,"focus")})}}),[s,a.domReference,o,l]);return u.useMemo(()=>i?{reference:m}:{},[i,m])}const ea="active",ta="selected";function To(e,t,n){const o=new Map,r=n==="item";let s=e;if(r&&e){const{[ea]:a,[ta]:i,...l}=e;s=l}return{...n==="floating"&&{tabIndex:-1},...s,...t.map(a=>{const i=a?a[n]:null;return typeof i=="function"?e?i(e):null:i}).concat(e).reduce((a,i)=>(i&&Object.entries(i).forEach(l=>{let[d,f]=l;if(!(r&&[ea,ta].includes(d)))if(d.indexOf("on")===0){if(o.has(d)||o.set(d,[]),typeof f=="function"){var p;(p=o.get(d))==null||p.push(f),a[d]=function(){for(var m,h=arguments.length,g=new Array(h),b=0;b<h;b++)g[b]=arguments[b];return(m=o.get(d))==null?void 0:m.map(v=>v(...g)).find(v=>v!==void 0)}}}else a[d]=f}),a),{})}}function Vb(e){e===void 0&&(e=[]);const t=e.map(i=>i==null?void 0:i.reference),n=e.map(i=>i==null?void 0:i.floating),o=e.map(i=>i==null?void 0:i.item),r=u.useCallback(i=>To(i,e,"reference"),t),s=u.useCallback(i=>To(i,e,"floating"),n),a=u.useCallback(i=>To(i,e,"item"),o);return u.useMemo(()=>({getReferenceProps:r,getFloatingProps:s,getItemProps:a}),[r,s,a])}const Ob=new Map([["select","listbox"],["combobox","listbox"],["label",!1]]);function Db(e,t){var n;t===void 0&&(t={});const{open:o,floatingId:r}=e,{enabled:s=!0,role:a="dialog"}=t,i=(n=Ob.get(a))!=null?n:a,l=Sl(),f=xr()!=null,p=u.useMemo(()=>i==="tooltip"||a==="label"?{["aria-"+(a==="label"?"labelledby":"describedby")]:o?r:void 0}:{"aria-expanded":o?"true":"false","aria-haspopup":i==="alertdialog"?"dialog":i,"aria-controls":o?r:void 0,...i==="listbox"&&{role:"combobox"},...i==="menu"&&{id:l},...i==="menu"&&f&&{role:"menuitem"},...a==="select"&&{"aria-autocomplete":"none"},...a==="combobox"&&{"aria-autocomplete":"list"}},[i,r,f,o,l,a]),m=u.useMemo(()=>{const g={id:r,...i&&{role:i}};return i==="tooltip"||a==="label"?g:{...g,...i==="menu"&&{"aria-labelledby":l}}},[i,r,l,a]),h=u.useCallback(g=>{let{active:b,selected:v}=g;const y={role:"option",...b&&{id:r+"-option"}};switch(a){case"select":return{...y,"aria-selected":b&&v};case"combobox":return{...y,...b&&{"aria-selected":!0}}}return{}},[r,a]);return u.useMemo(()=>s?{reference:p,floating:m,item:h}:{},[s,p,m,h])}function El(e,t){if(e==="rtl"&&(t.includes("right")||t.includes("left"))){const[n,o]=t.split("-"),r=n==="right"?"left":"right";return o===void 0?r:`${r}-${o}`}return t}function na(e,t,n,o){return e==="center"||o==="center"?{top:t}:e==="end"?{bottom:n}:e==="start"?{top:n}:{}}function oa(e,t,n,o,r){return e==="center"||o==="center"?{left:t}:e==="end"?{[r==="ltr"?"right":"left"]:n}:e==="start"?{[r==="ltr"?"left":"right"]:n}:{}}const Bb={bottom:"borderTopLeftRadius",left:"borderTopRightRadius",right:"borderBottomLeftRadius",top:"borderBottomRightRadius"};function Fb({position:e,arrowSize:t,arrowOffset:n,arrowRadius:o,arrowPosition:r,arrowX:s,arrowY:a,dir:i}){const[l,d="center"]=e.split("-"),f={width:t,height:t,transform:"rotate(45deg)",position:"absolute",[Bb[l]]:o},p=-t/2;return l==="left"?{...f,...na(d,a,n,r),right:p,borderLeftColor:"transparent",borderBottomColor:"transparent"}:l==="right"?{...f,...na(d,a,n,r),left:p,borderRightColor:"transparent",borderTopColor:"transparent"}:l==="top"?{...f,...oa(d,s,n,r,i),bottom:p,borderTopColor:"transparent",borderLeftColor:"transparent"}:l==="bottom"?{...f,...oa(d,s,n,r,i),top:p,borderBottomColor:"transparent",borderRightColor:"transparent"}:{}}const Sr=u.forwardRef(({position:e,arrowSize:t,arrowOffset:n,arrowRadius:o,arrowPosition:r,visible:s,arrowX:a,arrowY:i,style:l,...d},f)=>{const{dir:p}=Ut();return s?c.jsx("div",{...d,ref:f,style:{...l,...Fb({position:e,arrowSize:t,arrowOffset:n,arrowRadius:o,arrowPosition:r,dir:p,arrowX:a,arrowY:i})}}):null});Sr.displayName="@mantine/core/FloatingArrow";const[zb,Tl]=Ln("Popover component was not found in the tree");function jr({children:e,active:t=!0,refProp:n="ref",innerRef:o}){const r=nl(t),s=Ue(r,o);return Bt(e)?u.cloneElement(e,{[n]:s}):e}function Rl(e){return c.jsx(vr,{tabIndex:-1,"data-autofocus":!0,...e})}jr.displayName="@mantine/core/FocusTrap";Rl.displayName="@mantine/core/FocusTrapInitialFocus";jr.InitialFocus=Rl;function Gb(e){const t=document.createElement("div");return t.setAttribute("data-portal","true"),typeof e.className=="string"&&t.classList.add(...e.className.split(" ").filter(Boolean)),typeof e.style=="object"&&Object.assign(t.style,e.style),typeof e.id=="string"&&t.setAttribute("id",e.id),t}const Zb={},$l=u.forwardRef((e,t)=>{const{children:n,target:o,...r}=L("Portal",Zb,e),[s,a]=u.useState(!1),i=u.useRef(null);return An(()=>(a(!0),i.current=o?typeof o=="string"?document.querySelector(o):o:Gb(r),fr(t,i.current),!o&&i.current&&document.body.appendChild(i.current),()=>{!o&&i.current&&document.body.removeChild(i.current)}),[o]),!s||!i.current?null:Te.createPortal(c.jsx(c.Fragment,{children:n}),i.current)});$l.displayName="@mantine/core/Portal";function Dn({withinPortal:e=!0,children:t,...n}){return e?c.jsx($l,{...n,children:t}):c.jsx(c.Fragment,{children:t})}Dn.displayName="@mantine/core/OptionalPortal";const Rt=e=>({in:{opacity:1,transform:"scale(1)"},out:{opacity:0,transform:`scale(.9) translateY(${j(e==="bottom"?10:-10)})`},transitionProperty:"transform, opacity"}),an={fade:{in:{opacity:1},out:{opacity:0},transitionProperty:"opacity"},"fade-up":{in:{opacity:1,transform:"translateY(0)"},out:{opacity:0,transform:`translateY(${j(30)}`},transitionProperty:"opacity, transform"},"fade-down":{in:{opacity:1,transform:"translateY(0)"},out:{opacity:0,transform:`translateY(${j(-30)}`},transitionProperty:"opacity, transform"},"fade-left":{in:{opacity:1,transform:"translateX(0)"},out:{opacity:0,transform:`translateX(${j(30)}`},transitionProperty:"opacity, transform"},"fade-right":{in:{opacity:1,transform:"translateX(0)"},out:{opacity:0,transform:`translateX(${j(-30)}`},transitionProperty:"opacity, transform"},scale:{in:{opacity:1,transform:"scale(1)"},out:{opacity:0,transform:"scale(0)"},common:{transformOrigin:"top"},transitionProperty:"transform, opacity"},"scale-y":{in:{opacity:1,transform:"scaleY(1)"},out:{opacity:0,transform:"scaleY(0)"},common:{transformOrigin:"top"},transitionProperty:"transform, opacity"},"scale-x":{in:{opacity:1,transform:"scaleX(1)"},out:{opacity:0,transform:"scaleX(0)"},common:{transformOrigin:"left"},transitionProperty:"transform, opacity"},"skew-up":{in:{opacity:1,transform:"translateY(0) skew(0deg, 0deg)"},out:{opacity:0,transform:`translateY(${j(-20)}) skew(-10deg, -5deg)`},common:{transformOrigin:"top"},transitionProperty:"transform, opacity"},"skew-down":{in:{opacity:1,transform:"translateY(0) skew(0deg, 0deg)"},out:{opacity:0,transform:`translateY(${j(20)}) skew(-10deg, -5deg)`},common:{transformOrigin:"bottom"},transitionProperty:"transform, opacity"},"rotate-left":{in:{opacity:1,transform:"translateY(0) rotate(0deg)"},out:{opacity:0,transform:`translateY(${j(20)}) rotate(-5deg)`},common:{transformOrigin:"bottom"},transitionProperty:"transform, opacity"},"rotate-right":{in:{opacity:1,transform:"translateY(0) rotate(0deg)"},out:{opacity:0,transform:`translateY(${j(20)}) rotate(5deg)`},common:{transformOrigin:"top"},transitionProperty:"transform, opacity"},"slide-down":{in:{opacity:1,transform:"translateY(0)"},out:{opacity:0,transform:"translateY(-100%)"},common:{transformOrigin:"top"},transitionProperty:"transform, opacity"},"slide-up":{in:{opacity:1,transform:"translateY(0)"},out:{opacity:0,transform:"translateY(100%)"},common:{transformOrigin:"bottom"},transitionProperty:"transform, opacity"},"slide-left":{in:{opacity:1,transform:"translateX(0)"},out:{opacity:0,transform:"translateX(100%)"},common:{transformOrigin:"left"},transitionProperty:"transform, opacity"},"slide-right":{in:{opacity:1,transform:"translateX(0)"},out:{opacity:0,transform:"translateX(-100%)"},common:{transformOrigin:"right"},transitionProperty:"transform, opacity"},pop:{...Rt("bottom"),common:{transformOrigin:"center center"}},"pop-bottom-left":{...Rt("bottom"),common:{transformOrigin:"bottom left"}},"pop-bottom-right":{...Rt("bottom"),common:{transformOrigin:"bottom right"}},"pop-top-left":{...Rt("top"),common:{transformOrigin:"top left"}},"pop-top-right":{...Rt("top"),common:{transformOrigin:"top right"}}},ra={entering:"in",entered:"in",exiting:"out",exited:"out","pre-exiting":"out","pre-entering":"out"};function Ub({transition:e,state:t,duration:n,timingFunction:o}){const r={transitionDuration:`${n}ms`,transitionTimingFunction:o};return typeof e=="string"?e in an?{transitionProperty:an[e].transitionProperty,...r,...an[e].common,...an[e][ra[t]]}:{}:{transitionProperty:e.transitionProperty,...r,...e.common,...e[ra[t]]}}function Wb({duration:e,exitDuration:t,timingFunction:n,mounted:o,onEnter:r,onExit:s,onEntered:a,onExited:i,enterDelay:l,exitDelay:d}){const f=he(),p=Y1(),m=f.respectReducedMotion?p:!1,[h,g]=u.useState(m?0:e),[b,v]=u.useState(o?"entered":"exited"),y=u.useRef(-1),C=u.useRef(-1),x=u.useRef(-1),w=k=>{const T=k?r:s,M=k?a:i;window.clearTimeout(y.current);const N=m?0:k?e:t;g(N),N===0?(typeof T=="function"&&T(),typeof M=="function"&&M(),v(k?"entered":"exited")):x.current=requestAnimationFrame(()=>{$a.flushSync(()=>{v(k?"pre-entering":"pre-exiting")}),x.current=requestAnimationFrame(()=>{typeof T=="function"&&T(),v(k?"entering":"exiting"),y.current=window.setTimeout(()=>{typeof M=="function"&&M(),v(k?"entered":"exited")},N)})})},E=k=>{if(window.clearTimeout(C.current),typeof(k?l:d)!="number"){w(k);return}C.current=window.setTimeout(()=>{w(k)},k?l:d)};return Fe(()=>{E(o)},[o]),u.useEffect(()=>()=>{window.clearTimeout(y.current),cancelAnimationFrame(x.current)},[]),{transitionDuration:h,transitionStatus:b,transitionTimingFunction:n||"ease"}}function yt({keepMounted:e,transition:t="fade",duration:n=250,exitDuration:o=n,mounted:r,children:s,timingFunction:a="ease",onExit:i,onEntered:l,onEnter:d,onExited:f,enterDelay:p,exitDelay:m}){const{transitionDuration:h,transitionStatus:g,transitionTimingFunction:b}=Wb({mounted:r,exitDuration:o,duration:n,timingFunction:a,onExit:i,onEntered:l,onEnter:d,onExited:f,enterDelay:p,exitDelay:m});return h===0?r?c.jsx(c.Fragment,{children:s({})}):e?s({display:"none"}):null:g==="exited"?e?s({display:"none"}):null:c.jsx(c.Fragment,{children:s(Ub({transition:t,duration:h,state:g,timingFunction:b}))})}yt.displayName="@mantine/core/Transition";var Il={dropdown:"m_38a85659",arrow:"m_a31dc6c1"};const Kb={},Bn=J((e,t)=>{var v,y,C,x;const n=L("PopoverDropdown",Kb,e),{className:o,style:r,vars:s,children:a,onKeyDownCapture:i,variant:l,classNames:d,styles:f,...p}=n,m=Tl(),h=B1({opened:m.opened,shouldReturnFocus:m.returnFocus}),g=m.withRoles?{"aria-labelledby":m.getTargetId(),id:m.getDropdownId(),role:"dialog",tabIndex:-1}:{},b=Ue(t,m.floating);return m.disabled?null:c.jsx(Dn,{...m.portalProps,withinPortal:m.withinPortal,children:c.jsx(yt,{mounted:m.opened,...m.transitionProps,transition:((v=m.transitionProps)==null?void 0:v.transition)||"fade",duration:((y=m.transitionProps)==null?void 0:y.duration)??150,keepMounted:m.keepMounted,exitDuration:typeof((C=m.transitionProps)==null?void 0:C.exitDuration)=="number"?m.transitionProps.exitDuration:(x=m.transitionProps)==null?void 0:x.duration,children:w=>c.jsx(jr,{active:m.trapFocus,innerRef:b,children:c.jsxs(G,{...g,...p,variant:l,onKeyDownCapture:N1(m.onClose,{active:m.closeOnEscape,onTrigger:h,onKeyDown:i}),"data-position":m.placement,"data-fixed":m.floatingStrategy==="fixed"||void 0,...m.getStyles("dropdown",{className:o,props:n,classNames:d,styles:f,style:[{...w,zIndex:m.zIndex,top:m.y??0,left:m.x??0,width:m.width==="target"?void 0:j(m.width)},r]}),children:[a,c.jsx(Sr,{ref:m.arrowRef,arrowX:m.arrowX,arrowY:m.arrowY,visible:m.withArrow,position:m.placement,arrowSize:m.arrowSize,arrowRadius:m.arrowRadius,arrowOffset:m.arrowOffset,arrowPosition:m.arrowPosition,...m.getStyles("arrow",{props:n,classNames:d,styles:f})})]})})})})});Bn.classes=Il;Bn.displayName="@mantine/core/PopoverDropdown";const qb={refProp:"ref",popupType:"dialog"},Mr=J((e,t)=>{const{children:n,refProp:o,popupType:r,...s}=L("PopoverTarget",qb,e);if(!Bt(n))throw new Error("Popover.Target component children should be an element or a component that accepts ref. Fragments, strings, numbers and other primitive values are not supported");const a=s,i=Tl(),l=Ue(i.reference,n.ref,t),d=i.withRoles?{"aria-haspopup":r,"aria-expanded":i.opened,"aria-controls":i.getDropdownId(),id:i.getTargetId()}:{};return u.cloneElement(n,{...a,...d,...i.targetProps,className:Ve(i.targetProps.className,a.className,n.props.className),[o]:l,...i.controlled?null:{onClick:i.onToggle}})});Mr.displayName="@mantine/core/PopoverTarget";function Pl({opened:e,floating:t,position:n,positionDependencies:o}){const[r,s]=u.useState(0);u.useEffect(()=>{if(t.refs.reference.current&&t.refs.floating.current)return Pa(t.refs.reference.current,t.refs.floating.current,t.update)},[t.refs.reference.current,t.refs.floating.current,e,r,n]),Fe(()=>{t.update()},o),Fe(()=>{s(a=>a+1)},[e])}function Yb(e){if(e===void 0)return{shift:!0,flip:!0};const t={...e};return e.shift===void 0&&(t.shift=!0),e.flip===void 0&&(t.flip=!0),t}function Xb(e,t){const n=Yb(e.middlewares),o=[Pe(e.offset)];return n.shift&&o.push(rt(typeof n.shift=="boolean"?{limiter:es(),padding:5}:{limiter:es(),padding:5,...n.shift})),n.flip&&o.push(typeof n.flip=="boolean"?Re():Re(n.flip)),n.inline&&o.push(typeof n.inline=="boolean"?No():No(n.inline)),o.push(Na({element:e.arrowRef,padding:e.arrowOffset})),(n.size||e.width==="target")&&o.push(Tn({...typeof n.size=="boolean"?{}:n.size,apply({rects:r,availableWidth:s,availableHeight:a}){var d;const l=((d=t().refs.floating.current)==null?void 0:d.style)??{};n.size&&Object.assign(l,{maxWidth:`${s}px`,maxHeight:`${a}px`}),e.width==="target"&&Object.assign(l,{width:`${r.reference.width}px`})}})),o}function Qb(e){const[t,n]=bt({value:e.opened,defaultValue:e.defaultOpened,finalValue:!1,onChange:e.onChange}),o=()=>{var a;t&&((a=e.onClose)==null||a.call(e),n(!1))},r=()=>{var a,i;t?((a=e.onClose)==null||a.call(e),n(!1)):((i=e.onOpen)==null||i.call(e),n(!0))},s=kr({strategy:e.strategy,placement:e.position,middleware:Xb(e,()=>s)});return Pl({opened:e.opened,position:e.position,positionDependencies:e.positionDependencies||[],floating:s}),Fe(()=>{var a;(a=e.onPositionChange)==null||a.call(e,s.placement)},[s.placement]),Fe(()=>{var a,i;e.opened?(i=e.onOpen)==null||i.call(e):(a=e.onClose)==null||a.call(e)},[e.opened]),{floating:s,controlled:typeof e.opened=="boolean",opened:t,onClose:o,onToggle:r}}const Jb={position:"bottom",offset:8,positionDependencies:[],transitionProps:{transition:"fade",duration:150},middlewares:{flip:!0,shift:!0,inline:!1},arrowSize:7,arrowOffset:5,arrowRadius:0,arrowPosition:"side",closeOnClickOutside:!0,withinPortal:!0,closeOnEscape:!0,trapFocus:!1,withRoles:!0,returnFocus:!1,clickOutsideEvents:["mousedown","touchstart"],zIndex:Ft("popover"),__staticSelector:"Popover",width:"max-content"},e0=(e,{radius:t,shadow:n})=>({dropdown:{"--popover-radius":t===void 0?void 0:me(t),"--popover-shadow":Xi(n)}});function We(e){var Xt,Qt,Jt,no,qr,Yr;const t=L("Popover",Jb,e),{children:n,position:o,offset:r,onPositionChange:s,positionDependencies:a,opened:i,transitionProps:l,width:d,middlewares:f,withArrow:p,arrowSize:m,arrowOffset:h,arrowRadius:g,arrowPosition:b,unstyled:v,classNames:y,styles:C,closeOnClickOutside:x,withinPortal:w,portalProps:E,closeOnEscape:k,clickOutsideEvents:T,trapFocus:M,onClose:N,onOpen:V,onChange:H,zIndex:z,radius:W,shadow:$,id:_,defaultOpened:I,__staticSelector:S,withRoles:R,disabled:D,returnFocus:P,variant:B,keepMounted:X,vars:ne,floatingStrategy:oe,...q}=t,ee=Y({name:S,props:t,classes:Il,classNames:y,styles:C,unstyled:v,rootSelector:"dropdown",vars:ne,varsResolver:e0}),se=u.useRef(null),[we,le]=u.useState(null),[qe,St]=u.useState(null),{dir:it}=Ut(),lt=Gt(_),de=Qb({middlewares:f,width:d,position:El(it,o),offset:typeof r=="number"?r+(p?m/2:0):r,arrowRef:se,arrowOffset:h,onPositionChange:s,positionDependencies:a,opened:i,defaultOpened:I,onChange:H,onOpen:V,onClose:N,strategy:oe});A1(()=>x&&de.onClose(),T,[we,qe]);const eo=u.useCallback(jt=>{le(jt),de.floating.refs.setReference(jt)},[de.floating.refs.setReference]),to=u.useCallback(jt=>{St(jt),de.floating.refs.setFloating(jt)},[de.floating.refs.setFloating]);return c.jsx(zb,{value:{returnFocus:P,disabled:D,controlled:de.controlled,reference:eo,floating:to,x:de.floating.x,y:de.floating.y,arrowX:(Jt=(Qt=(Xt=de.floating)==null?void 0:Xt.middlewareData)==null?void 0:Qt.arrow)==null?void 0:Jt.x,arrowY:(Yr=(qr=(no=de.floating)==null?void 0:no.middlewareData)==null?void 0:qr.arrow)==null?void 0:Yr.y,opened:de.opened,arrowRef:se,transitionProps:l,width:d,withArrow:p,arrowSize:m,arrowOffset:h,arrowRadius:g,arrowPosition:b,placement:de.floating.placement,trapFocus:M,withinPortal:w,portalProps:E,zIndex:z,radius:W,shadow:$,closeOnEscape:k,onClose:de.onClose,onToggle:de.onToggle,getTargetId:()=>`${lt}-target`,getDropdownId:()=>`${lt}-dropdown`,withRoles:R,targetProps:q,__staticSelector:S,classNames:y,styles:C,unstyled:v,variant:B,keepMounted:X,getStyles:ee,floatingStrategy:oe},children:n})}We.Target=Mr;We.Dropdown=Bn;We.displayName="@mantine/core/Popover";We.extend=e=>e;var ve={root:"m_5ae2e3c",barsLoader:"m_7a2bd4cd",bar:"m_870bb79","bars-loader-animation":"m_5d2b3b9d",dotsLoader:"m_4e3f22d7",dot:"m_870c4af","loader-dots-animation":"m_aac34a1",ovalLoader:"m_b34414df","oval-loader-animation":"m_f8e89c4b"};const t0=u.forwardRef(({className:e,...t},n)=>c.jsxs(G,{component:"span",className:Ve(ve.barsLoader,e),...t,ref:n,children:[c.jsx("span",{className:ve.bar}),c.jsx("span",{className:ve.bar}),c.jsx("span",{className:ve.bar})]})),n0=u.forwardRef(({className:e,...t},n)=>c.jsxs(G,{component:"span",className:Ve(ve.dotsLoader,e),...t,ref:n,children:[c.jsx("span",{className:ve.dot}),c.jsx("span",{className:ve.dot}),c.jsx("span",{className:ve.dot})]})),o0=u.forwardRef(({className:e,...t},n)=>c.jsx(G,{component:"span",className:Ve(ve.ovalLoader,e),...t,ref:n})),Nl={bars:t0,oval:o0,dots:n0},r0={loaders:Nl,type:"oval"},s0=(e,{size:t,color:n})=>({root:{"--loader-size":re(t,"loader-size"),"--loader-color":n?$e(n,e):void 0}}),Ke=J((e,t)=>{const n=L("Loader",r0,e),{size:o,color:r,type:s,vars:a,className:i,style:l,classNames:d,styles:f,unstyled:p,loaders:m,variant:h,children:g,...b}=n,v=Y({name:"Loader",props:n,classes:ve,className:i,style:l,classNames:d,styles:f,unstyled:p,vars:a,varsResolver:s0});return g?c.jsx(G,{...v("root"),ref:t,...b,children:g}):c.jsx(G,{...v("root"),ref:t,component:m[s],variant:h,size:o,...b})});Ke.defaultLoaders=Nl;Ke.classes=ve;Ke.displayName="@mantine/core/Loader";var Fn={root:"m_8d3f4000",icon:"m_8d3afb97",loader:"m_302b9fb1",group:"m_1a0f1b21"};const sa={orientation:"horizontal"},a0=(e,{borderWidth:t})=>({group:{"--ai-border-width":j(t)}}),Er=J((e,t)=>{const n=L("ActionIconGroup",sa,e),{className:o,style:r,classNames:s,styles:a,unstyled:i,orientation:l,vars:d,borderWidth:f,variant:p,mod:m,...h}=L("ActionIconGroup",sa,e),g=Y({name:"ActionIconGroup",props:n,classes:Fn,className:o,style:r,classNames:s,styles:a,unstyled:i,vars:d,varsResolver:a0,rootSelector:"group"});return c.jsx(G,{...g("group"),ref:t,variant:p,mod:[{"data-orientation":l},m],role:"group",...h})});Er.classes=Fn;Er.displayName="@mantine/core/ActionIconGroup";const i0={},l0=(e,{size:t,radius:n,variant:o,gradient:r,color:s,autoContrast:a})=>{const i=e.variantColorResolver({color:s||e.primaryColor,theme:e,gradient:r,variant:o||"filled",autoContrast:a});return{root:{"--ai-size":re(t,"ai-size"),"--ai-radius":n===void 0?void 0:me(n),"--ai-bg":s||o?i.background:void 0,"--ai-hover":s||o?i.hover:void 0,"--ai-hover-color":s||o?i.hoverColor:void 0,"--ai-color":i.color,"--ai-bd":s||o?i.border:void 0}}},xt=fe((e,t)=>{const n=L("ActionIcon",i0,e),{className:o,unstyled:r,variant:s,classNames:a,styles:i,style:l,loading:d,loaderProps:f,size:p,color:m,radius:h,__staticSelector:g,gradient:b,vars:v,children:y,disabled:C,"data-disabled":x,autoContrast:w,mod:E,...k}=n,T=Y({name:["ActionIcon",g],props:n,className:o,style:l,classes:Fn,classNames:a,styles:i,unstyled:r,vars:v,varsResolver:l0});return c.jsxs(at,{...T("root",{active:!C&&!d&&!x}),...k,unstyled:r,variant:s,size:p,disabled:C||d,ref:t,mod:[{loading:d,disabled:C||x},E],children:[c.jsx(yt,{mounted:!!d,transition:"slide-down",duration:150,children:M=>c.jsx(G,{component:"span",...T("loader",{style:M}),"aria-hidden":!0,children:c.jsx(Ke,{color:"var(--ai-color)",size:"calc(var(--ai-size) * 0.55)",...f})})}),c.jsx(G,{component:"span",mod:{loading:d},...T("icon"),children:y})]})});xt.classes=Fn;xt.displayName="@mantine/core/ActionIcon";xt.Group=Er;const _l=u.forwardRef(({size:e="var(--cb-icon-size, 70%)",style:t,...n},o)=>c.jsx("svg",{viewBox:"0 0 15 15",fill:"none",xmlns:"http://www.w3.org/2000/svg",style:{...t,width:e,height:e},ref:o,...n,children:c.jsx("path",{d:"M11.7816 4.03157C12.0062 3.80702 12.0062 3.44295 11.7816 3.2184C11.5571 2.99385 11.193 2.99385 10.9685 3.2184L7.50005 6.68682L4.03164 3.2184C3.80708 2.99385 3.44301 2.99385 3.21846 3.2184C2.99391 3.44295 2.99391 3.80702 3.21846 4.03157L6.68688 7.49999L3.21846 10.9684C2.99391 11.193 2.99391 11.557 3.21846 11.7816C3.44301 12.0061 3.80708 12.0061 4.03164 11.7816L7.50005 8.31316L10.9685 11.7816C11.193 12.0061 11.5571 12.0061 11.7816 11.7816C12.0062 11.557 12.0062 11.193 11.7816 10.9684L8.31322 7.49999L11.7816 4.03157Z",fill:"currentColor",fillRule:"evenodd",clipRule:"evenodd"})}));_l.displayName="@mantine/core/CloseIcon";var Hl={root:"m_86a44da5","root--subtle":"m_220c80f2"};const c0={variant:"subtle"},d0=(e,{size:t,radius:n,iconSize:o})=>({root:{"--cb-size":re(t,"cb-size"),"--cb-radius":n===void 0?void 0:me(n),"--cb-icon-size":j(o)}}),Tr=fe((e,t)=>{const n=L("CloseButton",c0,e),{iconSize:o,children:r,vars:s,radius:a,className:i,classNames:l,style:d,styles:f,unstyled:p,"data-disabled":m,disabled:h,variant:g,icon:b,mod:v,...y}=n,C=Y({name:"CloseButton",props:n,className:i,style:d,classes:Hl,classNames:l,styles:f,unstyled:p,vars:s,varsResolver:d0});return c.jsxs(at,{ref:t,...y,unstyled:p,variant:g,disabled:h,mod:[{disabled:h||m},v],...C("root",{variant:g,active:!h&&!m}),children:[b||c.jsx(_l,{}),r]})});Tr.classes=Hl;Tr.displayName="@mantine/core/CloseButton";function u0(e){return u.Children.toArray(e).filter(Boolean)}var Ll={root:"m_4081bf90"};const f0={preventGrowOverflow:!0,gap:"md",align:"center",justify:"flex-start",wrap:"wrap"},p0=(e,{grow:t,preventGrowOverflow:n,gap:o,align:r,justify:s,wrap:a},{childWidth:i})=>({root:{"--group-child-width":t&&n?i:void 0,"--group-gap":zt(o),"--group-align":r,"--group-justify":s,"--group-wrap":a}}),ce=J((e,t)=>{const n=L("Group",f0,e),{classNames:o,className:r,style:s,styles:a,unstyled:i,children:l,gap:d,align:f,justify:p,wrap:m,grow:h,preventGrowOverflow:g,vars:b,variant:v,__size:y,mod:C,...x}=n,w=u0(l),E=w.length,k=zt(d??"md"),M={childWidth:`calc(${100/E}% - (${k} - ${k} / ${E}))`},N=Y({name:"Group",props:n,stylesCtx:M,className:r,style:s,classes:Ll,classNames:o,styles:a,unstyled:i,vars:b,varsResolver:p0});return c.jsx(G,{...N("root"),ref:t,variant:v,mod:[{grow:h},C],size:y,...x,children:w})});ce.classes=Ll;ce.displayName="@mantine/core/Group";var Al={root:"m_9814e45f"};const m0={zIndex:Ft("modal")},h0=(e,{gradient:t,color:n,backgroundOpacity:o,blur:r,radius:s,zIndex:a})=>({root:{"--overlay-bg":t||(n!==void 0||o!==void 0)&&ke(n||"#000",o??.6)||void 0,"--overlay-filter":r?`blur(${j(r)})`:void 0,"--overlay-radius":s===void 0?void 0:me(s),"--overlay-z-index":a==null?void 0:a.toString()}}),wn=fe((e,t)=>{const n=L("Overlay",m0,e),{classNames:o,className:r,style:s,styles:a,unstyled:i,vars:l,fixed:d,center:f,children:p,radius:m,zIndex:h,gradient:g,blur:b,color:v,backgroundOpacity:y,mod:C,...x}=n,w=Y({name:"Overlay",props:n,classes:Al,className:r,style:s,classNames:o,styles:a,unstyled:i,vars:l,varsResolver:h0});return c.jsx(G,{ref:t,...w("root"),mod:[{center:f,fixed:d},C],...x,children:p})});wn.classes=Al;wn.displayName="@mantine/core/Overlay";const[g0,zn]=qi({offsetBottom:!1,offsetTop:!1,describedBy:void 0,getStyles:null,inputId:void 0,labelId:void 0});var be={wrapper:"m_6c018570",input:"m_8fb7ebe7",section:"m_82577fc2",placeholder:"m_88bacfd0",root:"m_46b77525",label:"m_8fdc1311",required:"m_78a94662",error:"m_8f816625",description:"m_fe47ce59"};const aa={},b0=(e,{size:t})=>({description:{"--input-description-size":t===void 0?void 0:`calc(${ye(t)} - ${j(2)})`}}),Gn=J((e,t)=>{const n=L("InputDescription",aa,e),{classNames:o,className:r,style:s,styles:a,unstyled:i,vars:l,size:d,__staticSelector:f,__inheritStyles:p=!0,variant:m,...h}=L("InputDescription",aa,n),g=zn(),b=Y({name:["InputWrapper",f],props:n,classes:be,className:r,style:s,classNames:o,styles:a,unstyled:i,rootSelector:"description",vars:l,varsResolver:b0}),v=p&&(g==null?void 0:g.getStyles)||b;return c.jsx(G,{component:"p",ref:t,variant:m,size:d,...v("description",g!=null&&g.getStyles?{className:r,style:s}:void 0),...h})});Gn.classes=be;Gn.displayName="@mantine/core/InputDescription";const v0={},y0=(e,{size:t})=>({error:{"--input-error-size":t===void 0?void 0:`calc(${ye(t)} - ${j(2)})`}}),Zn=J((e,t)=>{const n=L("InputError",v0,e),{classNames:o,className:r,style:s,styles:a,unstyled:i,vars:l,size:d,__staticSelector:f,__inheritStyles:p=!0,variant:m,...h}=n,g=Y({name:["InputWrapper",f],props:n,classes:be,className:r,style:s,classNames:o,styles:a,unstyled:i,rootSelector:"error",vars:l,varsResolver:y0}),b=zn(),v=p&&(b==null?void 0:b.getStyles)||g;return c.jsx(G,{component:"p",ref:t,variant:m,size:d,...v("error",b!=null&&b.getStyles?{className:r,style:s}:void 0),...h})});Zn.classes=be;Zn.displayName="@mantine/core/InputError";const ia={labelElement:"label"},x0=(e,{size:t})=>({label:{"--input-label-size":ye(t),"--input-asterisk-color":void 0}}),Un=J((e,t)=>{const n=L("InputLabel",ia,e),{classNames:o,className:r,style:s,styles:a,unstyled:i,vars:l,labelElement:d,size:f,required:p,htmlFor:m,onMouseDown:h,children:g,__staticSelector:b,variant:v,mod:y,...C}=L("InputLabel",ia,n),x=Y({name:["InputWrapper",b],props:n,classes:be,className:r,style:s,classNames:o,styles:a,unstyled:i,rootSelector:"label",vars:l,varsResolver:x0}),w=zn(),E=(w==null?void 0:w.getStyles)||x;return c.jsxs(G,{...E("label",w!=null&&w.getStyles?{className:r,style:s}:void 0),component:d,variant:v,size:f,ref:t,htmlFor:d==="label"?m:void 0,mod:[{required:p},y],onMouseDown:k=>{h==null||h(k),!k.defaultPrevented&&k.detail>1&&k.preventDefault()},...C,children:[g,p&&c.jsx("span",{...E("required"),"aria-hidden":!0,children:" *"})]})});Un.classes=be;Un.displayName="@mantine/core/InputLabel";const la={},Rr=J((e,t)=>{const n=L("InputPlaceholder",la,e),{classNames:o,className:r,style:s,styles:a,unstyled:i,vars:l,__staticSelector:d,variant:f,error:p,mod:m,...h}=L("InputPlaceholder",la,n),g=Y({name:["InputPlaceholder",d],props:n,classes:be,className:r,style:s,classNames:o,styles:a,unstyled:i,rootSelector:"placeholder"});return c.jsx(G,{...g("placeholder"),mod:[{error:!!p},m],component:"span",variant:f,ref:t,...h})});Rr.classes=be;Rr.displayName="@mantine/core/InputPlaceholder";function C0(e,{hasDescription:t,hasError:n}){const o=e.findIndex(l=>l==="input"),r=e.slice(0,o),s=e.slice(o+1),a=t&&r.includes("description")||n&&r.includes("error");return{offsetBottom:t&&s.includes("description")||n&&s.includes("error"),offsetTop:a}}const w0={labelElement:"label",inputContainer:e=>e,inputWrapperOrder:["label","description","input","error"]},k0=(e,{size:t})=>({label:{"--input-label-size":ye(t),"--input-asterisk-color":void 0},error:{"--input-error-size":t===void 0?void 0:`calc(${ye(t)} - ${j(2)})`},description:{"--input-description-size":t===void 0?void 0:`calc(${ye(t)} - ${j(2)})`}}),$r=J((e,t)=>{const n=L("InputWrapper",w0,e),{classNames:o,className:r,style:s,styles:a,unstyled:i,vars:l,size:d,variant:f,__staticSelector:p,inputContainer:m,inputWrapperOrder:h,label:g,error:b,description:v,labelProps:y,descriptionProps:C,errorProps:x,labelElement:w,children:E,withAsterisk:k,id:T,required:M,__stylesApiProps:N,mod:V,...H}=n,z=Y({name:["InputWrapper",p],props:N||n,classes:be,className:r,style:s,classNames:o,styles:a,unstyled:i,vars:l,varsResolver:k0}),W={size:d,variant:f,__staticSelector:p},$=Gt(T),_=typeof k=="boolean"?k:M,I=(x==null?void 0:x.id)||`${$}-error`,S=(C==null?void 0:C.id)||`${$}-description`,R=$,D=!!b&&typeof b!="boolean",P=!!v,B=`${D?I:""} ${P?S:""}`,X=B.trim().length>0?B.trim():void 0,ne=(y==null?void 0:y.id)||`${$}-label`,oe=g&&c.jsx(Un,{labelElement:w,id:ne,htmlFor:R,required:_,...W,...y,children:g},"label"),q=P&&c.jsx(Gn,{...C,...W,size:(C==null?void 0:C.size)||W.size,id:(C==null?void 0:C.id)||S,children:v},"description"),ee=c.jsx(u.Fragment,{children:m(E)},"input"),se=D&&u.createElement(Zn,{...x,...W,size:(x==null?void 0:x.size)||W.size,key:"error",id:(x==null?void 0:x.id)||I},b),we=h.map(le=>{switch(le){case"label":return oe;case"input":return ee;case"description":return q;case"error":return se;default:return null}});return c.jsx(g0,{value:{getStyles:z,describedBy:X,inputId:R,labelId:ne,...C0(h,{hasDescription:P,hasError:D})},children:c.jsx(G,{ref:t,variant:f,size:d,mod:[{error:!!b},V],...z("root"),...H,children:we})})});$r.classes=be;$r.displayName="@mantine/core/InputWrapper";const S0={variant:"default",leftSectionPointerEvents:"none",rightSectionPointerEvents:"none",withAria:!0,withErrorStyles:!0},j0=(e,t,n)=>({wrapper:{"--input-margin-top":n.offsetTop?"calc(var(--mantine-spacing-xs) / 2)":void 0,"--input-margin-bottom":n.offsetBottom?"calc(var(--mantine-spacing-xs) / 2)":void 0,"--input-height":re(t.size,"input-height"),"--input-fz":ye(t.size),"--input-radius":t.radius===void 0?void 0:me(t.radius),"--input-left-section-width":t.leftSectionWidth!==void 0?j(t.leftSectionWidth):void 0,"--input-right-section-width":t.rightSectionWidth!==void 0?j(t.rightSectionWidth):void 0,"--input-padding-y":t.multiline?re(t.size,"input-padding-y"):void 0,"--input-left-section-pointer-events":t.leftSectionPointerEvents,"--input-right-section-pointer-events":t.rightSectionPointerEvents}}),ge=fe((e,t)=>{const n=L("Input",S0,e),{classNames:o,className:r,style:s,styles:a,unstyled:i,required:l,__staticSelector:d,__stylesApiProps:f,size:p,wrapperProps:m,error:h,disabled:g,leftSection:b,leftSectionProps:v,leftSectionWidth:y,rightSection:C,rightSectionProps:x,rightSectionWidth:w,rightSectionPointerEvents:E,leftSectionPointerEvents:k,variant:T,vars:M,pointer:N,multiline:V,radius:H,id:z,withAria:W,withErrorStyles:$,mod:_,inputSize:I,...S}=n,{styleProps:R,rest:D}=On(S),P=zn(),B={offsetBottom:P==null?void 0:P.offsetBottom,offsetTop:P==null?void 0:P.offsetTop},X=Y({name:["Input",d],props:f||n,classes:be,className:r,style:s,classNames:o,styles:a,unstyled:i,stylesCtx:B,rootSelector:"wrapper",vars:M,varsResolver:j0}),ne=W?{required:l,disabled:g,"aria-invalid":!!h,"aria-describedby":P==null?void 0:P.describedBy,id:(P==null?void 0:P.inputId)||z}:{};return c.jsxs(G,{...X("wrapper"),...R,...m,mod:[{error:!!h&&$,pointer:N,disabled:g,multiline:V,"data-with-right-section":!!C,"data-with-left-section":!!b},_],variant:T,size:p,children:[b&&c.jsx("div",{...v,"data-position":"left",...X("section",{className:v==null?void 0:v.className,style:v==null?void 0:v.style}),children:b}),c.jsx(G,{component:"input",...D,...ne,ref:t,required:l,mod:{disabled:g,error:!!h&&$},variant:T,__size:I,...X("input")}),C&&c.jsx("div",{...x,"data-position":"right",...X("section",{className:x==null?void 0:x.className,style:x==null?void 0:x.style}),children:C})]})});ge.classes=be;ge.Wrapper=$r;ge.Label=Un;ge.Error=Zn;ge.Description=Gn;ge.Placeholder=Rr;ge.displayName="@mantine/core/Input";function M0(e,t,n){const o=L(e,t,n),{label:r,description:s,error:a,required:i,classNames:l,styles:d,className:f,unstyled:p,__staticSelector:m,__stylesApiProps:h,errorProps:g,labelProps:b,descriptionProps:v,wrapperProps:y,id:C,size:x,style:w,inputContainer:E,inputWrapperOrder:k,withAsterisk:T,variant:M,vars:N,mod:V,...H}=o,{styleProps:z,rest:W}=On(H),$={label:r,description:s,error:a,required:i,classNames:l,className:f,__staticSelector:m,__stylesApiProps:h||o,errorProps:g,labelProps:b,descriptionProps:v,unstyled:p,styles:d,size:x,style:w,inputContainer:E,inputWrapperOrder:k,withAsterisk:T,variant:M,id:C,mod:V,...y};return{...W,classNames:l,styles:d,unstyled:p,wrapperProps:{...$,...z},inputProps:{required:i,classNames:l,styles:d,unstyled:p,size:x,__staticSelector:m,__stylesApiProps:h||o,error:a,variant:M,id:C}}}const E0={__staticSelector:"InputBase",withAria:!0},Ct=fe((e,t)=>{const{inputProps:n,wrapperProps:o,...r}=M0("InputBase",E0,e);return c.jsx(ge.Wrapper,{...o,children:c.jsx(ge,{...n,...r,ref:t})})});Ct.classes={...ge.classes,...ge.Wrapper.classes};Ct.displayName="@mantine/core/InputBase";const T0={gap:{type:"spacing",property:"gap"},rowGap:{type:"spacing",property:"rowGap"},columnGap:{type:"spacing",property:"columnGap"},align:{type:"identity",property:"alignItems"},justify:{type:"identity",property:"justifyContent"},wrap:{type:"identity",property:"flexWrap"},direction:{type:"identity",property:"flexDirection"}};var Vl={root:"m_8bffd616"};const R0={},Ir=fe((e,t)=>{const n=L("Flex",R0,e),{classNames:o,className:r,style:s,styles:a,unstyled:i,vars:l,gap:d,rowGap:f,columnGap:p,align:m,justify:h,wrap:g,direction:b,...v}=n,y=Y({name:"Flex",classes:Vl,props:n,className:r,style:s,classNames:o,styles:a,unstyled:i,vars:l}),C=he(),x=fl(),w=ul({styleProps:{gap:d,rowGap:f,columnGap:p,align:m,justify:h,wrap:g,direction:b},theme:C,data:T0});return c.jsxs(c.Fragment,{children:[w.hasResponsiveStyles&&c.jsx(dl,{selector:`.${x}`,styles:w.styles,media:w.media}),c.jsx(G,{ref:t,...y("root",{className:x,style:Hn(w.inlineStyles)}),...v})]})});Ir.classes=Vl;Ir.displayName="@mantine/core/Flex";var Ol={root:"m_b6d8b162"};function $0(e){if(e==="start")return"start";if(e==="end"||e)return"end"}const I0={inherit:!1},P0=(e,{variant:t,lineClamp:n,gradient:o,size:r,color:s})=>({root:{"--text-fz":ye(r),"--text-lh":_1(r),"--text-gradient":t==="gradient"?Fo(o,e):void 0,"--text-line-clamp":typeof n=="number"?n.toString():void 0,"--text-color":s?$e(s,e):void 0}}),Ie=fe((e,t)=>{const n=L("Text",I0,e),{lineClamp:o,truncate:r,inline:s,inherit:a,gradient:i,span:l,__staticSelector:d,vars:f,className:p,style:m,classNames:h,styles:g,unstyled:b,variant:v,mod:y,size:C,...x}=n,w=Y({name:["Text",d],props:n,classes:Ol,className:p,style:m,classNames:h,styles:g,unstyled:b,vars:f,varsResolver:P0});return c.jsx(G,{...w("root",{focusable:!0}),ref:t,component:l?"span":"p",variant:v,mod:[{"data-truncate":$0(r),"data-line-clamp":typeof o=="number","data-inline":s,"data-inherit":a},y],size:C,...x})});Ie.classes=Ol;Ie.displayName="@mantine/core/Text";function Pr({size:e,style:t,...n}){const o=e!==void 0?{width:j(e),height:j(e),...t}:t;return c.jsx("svg",{viewBox:"0 0 10 7",fill:"none",xmlns:"http://www.w3.org/2000/svg",style:o,"aria-hidden":!0,...n,children:c.jsx("path",{d:"M4 4.586L1.707 2.293A1 1 0 1 0 .293 3.707l3 3a.997.997 0 0 0 1.414 0l5-5A1 1 0 1 0 8.293.293L4 4.586z",fill:"currentColor",fillRule:"evenodd",clipRule:"evenodd"})})}const Dl=u.createContext(null),N0=Dl.Provider;function _0(){return{withinGroup:!!u.useContext(Dl)}}var Wn={group:"m_11def92b",root:"m_f85678b6",image:"m_11f8ac07",placeholder:"m_104cd71f"};const H0={},L0=(e,{spacing:t})=>({group:{"--ag-spacing":zt(t)}}),Nr=J((e,t)=>{const n=L("AvatarGroup",H0,e),{classNames:o,className:r,style:s,styles:a,unstyled:i,vars:l,spacing:d,...f}=n,p=Y({name:"AvatarGroup",classes:Wn,props:n,className:r,style:s,classNames:o,styles:a,unstyled:i,vars:l,varsResolver:L0,rootSelector:"group"});return c.jsx(N0,{value:!0,children:c.jsx(G,{ref:t,...p("group"),...f})})});Nr.classes=Wn;Nr.displayName="@mantine/core/AvatarGroup";function A0(e){return c.jsx("svg",{...e,"data-avatar-placeholder-icon":!0,viewBox:"0 0 15 15",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:c.jsx("path",{d:"M0.877014 7.49988C0.877014 3.84219 3.84216 0.877045 7.49985 0.877045C11.1575 0.877045 14.1227 3.84219 14.1227 7.49988C14.1227 11.1575 11.1575 14.1227 7.49985 14.1227C3.84216 14.1227 0.877014 11.1575 0.877014 7.49988ZM7.49985 1.82704C4.36683 1.82704 1.82701 4.36686 1.82701 7.49988C1.82701 8.97196 2.38774 10.3131 3.30727 11.3213C4.19074 9.94119 5.73818 9.02499 7.50023 9.02499C9.26206 9.02499 10.8093 9.94097 11.6929 11.3208C12.6121 10.3127 13.1727 8.97172 13.1727 7.49988C13.1727 4.36686 10.6328 1.82704 7.49985 1.82704ZM10.9818 11.9787C10.2839 10.7795 8.9857 9.97499 7.50023 9.97499C6.01458 9.97499 4.71624 10.7797 4.01845 11.9791C4.97952 12.7272 6.18765 13.1727 7.49985 13.1727C8.81227 13.1727 10.0206 12.727 10.9818 11.9787ZM5.14999 6.50487C5.14999 5.207 6.20212 4.15487 7.49999 4.15487C8.79786 4.15487 9.84999 5.207 9.84999 6.50487C9.84999 7.80274 8.79786 8.85487 7.49999 8.85487C6.20212 8.85487 5.14999 7.80274 5.14999 6.50487ZM7.49999 5.10487C6.72679 5.10487 6.09999 5.73167 6.09999 6.50487C6.09999 7.27807 6.72679 7.90487 7.49999 7.90487C8.27319 7.90487 8.89999 7.27807 8.89999 6.50487C8.89999 5.73167 8.27319 5.10487 7.49999 5.10487Z",fill:"currentColor",fillRule:"evenodd",clipRule:"evenodd"})})}function Bl(e,t=2){const n=e.split(" ");return n.length===1?e.slice(0,t).toUpperCase():n.map(o=>o[0]).slice(0,t).join("").toUpperCase()}function V0(e){let t=0;for(let n=0;n<e.length;n+=1){const o=e.charCodeAt(n);t=(t<<5)-t+o,t|=0}return t}const O0=["blue","cyan","grape","green","indigo","lime","orange","pink","red","teal","violet"];function D0(e,t=O0){const n=V0(Bl(e)),o=Math.abs(n)%t.length;return t[o]}const B0={},F0=(e,{size:t,radius:n,variant:o,gradient:r,color:s,autoContrast:a,name:i,allowedInitialsColors:l})=>{const d=s==="initials"&&typeof i=="string"?D0(i,l):s,f=e.variantColorResolver({color:d||"gray",theme:e,gradient:r,variant:o||"light",autoContrast:a});return{root:{"--avatar-size":re(t,"avatar-size"),"--avatar-radius":n===void 0?void 0:me(n),"--avatar-bg":d||o?f.background:void 0,"--avatar-color":d||o?f.color:void 0,"--avatar-bd":d||o?f.border:void 0}}},Kn=fe((e,t)=>{const n=L("Avatar",B0,e),{classNames:o,className:r,style:s,styles:a,unstyled:i,vars:l,src:d,alt:f,radius:p,color:m,gradient:h,imageProps:g,children:b,autoContrast:v,mod:y,name:C,allowedInitialsColors:x,...w}=n,E=_0(),[k,T]=u.useState(!d),M=Y({name:"Avatar",props:n,classes:Wn,className:r,style:s,classNames:o,styles:a,unstyled:i,vars:l,varsResolver:F0});return u.useEffect(()=>T(!d),[d]),c.jsx(G,{...M("root"),mod:[{"within-group":E.withinGroup},y],ref:t,...w,children:k?c.jsx("span",{...M("placeholder"),title:f,children:b||typeof C=="string"&&Bl(C)||c.jsx(A0,{})}):c.jsx("img",{...g,...M("image"),src:d,alt:f,onError:N=>{var V;T(!0),(V=g==null?void 0:g.onError)==null||V.call(g,N)}})})});Kn.classes=Wn;Kn.displayName="@mantine/core/Avatar";Kn.Group=Nr;var Fl={root:"m_347db0ec","root--dot":"m_fbd81e3d",label:"m_5add502a",section:"m_91fdda9b"};const z0={},G0=(e,{radius:t,color:n,gradient:o,variant:r,size:s,autoContrast:a})=>{const i=e.variantColorResolver({color:n||e.primaryColor,theme:e,gradient:o,variant:r||"filled",autoContrast:a});return{root:{"--badge-height":re(s,"badge-height"),"--badge-padding-x":re(s,"badge-padding-x"),"--badge-fz":re(s,"badge-fz"),"--badge-radius":t===void 0?void 0:me(t),"--badge-bg":n||r?i.background:void 0,"--badge-color":n||r?i.color:void 0,"--badge-bd":n||r?i.border:void 0,"--badge-dot-color":r==="dot"?$e(n,e):void 0}}},_r=fe((e,t)=>{const n=L("Badge",z0,e),{classNames:o,className:r,style:s,styles:a,unstyled:i,vars:l,radius:d,color:f,gradient:p,leftSection:m,rightSection:h,children:g,variant:b,fullWidth:v,autoContrast:y,circle:C,mod:x,...w}=n,E=Y({name:"Badge",props:n,classes:Fl,className:r,style:s,classNames:o,styles:a,unstyled:i,vars:l,varsResolver:G0});return c.jsxs(G,{variant:b,mod:[{block:v,circle:C},x],...E("root",{variant:b}),ref:t,...w,children:[m&&c.jsx("span",{...E("section"),"data-position":"left",children:m}),c.jsx("span",{...E("label"),children:g}),h&&c.jsx("span",{...E("section"),"data-position":"right",children:h})]})});_r.classes=Fl;_r.displayName="@mantine/core/Badge";var qn={root:"m_77c9d27d",inner:"m_80f1301b",label:"m_811560b9",section:"m_a74036a",loader:"m_a25b86ee",group:"m_80d6d844"};const ca={orientation:"horizontal"},Z0=(e,{borderWidth:t})=>({group:{"--button-border-width":j(t)}}),Hr=J((e,t)=>{const n=L("ButtonGroup",ca,e),{className:o,style:r,classNames:s,styles:a,unstyled:i,orientation:l,vars:d,borderWidth:f,variant:p,mod:m,...h}=L("ButtonGroup",ca,e),g=Y({name:"ButtonGroup",props:n,classes:qn,className:o,style:r,classNames:s,styles:a,unstyled:i,vars:d,varsResolver:Z0,rootSelector:"group"});return c.jsx(G,{...g("group"),ref:t,variant:p,mod:[{"data-orientation":l},m],role:"group",...h})});Hr.classes=qn;Hr.displayName="@mantine/core/ButtonGroup";const U0={in:{opacity:1,transform:`translate(-50%, calc(-50% + ${j(1)}))`},out:{opacity:0,transform:"translate(-50%, -200%)"},common:{transformOrigin:"center"},transitionProperty:"transform, opacity"},W0={},K0=(e,{radius:t,color:n,gradient:o,variant:r,size:s,justify:a,autoContrast:i})=>{const l=e.variantColorResolver({color:n||e.primaryColor,theme:e,gradient:o,variant:r||"filled",autoContrast:i});return{root:{"--button-justify":a,"--button-height":re(s,"button-height"),"--button-padding-x":re(s,"button-padding-x"),"--button-fz":s!=null&&s.includes("compact")?ye(s.replace("compact-","")):ye(s),"--button-radius":t===void 0?void 0:me(t),"--button-bg":n||r?l.background:void 0,"--button-hover":n||r?l.hover:void 0,"--button-color":l.color,"--button-bd":n||r?l.border:void 0,"--button-hover-color":n||r?l.hoverColor:void 0}}},_e=fe((e,t)=>{const n=L("Button",W0,e),{style:o,vars:r,className:s,color:a,disabled:i,children:l,leftSection:d,rightSection:f,fullWidth:p,variant:m,radius:h,loading:g,loaderProps:b,gradient:v,classNames:y,styles:C,unstyled:x,"data-disabled":w,autoContrast:E,mod:k,...T}=n,M=Y({name:"Button",props:n,classes:qn,className:s,style:o,classNames:y,styles:C,unstyled:x,vars:r,varsResolver:K0}),N=!!d,V=!!f;return c.jsxs(at,{ref:t,...M("root",{active:!i&&!g&&!w}),unstyled:x,variant:m,disabled:i||g,mod:[{disabled:i||w,loading:g,block:p,"with-left-section":N,"with-right-section":V},k],...T,children:[c.jsx(yt,{mounted:!!g,transition:U0,duration:150,children:H=>c.jsx(G,{component:"span",...M("loader",{style:H}),"aria-hidden":!0,children:c.jsx(Ke,{color:"var(--button-color)",size:"calc(var(--button-height) / 1.8)",...b})})}),c.jsxs("span",{...M("inner"),children:[d&&c.jsx(G,{component:"span",...M("section"),mod:{position:"left"},children:d}),c.jsx(G,{component:"span",mod:{loading:g},...M("label"),children:l}),f&&c.jsx(G,{component:"span",...M("section"),mod:{position:"right"},children:f})]})]})});_e.classes=qn;_e.displayName="@mantine/core/Button";_e.Group=Hr;const[q0,Y0]=Ln("Card component was not found in tree");var Lr={root:"m_e615b15f",section:"m_599a2148"};const X0={},Yn=fe((e,t)=>{const n=L("CardSection",X0,e),{classNames:o,className:r,style:s,styles:a,vars:i,withBorder:l,inheritPadding:d,mod:f,...p}=n,m=Y0();return c.jsx(G,{ref:t,mod:[{"with-border":l,"inherit-padding":d},f],...m.getStyles("section",{className:r,style:s,styles:a,classNames:o}),...p})});Yn.classes=Lr;Yn.displayName="@mantine/core/CardSection";const Q0={},J0=(e,{padding:t})=>({root:{"--card-padding":zt(t)}}),Wt=fe((e,t)=>{const n=L("Card",Q0,e),{classNames:o,className:r,style:s,styles:a,unstyled:i,vars:l,children:d,padding:f,...p}=n,m=Y({name:"Card",props:n,classes:Lr,className:r,style:s,classNames:o,styles:a,unstyled:i,vars:l,varsResolver:J0}),h=u.Children.toArray(d),g=h.map((b,v)=>typeof b=="object"&&b&&"type"in b&&b.type===Yn?u.cloneElement(b,{"data-first-section":v===0||void 0,"data-last-section":v===h.length-1||void 0}):b);return c.jsx(q0,{value:{getStyles:m},children:c.jsx(yr,{ref:t,unstyled:i,...m("root"),...p,children:g})})});Wt.classes=Lr;Wt.displayName="@mantine/core/Card";Wt.Section=Yn;const[ev,tv]=qi(),nv={};function zl(e){const{value:t,defaultValue:n,onChange:o,multiple:r,children:s}=L("ChipGroup",nv,e),[a,i]=bt({value:t,defaultValue:n,finalValue:r?[]:null,onChange:o}),l=f=>Array.isArray(a)?a.includes(f):f===a,d=f=>{const p=f.currentTarget.value;Array.isArray(a)?i(a.includes(p)?a.filter(m=>m!==p):[...a,p]):i(p)};return c.jsx(ev,{value:{isChipSelected:l,onChange:d,multiple:r},children:s})}zl.displayName="@mantine/core/ChipGroup";var Gl={root:"m_f59ffda3",label:"m_be049a53","label--outline":"m_3904c1af","label--filled":"m_fa109255","label--light":"m_f7e165c3",iconWrapper:"m_9ac86df9",checkIcon:"m_d6d72580",input:"m_bde07329"};const ov={type:"checkbox"},rv=(e,{size:t,radius:n,variant:o,color:r,autoContrast:s})=>{const a=e.variantColorResolver({color:r||e.primaryColor,theme:e,variant:o||"filled",autoContrast:s});return{root:{"--chip-fz":ye(t),"--chip-size":re(t,"chip-size"),"--chip-radius":n===void 0?void 0:me(n),"--chip-checked-padding":re(t,"chip-checked-padding"),"--chip-padding":re(t,"chip-padding"),"--chip-icon-size":re(t,"chip-icon-size"),"--chip-bg":r||o?a.background:void 0,"--chip-hover":r||o?a.hover:void 0,"--chip-color":r||o?a.color:void 0,"--chip-bd":r||o?a.border:void 0,"--chip-spacing":re(t,"chip-spacing")}}},Xn=J((e,t)=>{const n=L("Chip",ov,e),{classNames:o,className:r,style:s,styles:a,unstyled:i,vars:l,id:d,checked:f,defaultChecked:p,onChange:m,value:h,wrapperProps:g,type:b,disabled:v,children:y,size:C,variant:x,icon:w,rootRef:E,autoContrast:k,mod:T,...M}=n,N=Y({name:"Chip",classes:Gl,props:n,className:r,style:s,classNames:o,styles:a,unstyled:i,vars:l,varsResolver:rv}),V=tv(),H=Gt(d),{styleProps:z,rest:W}=On(M),[$,_]=bt({value:f,defaultValue:p,finalValue:!1,onChange:m}),I=V?{checked:V.isChipSelected(h),onChange:R=>{V.onChange(R),m==null||m(R.currentTarget.checked)},type:V.multiple?"checkbox":"radio"}:{},S=I.checked||$;return c.jsxs(G,{size:C,variant:x,ref:E,mod:T,...N("root"),...z,...g,children:[c.jsx("input",{type:b,...N("input"),checked:S,onChange:R=>_(R.currentTarget.checked),id:H,disabled:v,ref:t,value:h,...I,...W}),c.jsxs("label",{htmlFor:H,"data-checked":S||void 0,"data-disabled":v||void 0,...N("label",{variant:x||"filled"}),children:[S&&c.jsx("span",{...N("iconWrapper"),children:w||c.jsx(Pr,{...N("checkIcon")})}),c.jsx("span",{children:y})]})]})});Xn.classes=Gl;Xn.displayName="@mantine/core/Chip";Xn.Group=zl;var Zl={root:"m_3eebeb36",label:"m_9e365f20"};const sv={orientation:"horizontal"},av=(e,{color:t,variant:n,size:o})=>({root:{"--divider-color":t?$e(t,e):void 0,"--divider-border-style":n,"--divider-size":re(o,"divider-size")}}),Ar=J((e,t)=>{const n=L("Divider",sv,e),{classNames:o,className:r,style:s,styles:a,unstyled:i,vars:l,color:d,orientation:f,label:p,labelPosition:m,mod:h,...g}=n,b=Y({name:"Divider",classes:Zl,props:n,className:r,style:s,classNames:o,styles:a,unstyled:i,vars:l,varsResolver:av});return c.jsx(G,{ref:t,mod:[{orientation:f,"with-label":!!p},h],...b("root"),...g,role:"separator",children:p&&c.jsx(G,{component:"span",mod:{position:m},...b("label"),children:p})})});Ar.classes=Zl;Ar.displayName="@mantine/core/Divider";const iv={multiple:!1},Ul=u.forwardRef((e,t)=>{const{onChange:n,children:o,multiple:r,accept:s,name:a,form:i,resetRef:l,disabled:d,capture:f,inputProps:p,...m}=L("FileButton",iv,e),h=u.useRef(),g=()=>{var y;!d&&((y=h.current)==null||y.click())},b=y=>{n(r?Array.from(y.currentTarget.files):y.currentTarget.files[0]||null)};return fr(l,()=>{h.current.value=""}),c.jsxs(c.Fragment,{children:[o({onClick:g,...m}),c.jsx("input",{style:{display:"none"},type:"file",accept:s,multiple:r,onChange:b,ref:Ue(t,h),name:a,form:i,capture:f,...p})]})});Ul.displayName="@mantine/core/FileButton";const lv=({value:e})=>c.jsx("div",{style:{overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap"},children:Array.isArray(e)?e.map(t=>t.name).join(", "):e==null?void 0:e.name}),cv={valueComponent:lv},Vr=J((e,t)=>{const n=L("FileInput",cv,e),{unstyled:o,vars:r,onChange:s,value:a,defaultValue:i,multiple:l,accept:d,name:f,form:p,valueComponent:m,clearable:h,clearButtonProps:g,readOnly:b,capture:v,fileInputProps:y,rightSection:C,size:x,placeholder:w,...E}=n,k=u.useRef(null),[T,M]=bt({value:a,defaultValue:i,onChange:s,finalValue:l?[]:null}),N=Array.isArray(T)?T.length!==0:T!==null,V=C||(h&&N&&!b?c.jsx(Tr,{...g,variant:"subtle",onClick:()=>M(l?[]:null),size:x,unstyled:o}):null);u.useEffect(()=>{var z;(Array.isArray(T)&&T.length===0||T===null)&&((z=k.current)==null||z.call(k))},[T]);const H=m;return c.jsx(Ul,{onChange:M,multiple:l,accept:d,name:f,form:p,resetRef:k,disabled:b,capture:v,inputProps:y,children:z=>c.jsx(Ct,{component:"button",ref:t,rightSection:V,...z,...E,__staticSelector:"FileInput",multiline:!0,type:"button",pointer:!0,__stylesApiProps:n,unstyled:o,size:x,children:N?c.jsx(H,{value:T}):c.jsx(ge.Placeholder,{children:w})})})});Vr.classes=Ct.classes;Vr.displayName="@mantine/core/FileInput";const dv=Vr;function uv({open:e,close:t,openDelay:n,closeDelay:o}){const r=u.useRef(-1),s=u.useRef(-1),a=()=>{window.clearTimeout(r.current),window.clearTimeout(s.current)},i=()=>{a(),n===0||n===void 0?e():r.current=window.setTimeout(e,n)},l=()=>{a(),o===0||o===void 0?t():s.current=window.setTimeout(t,o)};return u.useEffect(()=>a,[]),{openDropdown:i,closeDropdown:l}}var Wl={root:"m_6e45937b",loader:"m_e8eb006c",overlay:"m_df587f17"};const da={transitionProps:{transition:"fade",duration:0},overlayProps:{backgroundOpacity:.75},zIndex:Ft("overlay")},fv=(e,{zIndex:t})=>({root:{"--lo-z-index":t==null?void 0:t.toString()}}),Or=J((e,t)=>{const n=L("LoadingOverlay",da,e),{classNames:o,className:r,style:s,styles:a,unstyled:i,vars:l,transitionProps:d,loaderProps:f,overlayProps:p,visible:m,zIndex:h,...g}=n,b=he(),v=Y({name:"LoadingOverlay",classes:Wl,props:n,className:r,style:s,classNames:o,styles:a,unstyled:i,vars:l,varsResolver:fv}),y={...da.overlayProps,...p};return c.jsx(yt,{transition:"fade",...d,mounted:!!m,children:C=>c.jsxs(G,{...v("root",{style:C}),ref:t,...g,children:[c.jsx(Ke,{...v("loader"),unstyled:i,...f}),c.jsx(wn,{...y,...v("overlay"),darkHidden:!0,unstyled:i,color:(p==null?void 0:p.color)||b.white}),c.jsx(wn,{...y,...v("overlay"),lightHidden:!0,unstyled:i,color:(p==null?void 0:p.color)||b.colors.dark[5]})]})})});Or.classes=Wl;Or.displayName="@mantine/core/LoadingOverlay";const[pv,Kt]=Ln("Menu component was not found in the tree");var wt={dropdown:"m_dc9b7c9f",label:"m_9bfac126",divider:"m_efdf90cb",item:"m_99ac2aa1",itemLabel:"m_5476e0d3",itemSection:"m_8b75e504"};const mv={},Dr=J((e,t)=>{const{classNames:n,className:o,style:r,styles:s,vars:a,...i}=L("MenuDivider",mv,e),l=Kt();return c.jsx(G,{ref:t,...l.getStyles("divider",{className:o,style:r,styles:s,classNames:n}),...i})});Dr.classes=wt;Dr.displayName="@mantine/core/MenuDivider";const hv={},Br=J((e,t)=>{const{classNames:n,className:o,style:r,styles:s,vars:a,onMouseEnter:i,onMouseLeave:l,children:d,...f}=L("MenuDropdown",hv,e),p=u.useRef(null),m=Kt(),h=v=>{var y,C;(v.key==="ArrowUp"||v.key==="ArrowDown")&&(v.preventDefault(),(C=(y=p.current)==null?void 0:y.querySelectorAll("[data-menu-item]:not(:disabled)")[0])==null||C.focus())},g=He(i,()=>(m.trigger==="hover"||m.trigger==="click-hover")&&m.openDropdown()),b=He(l,()=>(m.trigger==="hover"||m.trigger==="click-hover")&&m.closeDropdown());return c.jsxs(We.Dropdown,{...f,onMouseEnter:g,onMouseLeave:b,role:"menu","aria-orientation":"vertical",ref:Ue(t,p),...m.getStyles("dropdown",{className:o,style:r,styles:s,classNames:n,withStaticClass:!1}),tabIndex:-1,"data-menu-dropdown":!0,onKeyDown:h,children:[c.jsx("div",{tabIndex:-1,"data-autofocus":!0,"aria-hidden":!0,style:{outline:0}}),d]})});Br.classes=wt;Br.displayName="@mantine/core/MenuDropdown";const gv={},Fr=fe((e,t)=>{const{classNames:n,className:o,style:r,styles:s,vars:a,color:i,closeMenuOnClick:l,leftSection:d,rightSection:f,children:p,disabled:m,...h}=L("MenuItem",gv,e),g=Kt(),b=he(),{dir:v}=Ut(),y=u.useRef(),C=g.getItemIndex(y.current),x=h,w=He(x.onMouseLeave,()=>g.setHovered(-1)),E=He(x.onMouseEnter,()=>g.setHovered(g.getItemIndex(y.current))),k=He(x.onClick,()=>{typeof l=="boolean"?l&&g.closeDropdownImmediately():g.closeOnItemClick&&g.closeDropdownImmediately()}),T=He(x.onFocus,()=>g.setHovered(g.getItemIndex(y.current))),M=i?b.variantColorResolver({color:i,theme:b,variant:"light"}):void 0,N=i?vt({color:i,theme:b}):null;return c.jsxs(at,{...h,unstyled:g.unstyled,tabIndex:g.menuItemTabIndex,onFocus:T,...g.getStyles("item",{className:o,style:r,styles:s,classNames:n}),ref:Ue(y,t),role:"menuitem",disabled:m,"data-menu-item":!0,"data-disabled":m||void 0,"data-hovered":g.hovered===C?!0:void 0,onMouseEnter:E,onMouseLeave:w,onClick:k,onKeyDown:Yi({siblingSelector:"[data-menu-item]",parentSelector:"[data-menu-dropdown]",activateOnFocus:!1,loop:g.loop,dir:v,orientation:"vertical",onKeyDown:x.onKeydown}),__vars:{"--menu-item-color":N!=null&&N.isThemeColor&&(N==null?void 0:N.shade)===void 0?`var(--mantine-color-${N.color}-6)`:M==null?void 0:M.color,"--menu-item-hover":M==null?void 0:M.hover},children:[d&&c.jsx("div",{...g.getStyles("itemSection",{styles:s,classNames:n}),"data-position":"left",children:d}),p&&c.jsx("div",{...g.getStyles("itemLabel",{styles:s,classNames:n}),children:p}),f&&c.jsx("div",{...g.getStyles("itemSection",{styles:s,classNames:n}),"data-position":"right",children:f})]})});Fr.classes=wt;Fr.displayName="@mantine/core/MenuItem";const bv={},zr=J((e,t)=>{const{classNames:n,className:o,style:r,styles:s,vars:a,...i}=L("MenuLabel",bv,e),l=Kt();return c.jsx(G,{ref:t,...l.getStyles("label",{className:o,style:r,styles:s,classNames:n}),...i})});zr.classes=wt;zr.displayName="@mantine/core/MenuLabel";const vv={refProp:"ref"},Kl=u.forwardRef((e,t)=>{const{children:n,refProp:o,...r}=L("MenuTarget",vv,e);if(!Bt(n))throw new Error("Menu.Target component children should be an element or a component that accepts ref. Fragments, strings, numbers and other primitive values are not supported");const s=Kt(),a=He(n.props.onClick,()=>{s.trigger==="click"?s.toggleDropdown():s.trigger==="click-hover"&&(s.setOpenedViaClick(!0),s.opened||s.openDropdown())}),i=He(n.props.onMouseEnter,()=>(s.trigger==="hover"||s.trigger==="click-hover")&&s.openDropdown()),l=He(n.props.onMouseLeave,()=>{(s.trigger==="hover"||s.trigger==="click-hover"&&!s.openedViaClick)&&s.closeDropdown()});return c.jsx(We.Target,{refProp:o,popupType:"menu",ref:t,...r,children:u.cloneElement(n,{onClick:a,onMouseEnter:i,onMouseLeave:l,"data-expanded":s.opened?!0:void 0})})});Kl.displayName="@mantine/core/MenuTarget";const yv={trapFocus:!0,closeOnItemClick:!0,clickOutsideEvents:["mousedown","touchstart","keydown"],loop:!0,trigger:"click",openDelay:0,closeDelay:100,menuItemTabIndex:-1};function ae(e){const t=L("Menu",yv,e),{children:n,onOpen:o,onClose:r,opened:s,defaultOpened:a,trapFocus:i,onChange:l,closeOnItemClick:d,loop:f,closeOnEscape:p,trigger:m,openDelay:h,closeDelay:g,classNames:b,styles:v,unstyled:y,variant:C,vars:x,menuItemTabIndex:w,keepMounted:E,...k}=t,T=Y({name:"Menu",classes:wt,props:t,classNames:b,styles:v,unstyled:y}),[M,{setHovered:N,resetHovered:V}]=L1(),[H,z]=bt({value:s,defaultValue:a,finalValue:!1,onChange:l}),[W,$]=u.useState(!1),_=()=>{z(!1),$(!1),H&&(r==null||r())},I=()=>{z(!0),!H&&(o==null||o())},S=()=>{H?_():I()},{openDropdown:R,closeDropdown:D}=uv({open:I,close:_,closeDelay:g,openDelay:h}),P=ne=>H1("[data-menu-item]","[data-menu-dropdown]",ne),{resolvedClassNames:B,resolvedStyles:X}=Tg({classNames:b,styles:v,props:t});return Fe(()=>{V()},[H]),c.jsx(pv,{value:{getStyles:T,opened:H,toggleDropdown:S,getItemIndex:P,hovered:M,setHovered:N,openedViaClick:W,setOpenedViaClick:$,closeOnItemClick:d,closeDropdown:m==="click"?_:D,openDropdown:m==="click"?I:R,closeDropdownImmediately:_,loop:f,trigger:m,unstyled:y,menuItemTabIndex:w},children:c.jsx(We,{...k,opened:H,onChange:S,defaultOpened:a,trapFocus:E?!1:i,closeOnEscape:p,__staticSelector:"Menu",classNames:B,styles:X,unstyled:y,variant:C,keepMounted:E,children:n})})}ae.extend=e=>e;ae.classes=wt;ae.displayName="@mantine/core/Menu";ae.Item=Fr;ae.Label=zr;ae.Dropdown=Br;ae.Target=Kl;ae.Divider=Dr;const xv={duration:100,transition:"fade"};function Cv(e,t){return{...xv,...t,...e}}function wv({offset:e,position:t,defaultOpened:n}){const[o,r]=u.useState(n),s=u.useRef(),{x:a,y:i,elements:l,refs:d,update:f,placement:p}=kr({placement:t,middleware:[rt({crossAxis:!0,padding:5,rootBoundary:"document"})]}),m=p.includes("right")?e:t.includes("left")?e*-1:0,h=p.includes("bottom")?e:t.includes("top")?e*-1:0,g=u.useCallback(({clientX:b,clientY:v})=>{d.setPositionReference({getBoundingClientRect(){return{width:0,height:0,x:b,y:v,left:b+m,top:v+h,right:b,bottom:v}}})},[l.reference]);return u.useEffect(()=>{if(d.floating.current){const b=s.current;b.addEventListener("mousemove",g);const v=et(d.floating.current);return v.forEach(y=>{y.addEventListener("scroll",f)}),()=>{b.removeEventListener("mousemove",g),v.forEach(y=>{y.removeEventListener("scroll",f)})}}},[l.reference,d.floating.current,f,g,o]),{handleMouseMove:g,x:a,y:i,opened:o,setOpened:r,boundaryRef:s,floating:d.setFloating}}var Qn={tooltip:"m_1b3c8819",arrow:"m_f898399f"};const kv={refProp:"ref",withinPortal:!0,offset:10,defaultOpened:!1,position:"right",zIndex:Ft("popover")},Sv=(e,{radius:t,color:n})=>({tooltip:{"--tooltip-radius":t===void 0?void 0:me(t),"--tooltip-bg":n?$e(n,e):void 0,"--tooltip-color":n?"var(--mantine-color-white)":void 0}}),Gr=J((e,t)=>{const n=L("TooltipFloating",kv,e),{children:o,refProp:r,withinPortal:s,style:a,className:i,classNames:l,styles:d,unstyled:f,radius:p,color:m,label:h,offset:g,position:b,multiline:v,zIndex:y,disabled:C,defaultOpened:x,variant:w,vars:E,portalProps:k,...T}=n,M=he(),N=Y({name:"TooltipFloating",props:n,classes:Qn,className:i,style:a,classNames:l,styles:d,unstyled:f,rootSelector:"tooltip",vars:E,varsResolver:Sv}),{handleMouseMove:V,x:H,y:z,opened:W,boundaryRef:$,floating:_,setOpened:I}=wv({offset:g,position:b,defaultOpened:x});if(!Bt(o))throw new Error("[@mantine/core] Tooltip.Floating component children should be an element or a component that accepts ref, fragments, strings, numbers and other primitive values are not supported");const S=Ue($,o.ref,t),R=P=>{var B,X;(X=(B=o.props).onMouseEnter)==null||X.call(B,P),V(P),I(!0)},D=P=>{var B,X;(X=(B=o.props).onMouseLeave)==null||X.call(B,P),I(!1)};return c.jsxs(c.Fragment,{children:[c.jsx(Dn,{...k,withinPortal:s,children:c.jsx(G,{...T,...N("tooltip",{style:{...pl(a,M),zIndex:y,display:!C&&W?"block":"none",top:(z&&Math.round(z))??"",left:(H&&Math.round(H))??""}}),variant:w,ref:_,mod:{multiline:v},children:h})}),u.cloneElement(o,{...o.props,[r]:S,onMouseEnter:R,onMouseLeave:D})]})});Gr.classes=Qn;Gr.displayName="@mantine/core/TooltipFloating";const ql=u.createContext(!1),jv=ql.Provider,Mv=()=>u.useContext(ql),Ev={openDelay:0,closeDelay:0};function Yl(e){const{openDelay:t,closeDelay:n,children:o}=L("TooltipGroup",Ev,e);return c.jsx(jv,{value:!0,children:c.jsx(Ib,{delay:{open:t,close:n},children:o})})}Yl.displayName="@mantine/core/TooltipGroup";function Tv(e){var k,T,M;const[t,n]=u.useState(e.defaultOpened),r=typeof e.opened=="boolean"?e.opened:t,s=Mv(),a=Gt(),{delay:i,currentId:l,setCurrentId:d}=Ml(),f=u.useCallback(N=>{n(N),N&&d(a)},[d,a]),{x:p,y:m,context:h,refs:g,update:b,placement:v,middlewareData:{arrow:{x:y,y:C}={}}}=kr({strategy:e.strategy,placement:e.position,open:r,onOpenChange:f,middleware:[Pe(e.offset),rt({padding:8}),Re(),Na({element:e.arrowRef,padding:e.arrowOffset}),...e.inline?[No()]:[]]}),{getReferenceProps:x,getFloatingProps:w}=Vb([$b(h,{enabled:(k=e.events)==null?void 0:k.hover,delay:s?i:{open:e.openDelay,close:e.closeDelay},mouseOnly:!((T=e.events)!=null&&T.touch)}),Ab(h,{enabled:(M=e.events)==null?void 0:M.focus,visibleOnly:!0}),Db(h,{role:"tooltip"}),Hb(h,{enabled:typeof e.opened>"u"}),Pb(h,{id:a})]);Pl({opened:r,position:e.position,positionDependencies:e.positionDependencies,floating:{refs:g,update:b}}),Fe(()=>{var N;(N=e.onPositionChange)==null||N.call(e,v)},[v]);const E=r&&l&&l!==a;return{x:p,y:m,arrowX:y,arrowY:C,reference:g.setReference,floating:g.setFloating,getFloatingProps:w,getReferenceProps:x,isGroupPhase:E,opened:r,placement:v}}const ua={position:"top",refProp:"ref",withinPortal:!0,inline:!1,defaultOpened:!1,arrowSize:4,arrowOffset:5,arrowRadius:0,arrowPosition:"side",offset:5,transitionProps:{duration:100,transition:"fade"},events:{hover:!0,focus:!1,touch:!1},zIndex:Ft("popover"),positionDependencies:[]},Rv=(e,{radius:t,color:n})=>({tooltip:{"--tooltip-radius":t===void 0?void 0:me(t),"--tooltip-bg":n?$e(n,e):void 0,"--tooltip-color":n?"var(--mantine-color-white)":void 0}}),kt=J((e,t)=>{const n=L("Tooltip",ua,e),{children:o,position:r,refProp:s,label:a,openDelay:i,closeDelay:l,onPositionChange:d,opened:f,defaultOpened:p,withinPortal:m,radius:h,color:g,classNames:b,styles:v,unstyled:y,style:C,className:x,withArrow:w,arrowSize:E,arrowOffset:k,arrowRadius:T,arrowPosition:M,offset:N,transitionProps:V,multiline:H,events:z,zIndex:W,disabled:$,positionDependencies:_,onClick:I,onMouseEnter:S,onMouseLeave:R,inline:D,variant:P,keepMounted:B,vars:X,portalProps:ne,mod:oe,floatingStrategy:q,...ee}=L("Tooltip",ua,n),{dir:se}=Ut(),we=u.useRef(null),le=Tv({position:El(se,r),closeDelay:l,openDelay:i,onPositionChange:d,opened:f,defaultOpened:p,events:z,arrowRef:we,arrowOffset:k,offset:typeof N=="number"?N+(w?E/2:0):N,positionDependencies:[..._,o],inline:D,strategy:q}),qe=Y({name:"Tooltip",props:n,classes:Qn,className:x,style:C,classNames:b,styles:v,unstyled:y,rootSelector:"tooltip",vars:X,varsResolver:Rv});if(!Bt(o))throw new Error("[@mantine/core] Tooltip component children should be an element or a component that accepts ref, fragments, strings, numbers and other primitive values are not supported");const St=Ue(le.reference,o.ref,t),it=Cv(V,{duration:100,transition:"fade"});return c.jsxs(c.Fragment,{children:[c.jsx(Dn,{...ne,withinPortal:m,children:c.jsx(yt,{...it,keepMounted:B,mounted:!$&&!!le.opened,duration:le.isGroupPhase?10:it.duration,children:lt=>c.jsxs(G,{...ee,"data-fixed":q==="fixed"||void 0,variant:P,mod:[{multiline:H},oe],...le.getFloatingProps({ref:le.floating,className:qe("tooltip").className,style:{...qe("tooltip").style,...lt,zIndex:W,top:le.y??0,left:le.x??0}}),children:[a,c.jsx(Sr,{ref:we,arrowX:le.arrowX,arrowY:le.arrowY,visible:w,position:le.placement,arrowSize:E,arrowOffset:k,arrowRadius:T,arrowPosition:M,...qe("arrow")})]})})}),u.cloneElement(o,le.getReferenceProps({onClick:I,onMouseEnter:S,onMouseLeave:R,onMouseMove:n.onMouseMove,onPointerDown:n.onPointerDown,onPointerEnter:n.onPointerEnter,[s]:St,className:Ve(x,o.props.className),...o.props}))]})});kt.classes=Qn;kt.displayName="@mantine/core/Tooltip";kt.Floating=Gr;kt.Group=Yl;var Xl={root:"m_18320242","skeleton-fade":"m_299c329c"};const $v={visible:!0,animate:!0},Iv=(e,{width:t,height:n,radius:o,circle:r})=>({root:{"--skeleton-height":j(n),"--skeleton-width":j(r?n:t),"--skeleton-radius":r?"1000px":o===void 0?void 0:me(o)}}),kn=J((e,t)=>{const n=L("Skeleton",$v,e),{classNames:o,className:r,style:s,styles:a,unstyled:i,vars:l,width:d,height:f,circle:p,visible:m,radius:h,animate:g,mod:b,...v}=n,y=Y({name:"Skeleton",classes:Xl,props:n,className:r,style:s,classNames:o,styles:a,unstyled:i,vars:l,varsResolver:Iv});return c.jsx(G,{ref:t,...y("root"),mod:[{visible:m,animate:g},b],...v})});kn.classes=Xl;kn.displayName="@mantine/core/Skeleton";var Ql={root:"m_6d731127"};const Pv={gap:"md",align:"stretch",justify:"flex-start"},Nv=(e,{gap:t,align:n,justify:o})=>({root:{"--stack-gap":zt(t),"--stack-align":n,"--stack-justify":o}}),qt=J((e,t)=>{const n=L("Stack",Pv,e),{classNames:o,className:r,style:s,styles:a,unstyled:i,vars:l,align:d,justify:f,gap:p,variant:m,...h}=n,g=Y({name:"Stack",props:n,classes:Ql,className:r,style:s,classNames:o,styles:a,unstyled:i,vars:l,varsResolver:Nv});return c.jsx(G,{ref:t,...g("root"),variant:m,...h})});qt.classes=Ql;qt.displayName="@mantine/core/Stack";const[_v,Zr]=Ln("Tabs component was not found in the tree");var Yt={root:"m_89d60db1","list--default":"m_576c9d4",list:"m_89d33d6d",panel:"m_b0c91715",tab:"m_4ec4dce6",tabSection:"m_fc420b1f","tab--default":"m_539e827b","list--outline":"m_6772fbd5","tab--outline":"m_b59ab47c","tab--pills":"m_c3381914"};const Hv={},Ur=J((e,t)=>{const n=L("TabsList",Hv,e),{children:o,className:r,grow:s,justify:a,classNames:i,styles:l,style:d,mod:f,...p}=n,m=Zr();return c.jsx(G,{...p,...m.getStyles("list",{className:r,style:d,classNames:i,styles:l,props:n,variant:m.variant}),ref:t,role:"tablist",variant:m.variant,mod:[{grow:s,orientation:m.orientation,placement:m.orientation==="vertical"&&m.placement,inverted:m.inverted},f],"aria-orientation":m.orientation,__vars:{"--tabs-justify":a},children:o})});Ur.classes=Yt;Ur.displayName="@mantine/core/TabsList";const Lv={},Wr=J((e,t)=>{const n=L("TabsPanel",Lv,e),{children:o,className:r,value:s,classNames:a,styles:i,style:l,mod:d,...f}=n,p=Zr(),m=p.value===s,h=p.keepMounted||n.keepMounted||m?o:null;return c.jsx(G,{...f,...p.getStyles("panel",{className:r,classNames:a,styles:i,style:[l,m?void 0:{display:"none"}],props:n}),ref:t,mod:[{orientation:p.orientation},d],role:"tabpanel",id:p.getPanelId(s),"aria-labelledby":p.getTabId(s),children:h})});Wr.classes=Yt;Wr.displayName="@mantine/core/TabsPanel";const Av={},Kr=J((e,t)=>{const n=L("TabsTab",Av,e),{className:o,children:r,rightSection:s,leftSection:a,value:i,onClick:l,onKeyDown:d,disabled:f,color:p,style:m,classNames:h,styles:g,vars:b,mod:v,...y}=n,C=he(),{dir:x}=Ut(),w=Zr(),E=i===w.value,k=M=>{w.onChange(w.allowTabDeactivation&&i===w.value?null:i),l==null||l(M)},T={classNames:h,styles:g,props:n};return c.jsxs(at,{...y,...w.getStyles("tab",{className:o,style:m,variant:w.variant,...T}),disabled:f,unstyled:w.unstyled,variant:w.variant,mod:[{active:E,disabled:f,orientation:w.orientation,inverted:w.inverted,placement:w.orientation==="vertical"&&w.placement},v],ref:t,role:"tab",id:w.getTabId(i),"aria-selected":E,tabIndex:E||w.value===null?0:-1,"aria-controls":w.getPanelId(i),onClick:k,__vars:{"--tabs-color":p?$e(p,C):void 0},onKeyDown:Yi({siblingSelector:'[role="tab"]',parentSelector:'[role="tablist"]',activateOnFocus:w.activateTabWithKeyboard,loop:w.loop,orientation:w.orientation||"horizontal",dir:x,onKeyDown:d}),children:[a&&c.jsx("span",{...w.getStyles("tabSection",T),"data-position":"left",children:a}),r&&c.jsx("span",{...w.getStyles("tabLabel",T),children:r}),s&&c.jsx("span",{...w.getStyles("tabSection",T),"data-position":"right",children:s})]})});Kr.classes=Yt;Kr.displayName="@mantine/core/TabsTab";const fa="Tabs.Tab or Tabs.Panel component was rendered with invalid value or without value",Vv={keepMounted:!0,orientation:"horizontal",loop:!0,activateTabWithKeyboard:!0,allowTabDeactivation:!1,unstyled:!1,inverted:!1,variant:"default",placement:"left"},Ov=(e,{radius:t,color:n,autoContrast:o})=>({root:{"--tabs-radius":me(t),"--tabs-color":$e(n,e),"--tabs-text-color":zg(o,e)?al({color:n,theme:e,autoContrast:o}):void 0}}),Le=J((e,t)=>{const n=L("Tabs",Vv,e),{defaultValue:o,value:r,onChange:s,orientation:a,children:i,loop:l,id:d,activateTabWithKeyboard:f,allowTabDeactivation:p,variant:m,color:h,radius:g,inverted:b,placement:v,keepMounted:y,classNames:C,styles:x,unstyled:w,className:E,style:k,vars:T,autoContrast:M,mod:N,...V}=n,H=Gt(d),[z,W]=bt({value:r,defaultValue:o,finalValue:null,onChange:s}),$=Y({name:"Tabs",props:n,classes:Yt,className:E,style:k,classNames:C,styles:x,unstyled:w,vars:T,varsResolver:Ov});return c.jsx(_v,{value:{placement:v,value:z,orientation:a,id:H,loop:l,activateTabWithKeyboard:f,getTabId:Vs(`${H}-tab`,fa),getPanelId:Vs(`${H}-panel`,fa),onChange:W,allowTabDeactivation:p,variant:m,color:h,radius:g,inverted:b,keepMounted:y,unstyled:w,getStyles:$},children:c.jsx(G,{ref:t,id:H,variant:m,mod:[{orientation:a,inverted:a==="horizontal"&&b,placement:a==="vertical"&&v},N],...$("root"),...V,children:i})})});Le.classes=Yt;Le.displayName="@mantine/core/Tabs";Le.Tab=Kr;Le.Panel=Wr;Le.List=Ur;const Dv={},Jn=J((e,t)=>{const n=L("TextInput",Dv,e);return c.jsx(Ct,{component:"input",ref:t,...n,__staticSelector:"TextInput"})});Jn.classes=Ct.classes;Jn.displayName="@mantine/core/TextInput";const Jl=(e,t,n=!1)=>{const o=[];function r(s,a="--bn"){for(const i in s){const l=i.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase(),d=`${a}-${l}`;typeof s[i]!="object"?(typeof s[i]=="number"&&(s[i]=`${s[i]}px`),n?t.style.removeProperty(d):t.style.setProperty(d,s[i].toString())):r(s[i],d)}}return r(e),o},pa=(e,t)=>Jl(e,t),Bv={colors:{editor:{text:void 0,background:void 0},menu:{text:void 0,background:void 0},tooltip:{text:void 0,background:void 0},hovered:{text:void 0,background:void 0},selected:{text:void 0,background:void 0},disabled:{text:void 0,background:void 0},shadow:void 0,border:void 0,sideMenu:void 0,highlights:{gray:{text:void 0,background:void 0},brown:{text:void 0,background:void 0},red:{text:void 0,background:void 0},orange:{text:void 0,background:void 0},yellow:{text:void 0,background:void 0},green:{text:void 0,background:void 0},blue:{text:void 0,background:void 0},purple:{text:void 0,background:void 0},pink:{text:void 0,background:void 0}}},borderRadius:void 0,fontFamily:void 0},Fv=e=>Jl(Bv,e,!0),ec=e=>c.jsxs(qt,{gap:0,className:"bn-tooltip",children:[c.jsx(Ie,{size:"sm",lineClamp:5,children:e.mainTooltip}),e.secondaryTooltip&&c.jsx(Ie,{size:"xs",lineClamp:5,children:e.secondaryTooltip})]}),Ro=u.forwardRef((e,t)=>{const{className:n,children:o,mainTooltip:r,secondaryTooltip:s,icon:a,isSelected:i,isDisabled:l,onClick:d,label:f,variant:p,...m}=e;U(m,!1);const[h,g]=u.useState(!1),b=o?c.jsx(_e,{"aria-label":f,className:n,onMouseDown:v=>{Ho()&&v.currentTarget.focus()},onClick:v=>{g(!0),d==null||d(v)},onPointerLeave:()=>g(!1),"aria-pressed":i,"data-selected":i||void 0,"data-test":r?r.slice(0,1).toLowerCase()+r.replace(/\s+/g,"").slice(1):void 0,size:p==="compact"?"compact-xs":"xs",disabled:l||!1,ref:t,...m,children:o}):c.jsx(xt,{className:n,"aria-label":f,onMouseDown:v=>{Ho()&&v.currentTarget.focus()},onClick:v=>{g(!0),d==null||d(v)},onPointerLeave:()=>g(!1),"aria-pressed":i,"data-selected":i||void 0,"data-test":r?r.slice(0,1).toLowerCase()+r.replace(/\s+/g,"").slice(1):void 0,size:p==="compact"?20:30,disabled:l||!1,ref:t,...m,children:a});return r?c.jsx(kt,{disabled:h,withinPortal:!1,label:c.jsx(ec,{mainTooltip:r,secondaryTooltip:s}),children:b}):b}),zv=u.forwardRef((e,t)=>{const{className:n,text:o,icon:r,isSelected:s,mainTooltip:a,secondaryTooltip:i,onClick:l,onMouseEnter:d,...f}=e;U(f,!1);const[p,m]=u.useState(!1),h=c.jsxs(Xn,{className:n,checked:s===!0,wrapperProps:{onMouseEnter:d,onMouseLeave:()=>m(!1),onClick:g=>{m(!0),l==null||l(g)}},variant:"light",icon:null,ref:t,children:[c.jsx("span",{children:r}),c.jsx("span",{children:o})]});return!a||p?h:c.jsx(kt,{refProp:"rootRef",withinPortal:!1,label:c.jsx(ec,{mainTooltip:a,secondaryTooltip:i}),children:h})}),Gv=u.forwardRef((e,t)=>{const{className:n,children:o,...r}=e;return U(r),c.jsx(ce,{className:n,ref:t,children:o})}),Zv=u.forwardRef((e,t)=>{const{className:n,children:o,headerText:r,selected:s,onFocus:a,onBlur:i,tabIndex:l,...d}=e;U(d,!1);const f=u.useRef(null);return u.useEffect(()=>{var p;s&&((p=f.current)==null||p.scrollIntoView({behavior:"smooth",block:"center"}))},[s]),c.jsxs(Wt,{className:ie(n,s?"selected":""),onFocus:a,onBlur:i,tabIndex:l,ref:ir([t,f]),children:[r&&c.jsx(Ie,{className:"bn-header-text",children:r}),o]})}),Uv=u.forwardRef((e,t)=>{const{className:n,children:o,...r}=e;return U(r,!1),c.jsx(Wt.Section,{className:n,ref:t,children:o})}),Wv=u.forwardRef((e,t)=>{const{className:n,children:o,...r}=e;return U(r,!1),c.jsx(Ar,{className:n,label:c.jsx(Ie,{children:o}),ref:t})}),Kv=u.forwardRef((e,t)=>{const{authorInfo:n,timeString:o,edited:r,...s}=e;return U(s,!1),n==="loading"?c.jsxs(ce,{children:[c.jsx(kn,{height:24,width:24}),c.jsx("div",{children:c.jsx(kn,{height:12,width:100})})]}):c.jsxs(ce,{children:[c.jsx(Kn,{src:n.avatarUrl,alt:n.username,radius:"xl",size:"sm",color:"initials"}),c.jsxs(Ie,{fz:"sm",fw:"bold",children:[n.username,c.jsxs(Ie,{fz:"xs",c:"dimmed",span:!0,ml:"xs",children:[o," ",r&&"(edited)"]})]})]})}),qv=u.forwardRef((e,t)=>{const{className:n,showActions:o,authorInfo:r,timeString:s,edited:a,actions:i,children:l,...d}=e,{hovered:f,ref:p}=X1(),{focused:m,ref:h}=ol(),g=ir([t,p]);return U(d,!1),c.jsxs(ce,{pos:"relative",ref:g,className:n,children:[i&&(o===!0||o===void 0||o==="hover"&&f||m)?c.jsx(ce,{ref:h,style:{position:"absolute",right:0,top:0,zIndex:10},children:i}):null,c.jsx(Kv,{...e}),l]})}),Yv=u.forwardRef((e,t)=>{const{className:n,autoFocus:o,onFocus:r,onBlur:s,editor:a,editable:i,...l}=e;return U(l,!1),c.jsx(sc,{autoFocus:o,className:n,editor:e.editor,sideMenu:!1,slashMenu:!1,tableHandles:!1,filePanel:!1,formattingToolbar:!1,editable:i,ref:t,onFocus:r,onBlur:s,children:c.jsx($i,{formattingToolbar:Xv})})}),Xv=()=>{const e=Ti([]).filter(t=>t.key!=="nestBlockButton"&&t.key!=="unnestBlockButton");return c.jsx(Ri,{blockTypeSelectItems:[],children:e})},Qv=u.forwardRef((e,t)=>{const{className:n,name:o,label:r,variant:s,icon:a,value:i,autoFocus:l,placeholder:d,disabled:f,onKeyDown:p,onChange:m,onSubmit:h,autoComplete:g,rightSection:b,...v}=e;return U(v),c.jsx(Jn,{size:"xs",className:ie(n||"",s==="large"?"bn-mt-input-large":""),ref:t,name:o,label:r,leftSection:a,value:i,autoFocus:l,"data-autofocus":l?"true":void 0,rightSection:b,placeholder:d,disabled:f,onKeyDown:p,onChange:m,onSubmit:h,autoComplete:g})});var tc={color:void 0,size:void 0,className:void 0,style:void 0,attr:void 0},ma=K.createContext&&K.createContext(tc),Jv=["attr","size","title"];function ey(e,t){if(e==null)return{};var n=ty(e,t),o,r;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(r=0;r<s.length;r++)o=s[r],!(t.indexOf(o)>=0)&&Object.prototype.propertyIsEnumerable.call(e,o)&&(n[o]=e[o])}return n}function ty(e,t){if(e==null)return{};var n={};for(var o in e)if(Object.prototype.hasOwnProperty.call(e,o)){if(t.indexOf(o)>=0)continue;n[o]=e[o]}return n}function Sn(){return Sn=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])}return e},Sn.apply(this,arguments)}function ha(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter(function(r){return Object.getOwnPropertyDescriptor(e,r).enumerable})),n.push.apply(n,o)}return n}function jn(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?ha(Object(n),!0).forEach(function(o){ny(e,o,n[o])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ha(Object(n)).forEach(function(o){Object.defineProperty(e,o,Object.getOwnPropertyDescriptor(n,o))})}return e}function ny(e,t,n){return t=oy(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function oy(e){var t=ry(e,"string");return typeof t=="symbol"?t:t+""}function ry(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var o=n.call(e,t);if(typeof o!="object")return o;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function nc(e){return e&&e.map((t,n)=>K.createElement(t.tag,jn({key:n},t.attr),nc(t.child)))}function oc(e){return t=>K.createElement(sy,Sn({attr:jn({},e.attr)},t),nc(e.child))}function sy(e){var t=n=>{var{attr:o,size:r,title:s}=e,a=ey(e,Jv),i=r||n.size||"1em",l;return n.className&&(l=n.className),e.className&&(l=(l?l+" ":"")+e.className),K.createElement("svg",Sn({stroke:"currentColor",fill:"currentColor",strokeWidth:"0"},n.attr,o,a,{className:l,style:jn(jn({color:e.color||n.color},n.style),e.style),height:i,width:i,xmlns:"http://www.w3.org/2000/svg"}),s&&K.createElement("title",null,s),e.children)};return ma!==void 0?K.createElement(ma.Consumer,null,n=>t(n)):t(tc)}function ay(e){return oc({attr:{viewBox:"0 0 20 20",fill:"currentColor","aria-hidden":"true"},child:[{tag:"path",attr:{fillRule:"evenodd",d:"M5.293 7.293a1 1 0 011.414 0L10 10.586l3.293-3.293a1 1 0 111.414 1.414l-4 4a1 1 0 01-1.414 0l-4-4a1 1 0 010-1.414z",clipRule:"evenodd"},child:[]}]})(e)}function iy(e){return oc({attr:{viewBox:"0 0 20 20",fill:"currentColor","aria-hidden":"true"},child:[{tag:"path",attr:{fillRule:"evenodd",d:"M7.293 14.707a1 1 0 010-1.414L10.586 10 7.293 6.707a1 1 0 011.414-1.414l4 4a1 1 0 010 1.414l-4 4a1 1 0 01-1.414 0z",clipRule:"evenodd"},child:[]}]})(e)}const rc=u.createContext(void 0),ly=u.forwardRef((e,t)=>{const{children:n,onOpenChange:o,position:r,sub:s,...a}=e;U(a);const[i,l]=u.useState(!1),d=u.useRef(null),f=u.useRef(),p=u.useCallback(()=>{f.current&&clearTimeout(f.current),f.current=setTimeout(()=>{l(!1)},250)},[]),m=u.useCallback(()=>{f.current&&clearTimeout(f.current),l(!0)},[]);return c.jsx(rc.Provider,{value:{onMenuMouseOver:m,onMenuMouseLeave:p},children:c.jsx(ae.Item,{className:"bn-menu-item bn-mt-sub-menu-item",ref:Zt(t,d),onMouseOver:m,onMouseLeave:p,children:c.jsx(ae,{portalProps:{target:d.current?d.current.parentElement:void 0},middlewares:{flip:!0,shift:!0,inline:!1,size:!0},trigger:"hover",opened:i,onChange:o,position:r,children:n})})})}),cy=e=>{const{children:t,onOpenChange:n,position:o,sub:r,...s}=e;return U(s),r?c.jsx(ly,{...e}):c.jsx(ae,{withinPortal:!1,middlewares:{flip:!0,shift:!0,inline:!1,size:!0},onChange:n,position:o,children:t})},dy=u.forwardRef((e,t)=>{const{className:n,children:o,icon:r,checked:s,subTrigger:a,onClick:i,...l}=e;return U(l,!1),a?c.jsxs("div",{onClick:d=>{d.preventDefault(),d.stopPropagation()},ref:t,...l,children:[o,c.jsx(iy,{size:15})]}):c.jsx(ae.Item,{className:n,ref:t,leftSection:r,rightSection:s?c.jsx(Pr,{size:10}):s===!1?c.jsx("div",{className:"bn-tick-space"}):null,onClick:i,...l,children:o})}),uy=e=>{const{children:t,sub:n,...o}=e;return U(o),c.jsx(ae.Target,{children:t})},fy=u.forwardRef((e,t)=>{const{className:n,children:o,sub:r,...s}=e;U(s);const a=u.useContext(rc);return c.jsx(ae.Dropdown,{className:n,ref:t,onMouseOver:a==null?void 0:a.onMenuMouseOver,onMouseLeave:a==null?void 0:a.onMenuMouseLeave,children:o})}),py=u.forwardRef((e,t)=>{const{className:n,...o}=e;return U(o),c.jsx(ae.Divider,{className:n,ref:t})}),my=u.forwardRef((e,t)=>{const{className:n,children:o,...r}=e;return U(r),c.jsx(ae.Label,{className:n,ref:t,children:o})}),hy=u.forwardRef((e,t)=>{const{className:n,children:o,icon:r,onClick:s,onDragEnd:a,onDragStart:i,draggable:l,label:d,...f}=e;return U(f,!1),r?c.jsx(xt,{size:24,className:n,ref:t,onClick:s,onDragEnd:a,onDragStart:i,draggable:l,"aria-label":d,...f,children:r}):c.jsx(_e,{className:n,ref:t,onClick:s,onDragEnd:a,onDragStart:i,draggable:l,"aria-label":d,...f,children:o})}),gy=u.forwardRef((e,t)=>{const{className:n,tabs:o,defaultOpenTab:r,openTab:s,setOpenTab:a,loading:i,...l}=e;return U(l),c.jsx(ce,{className:n,ref:t,children:c.jsxs(Le,{value:s,defaultValue:r,onChange:a,children:[i&&c.jsx(Or,{visible:i}),c.jsx(Le.List,{children:o.map(d=>c.jsx(Le.Tab,{"data-test":`${d.name.toLowerCase()}-tab`,value:d.name,children:d.name},d.name))}),o.map(d=>c.jsx(Le.Panel,{value:d.name,children:d.tabPanel},d.name))]})})}),by=u.forwardRef((e,t)=>{const{className:n,children:o,onClick:r,label:s,...a}=e;return U(a),c.jsx(_e,{size:"xs","aria-label":s,className:n,ref:t,onClick:r,...a,children:o})}),vy=u.forwardRef((e,t)=>{const{className:n,accept:o,value:r,placeholder:s,onChange:a,...i}=e;return U(i),c.jsx(dv,{size:"xs",className:n,ref:t,accept:o,value:r,placeholder:s,onChange:a,...i})}),yy=u.forwardRef((e,t)=>{const{className:n,children:o,...r}=e;return U(r),c.jsx("div",{className:n,ref:t,children:o})}),xy=u.forwardRef((e,t)=>{const{className:n,value:o,placeholder:r,onKeyDown:s,onChange:a,...i}=e;return U(i),c.jsx(Jn,{size:"xs","data-test":"embed-input",className:n,ref:t,value:o,placeholder:r,onKeyDown:s,onChange:a})}),Cy=e=>{const{opened:t,position:n,children:o,...r}=e;return U(r),c.jsx(We,{withinPortal:!1,opened:t,position:n,children:o})},wy=e=>{const{children:t,...n}=e;return U(n),c.jsx(Mr,{children:t})},ky=u.forwardRef((e,t)=>{const{className:n,children:o,variant:r,...s}=e;return U(s),c.jsx(Bn,{className:n,ref:t,children:o})}),Sy=u.forwardRef((e,t)=>{const{className:n,children:o,...r}=e;return U(r,!1),c.jsx(ce,{align:"center",gap:0,className:n,ref:t,...r,children:o})}),jy=u.forwardRef((e,t)=>{const{className:n,children:o,icon:r,onClick:s,onDragEnd:a,onDragStart:i,draggable:l,label:d,...f}=e;return U(f,!1),r?c.jsx(xt,{size:24,className:n,ref:t,onClick:s,onDragEnd:a,onDragStart:i,draggable:l,"aria-label":d,...f,children:r}):c.jsx(_e,{className:n,ref:t,onClick:s,onDragEnd:a,onDragStart:i,draggable:l,"aria-label":d,...f,children:o})}),My=u.forwardRef((e,t)=>{const{className:n,children:o,id:r,...s}=e;return U(s),c.jsx(qt,{gap:0,className:n,ref:t,id:r,role:"listbox",children:o})}),Ey=u.forwardRef((e,t)=>{const{className:n,children:o,...r}=e;return U(r),c.jsx(ce,{className:n,ref:t,children:c.jsx(ce,{className:"bn-mt-suggestion-menu-item-title",children:o})})}),Ty=u.forwardRef((e,t)=>{const{className:n,isSelected:o,onClick:r,item:s,id:a,...i}=e;U(i);const l=u.useRef(null);return u.useEffect(()=>{if(!l.current||!o)return;const d=Ui(l.current,document.querySelector(".bn-suggestion-menu, #ai-suggestion-menu"));d==="top"?l.current.scrollIntoView(!0):d==="bottom"&&l.current.scrollIntoView(!1)},[o]),c.jsxs(ce,{gap:0,className:n,ref:Zt(t,l),id:a,role:"option",onMouseDown:d=>d.preventDefault(),onClick:r,"aria-selected":o||void 0,children:[s.icon&&c.jsx(ce,{className:"bn-mt-suggestion-menu-item-section","data-position":"left",children:s.icon}),c.jsxs(qt,{gap:0,className:"bn-mt-suggestion-menu-item-body",children:[c.jsx(Ie,{className:"bn-mt-suggestion-menu-item-title",children:s.title}),c.jsx(Ie,{className:"bn-mt-suggestion-menu-item-subtitle",children:s.subtext})]}),s.badge&&c.jsx(ce,{"data-position":"right",className:"bn-mt-suggestion-menu-item-section",children:c.jsx(_r,{size:"xs",children:s.badge})})]})}),Ry=u.forwardRef((e,t)=>{const{className:n,children:o,...r}=e;return U(r),c.jsx(ce,{className:n,ref:t,children:o})}),$y=u.forwardRef((e,t)=>{const{className:n,...o}=e;return U(o),c.jsx(Ke,{className:n,type:"dots",size:16,ref:t})}),Iy=u.forwardRef((e,t)=>{const{className:n,children:o,id:r,columns:s,...a}=e;return U(a),c.jsx("div",{className:n,style:{gridTemplateColumns:`repeat(${s}, 1fr)`},ref:t,id:r,role:"grid",children:o})}),Py=u.forwardRef((e,t)=>{const{className:n,children:o,columns:r,...s}=e;return U(s),c.jsx(ce,{className:n,style:{gridColumn:`1 / ${r+1}`},ref:t,children:c.jsx(ce,{className:"bn-mt-suggestion-menu-item-title",children:o})})}),Ny=u.forwardRef((e,t)=>{const{className:n,isSelected:o,onClick:r,item:s,id:a,...i}=e;U(i);const l=u.useRef(null);return u.useEffect(()=>{if(!l.current||!o)return;const d=Ui(l.current,document.querySelector(".bn-grid-suggestion-menu"));d==="top"?l.current.scrollIntoView(!0):d==="bottom"&&l.current.scrollIntoView(!1)},[o]),c.jsx("div",{className:n,ref:Zt(t,l),id:a,role:"option",onClick:r,"aria-selected":o||void 0,children:s.icon})}),_y=u.forwardRef((e,t)=>{const{className:n,children:o,columns:r,...s}=e;return U(s),c.jsx(Ke,{className:n,style:{gridColumn:`1 / ${r+1}`},type:"dots",ref:t})}),Hy=u.forwardRef((e,t)=>{const{children:n,className:o,onMouseDown:r,onClick:s,...a}=e;return U(a,!1),c.jsx(_e,{className:o,ref:t,onMouseDown:r,onClick:s,...a,children:n})}),Ly=u.forwardRef((e,t)=>{const{className:n,children:o,draggable:r,onDragStart:s,onDragEnd:a,style:i,label:l,...d}=e;return U(d,!1),c.jsx(_e,{className:n,ref:t,"aria-label":l,draggable:r,onDragStart:s,onDragEnd:a,style:i,...d,children:o})}),$o=u.forwardRef((e,t)=>{const{className:n,children:o,onMouseEnter:r,onMouseLeave:s,variant:a,...i}=e;U(i);const{ref:l,focused:d}=ol(),f=nl(d),p=Zt(t,l,f);return c.jsx(Ir,{className:n,ref:p,role:"toolbar",onMouseEnter:r,onMouseLeave:s,gap:a==="action-toolbar"?2:void 0,children:o})}),Io=u.forwardRef((e,t)=>{const{className:n,items:o,isDisabled:r,...s}=e;U(s);const a=o.filter(i=>i.isSelected)[0];return a?c.jsxs(ae,{withinPortal:!1,transitionProps:{exitDuration:0},disabled:r,middlewares:{flip:!0,shift:!0,inline:!1,size:!0},children:[c.jsx(ae.Target,{children:c.jsx(_e,{onMouseDown:i=>{Ho()&&i.currentTarget.focus()},leftSection:a.icon,rightSection:c.jsx(ay,{}),size:"xs",variant:"subtle",disabled:r,children:a.text})}),c.jsx(ae.Dropdown,{className:n,ref:t,children:o.map(i=>c.jsx(ae.Item,{onClick:i.onClick,leftSection:i.icon,rightSection:i.isSelected?c.jsx(Pr,{size:10,className:"bn-tick-icon"}):c.jsx("div",{className:"bn-tick-space"}),disabled:i.isDisabled,children:i.text},i.text))})]}):null}),Ay={FormattingToolbar:{Root:$o,Button:Ro,Select:Io},FilePanel:{Root:gy,Button:by,FileInput:vy,TabPanel:yy,TextInput:xy},GridSuggestionMenu:{Root:Iy,Item:Ny,EmptyItem:Py,Loader:_y},LinkToolbar:{Root:$o,Button:Ro,Select:Io},SideMenu:{Root:Sy,Button:jy},SuggestionMenu:{Root:My,Item:Ty,EmptyItem:Ey,Label:Ry,Loader:$y},TableHandle:{Root:Ly,ExtendButton:Hy},Generic:{Badge:{Root:zv,Group:Gv},Form:{Root:e=>c.jsx("div",{children:e.children}),TextInput:Qv},Menu:{Root:cy,Trigger:uy,Dropdown:fy,Divider:py,Label:my,Item:dy,Button:hy},Popover:{Root:Cy,Trigger:wy,Content:ky},Toolbar:{Root:$o,Button:Ro,Select:Io}},Comments:{Comment:qv,Editor:Yv,Card:Zv,CardSection:Uv,ExpandSectionsPrompt:Wv}},Vy={activeClassName:""},sc=e=>{const{className:t,theme:n,...o}=e,r=Ne(),s=Fi(),a=(r==null?void 0:r.colorSchemePreference)||s,i=u.useCallback(d=>{if(d&&(Fv(d),typeof n=="object")){if("light"in n&&"dark"in n){pa(n[a==="dark"?"dark":"light"],d);return}pa(n,d);return}},[a,n]),l=typeof n=="string"?n:a!=="no-preference"?a:"light";return c.jsx(ui.Provider,{value:Ay,children:c.jsx(cl,{theme:Vy,cssVariablesSelector:".bn-mantine",getRootElement:()=>{},children:c.jsx(qh,{"data-mantine-color-scheme":l,className:ie("bn-mantine",t||""),theme:typeof n=="object"?void 0:n,...o,ref:i})})})},Oy={"Heading 1":pu,"Heading 2":fu,"Heading 3":uu,Quote:du,"Numbered List":cu,"Bullet List":sd,"Check List":lu,"Code Block":mu,Paragraph:iu,Table:rd,Image:od,Video:nd,Audio:td,Emoji:au},Dy=e=>[...Di(e).map(n=>({...n,Icon:Oy[n.title]})),{title:"File",aliases:["file","folder"],Icon:ed,onItemClick:()=>{const n=e.getTextCursorPosition().block;e.insertBlocks([{type:"file",props:{url:void 0}}],n,"before")}}],By=({editor:e,children:t})=>{const n=A();if(!n)return null;const o=()=>{const r=e.getTextCursorPosition().block,s=r==null?void 0:r.content,[a]=s||[];a===void 0?e.openSuggestionMenu("/"):(e.openSuggestionMenu("/"),e.sideMenu.unfreezeMenu())};return Q(n.Generic.Menu.Item,{onClick:o,children:t})},Fy=Ae.div`
  color: ${({theme:e,Variant:t})=>t==="danger"?e.color.red:"inherit"};
  align-items: center;
  display: flex;
  flex-direction: row;
  gap: ${({theme:e})=>e.spacing(2)};
`,zy=Ae.div``,Po=({LeftIcon:e,Variant:t,text:n})=>{const o=_a();return Be(Fy,{Variant:t,children:[Q(e,{size:o.icon.size.md,stroke:o.icon.stroke.sm}),Q(zy,{children:n})]})},Gy=Ae.div`
  width: ${({theme:e})=>e.spacing(2)};
`,Zy=({editor:e})=>Q(Ai,{sideMenu:t=>Be(Li,{...t,children:[Q(Hi,{...t,dragHandleMenu:n=>Be(_i,{...n,children:[Q(By,{editor:e,children:Q(Po,{LeftIcon:ad,text:"Add Block",Variant:"normal"})}),Q(Pi,{...n,children:Q(Po,{LeftIcon:id,text:"Change Color",Variant:"normal"})}),Be(Ni,{...n,children:[" ",Q(Po,{LeftIcon:ld,text:"Delete",Variant:"danger"})]})]})}),Q(Gy,{})]})}),Wo="editor-slash-menu-list",Uy=({item:e})=>{const{resetSelectedItem:t}=Ha(Wo),n=cd(dd,e.title),o=()=>{t(),e.onItemClick()};return Q(fd,{itemId:e.title,onEnter:o,children:Q(ud,{selected:n,onClick:o,LeftIcon:e.Icon,text:e.title})})},Wy=Ae.div`
  height: 1px;
  width: 1px;
`,Ky=({items:e,selectedIndex:t})=>{const{refs:n,floatingStyles:o}=pd({placement:"bottom-start",whileElementsMounted:Pa}),{setSelectedItemId:r}=Ha(Wo);return u.useEffect(()=>{if(!xe(t))return;const s=e[t];xe(s)&&r(s.title)},[e,t,r]),Q(Wy,{ref:n.setReference,children:Te.createPortal(Q(md.div,{initial:{opacity:0},animate:{opacity:1},transition:{duration:.1},children:Q(hd,{ref:n.setFloating,style:o,"data-click-outside-id":ts,children:Q(gd,{children:Q(bd,{hasMaxHeight:!0,children:Q(vd,{focusId:ts,selectableListInstanceId:Wo,selectableItemIdArray:e.map(s=>s.title),children:e.map(s=>Q(Uy,{item:s},s.title))})})})})}),document.body)})},qy=Ae.div`
  width: 100%;

  & .editor {
    background: ${({theme:e})=>e.background.primary};
    font-size: 13px;
    color: ${({theme:e})=>e.font.color.primary};
    min-height: 400px;
  }
  & .editor [class^='_inlineContent']:before {
    color: ${({theme:e})=>e.font.color.tertiary};
    font-style: normal !important;
  }
  & .editor .bn-inline-content:has(> .ProseMirror-trailingBreak):before {
    font-style: normal;
  }
  & .mantine-ActionIcon-icon {
    height: 20px;
    width: 20px;
    background: transparent;
  }
  & .bn-container .bn-drag-handle {
    width: 20px;
    height: 20px;
  }
  & .bn-block-content[data-content-type='checkListItem'] > div > div {
    display: flex;
    align-items: center;
  }
  & .bn-drag-handle-menu {
    background: ${({theme:e})=>e.background.transparent.secondary};
    backdrop-filter: ${({theme:e})=>e.blur.medium};
    box-shadow:
      0px 2px 4px rgba(0, 0, 0, 0.04),
      2px 4px 16px rgba(0, 0, 0, 0.12);
    min-width: 160px;
    min-height: 96px;
    padding: 4px;
    border-radius: 8px;
    border: 1px solid ${({theme:e})=>e.border.color.medium};
    left: 26px;
  }

  & .bn-editor {
    padding-inline: 0px;
  }

  & .bn-inline-content {
    width: 100%;
  }

  & .bn-container .bn-suggestion-menu-item:hover {
    background-color: blue;
  }

  & .bn-suggestion-menu {
    padding: 4px;
    border-radius: 8px;
    border: 1px solid ${({theme:e})=>e.border.color.medium};
    background: ${({theme:e})=>e.background.transparent.secondary};
    backdrop-filter: ${({theme:e})=>e.blur.medium};
  }

  & .mantine-Menu-item {
    background-color: transparent;
    min-width: 152px;
    min-height: 32px;

    font-style: normal;
    font-family: ${({theme:e})=>e.font.family};
    font-weight: ${({theme:e})=>e.font.weight.regular};
    color: ${({theme:e})=>e.font.color.secondary};
  }
  & .mantine-ActionIcon-root:hover {
    box-shadow:
      0px 0px 4px rgba(0, 0, 0, 0.08),
      0px 2px 4px rgba(0, 0, 0, 0.04);
    background: ${({theme:e})=>e.background.transparent.primary};
    backdrop-filter: blur(20px);
    border: 1px solid ${({theme:e})=>e.border.color.light};
  }
  & .bn-side-menu .mantine-UnstyledButton-root:not(.mantine-Menu-item) svg {
    height: 16px;
    width: 16px;
  }

  & .bn-mantine .bn-side-menu > [draggable='true'] {
    margin-bottom: 5px;
  }
  & .bn-color-picker-dropdown {
    margin-left: 8px;
  }

  & .bn-inline-content a {
    color: ${({theme:e})=>e.color.blue};
  }

  & .bn-inline-content code {
    font-family: monospace;
    color: ${({theme:e})=>e.font.color.danger};
    padding: 2px 4px;
    border-radius: 4px;
    border: 1px solid ${({theme:e})=>e.font.color.extraLight};
    font-size: 0.9rem;
    background-color: ${({theme:e})=>e.background.transparent.light};
  }
`,Yy=({editor:e,onFocus:t,onBlur:n,onChange:o,onPaste:r,readonly:s})=>{const i=_a().name==="light"?"light":"dark";return Q(qy,{children:Be(sc,{onFocus:()=>{t==null||t()},onBlur:()=>{n==null||n()},onPaste:m=>{r==null||r(m)},onChange:()=>{o==null||o()},editor:e,theme:i,slashMenu:!1,sideMenu:!1,editable:!s,children:[Q(Zy,{editor:e}),Q(Bi,{triggerCharacter:"/",getItems:async m=>La(Dy(e),m),suggestionMenuComponent:Ky})]})})},r2=({activityId:e,activityObjectNameSingular:t})=>{const[n]=fn(Nt(e)),o=Mn().cache,r=n,{objectMetadataItem:s}=un({objectNameSingular:t}),a=yd({recordId:e,objectMetadataId:s.id}),i=xd({objectNameSingular:t,isRecordReadOnly:a,isCustom:s.isCustom}),{deleteManyRecords:l}=Cd({objectNameSingular:Ye.Attachment}),{restoreManyRecords:d}=wd({objectNameSingular:Ye.Attachment}),{pushFocusItemToFocusStack:f}=kd(),{removeFocusItemFromFocusStackById:p}=Sd(),{fetchAllRecords:m}=jd({objectNameSingular:Ye.Attachment,filter:{deletedAt:{is:"NOT_NULL"}}}),{updateOneRecord:h}=Ca({objectNameSingular:Ye.Attachment}),{upsertActivity:g}=Cu({activityObjectNameSingular:t}),b=ns(S=>{if(i)return;const R={bodyV2:{blocknote:S,markdown:null}};xe(r)&&g({activity:r,input:R})},300),[v,y]=fn(wu),{uploadAttachmentFile:C}=Md(),x=async S=>await C(S,{id:e,targetObjectNameSingular:t}),w=S=>{if(!S)return S;const D=JSON.parse(S).map(P=>{if(P.type!=="image"||!P.props.url)return P;const B=P.props,X=new URL(B.url);return{...P,props:{...B,url:`${X.toString()}`}}});return JSON.stringify(D)},E=u.useCallback(S=>{v||y(!0),b(w(S))},[b,y,v]),k=Pt(({set:S,snapshot:R})=>async D=>{const P=R.getLoadable(Nt(e)).getValue();S(Nt(e),oe=>({...oe,id:e,bodyV2:{blocknote:D,markdown:null},__typename:"Activity"})),va({recordId:e,fieldModifiers:{bodyV2:()=>({blocknote:D,markdown:null})},cache:o,objectMetadataItem:s}),E(D);const B=k1(D,P==null?void 0:P.attachments,P==null?void 0:P.bodyV2.blocknote);B.length>0&&await l({recordIdsToDelete:B});const X=S1(D,P==null?void 0:P.attachments);if(X.length>0){const oe=await m(),q=C1(X,oe);await d({idsToRestore:q})}const ne=w1(D,P==null?void 0:P.attachments);if(ne.length>0)for(const oe of ne)oe.id&&await h({idToUpdate:oe.id,updateOneRecordInput:{name:oe.name}})},[e,o,s,E,l,d,m,h]),T=ns(k,500),M=()=>{const S=JSON.stringify(H.document)??"";T(S)},N=u.useMemo(()=>{var R;const S=(R=r==null?void 0:r.bodyV2)==null?void 0:R.blocknote;if(xe(r)&&tt.isNonEmptyString(S)&&S!=="{}"){let D;try{D=JSON.parse(S)}catch{console.warn(`Failed to parse body for activity ${e}, for rich text version 'v2'`),console.warn(S)}return tt.isArray(D)&&D.length===0?void 0:D}},[r,e]),H=In({initialContent:N,domAttributes:{editor:{class:"editor"}},schema:v1,uploadFile:async S=>{const{attachmentAbsoluteURL:R}=await x(S);return R}});os({keys:rs.Key.Escape,callback:()=>{var S;(S=H.domElement)==null||S.blur()},focusId:e,dependencies:[H]});const z=S=>{if(S.key===rs.Key.Escape||!(!Id(S.key)&&!S.ctrlKey&&!S.metaKey))return;S.preventDefault(),S.stopPropagation(),S.stopImmediatePropagation();const D=Pd(),P={id:D,type:"paragraph",content:S.key},B=H.document[H.document.length-1];H.insertBlocks([P],B),H.setTextCursorPosition(D,"end"),H.focus()};os({keys:"*",callback:z,focusId:Ed,dependencies:[z]});const{labelIdentifierFieldMetadataItem:W}=Td({objectNameSingular:t,objectRecordId:e}),$=Rd({recordId:e,fieldName:W==null?void 0:W.id,prefix:"activity-rich-text-editor"}),_=Pt(({snapshot:S})=>()=>{var D;if(S.getLoadable(ss($)).getValue()){(D=H.domElement)==null||D.blur();return}f({component:{instanceId:e,type:$d.ACTIVITY_RICH_TEXT_EDITOR},focusId:e,globalHotkeysConfig:{enableGlobalHotkeysConflictingWithKeyboard:!1}})},[$,e,H,f]),I=Pt(({snapshot:S})=>()=>{S.getLoadable(ss($)).getValue()||p({focusId:e})},[e,$,p]);return Be(Ia,{children:[Q(x1,{editor:H,activityId:e}),Q(Yy,{onFocus:_,onBlur:I,onChange:M,editor:H,readonly:i})]})};export{r2 as ActivityRichTextEditor};
